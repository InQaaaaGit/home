/*! For license information please see full-schedule-app-lazy.min.js.LICENSE.txt */
define(["core/ajax","core/localstorage","core/notification"],(e,t,n)=>(()=>{var a={62:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(601),r=n.n(a),i=n(314),o=n.n(i)()(r());o.push([e.id,"\n.schedule-toolbar[data-v-c1c1bc0e] {\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  border-bottom: 2px solid #dee2e6;\n  padding: 16px 24px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n.toolbar-container[data-v-c1c1bc0e] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  align-items: stretch;\n}\n.role-selector[data-v-c1c1bc0e] {\n  display: flex;\n  gap: 10px;\n  justify-content: center;\n  padding: 12px;\n  background-color: #fff;\n  border: 2px solid #ced4da;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n.role-button[data-v-c1c1bc0e] {\n  display: flex;\n}\n.role-btn[data-v-c1c1bc0e] {\n  padding: 10px 20px;\n  border: 2px solid #ced4da;\n  border-radius: 6px;\n  background-color: #fff;\n  color: #495057;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-width: 140px;\n  text-align: center;\n}\n.role-btn[data-v-c1c1bc0e]:hover:not(:disabled) {\n  border-color: #007bff;\n  color: #007bff;\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 123, 255, 0.2);\n}\n.role-btn.active[data-v-c1c1bc0e] {\n  background-color: #007bff;\n  border-color: #007bff;\n  color: #fff;\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);\n}\n.role-btn[data-v-c1c1bc0e]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n.filters-section[data-v-c1c1bc0e] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  align-items: flex-end; /* Прижимаем все элементы к низу */\n  background-color: #fff;\n  border: 2px solid #ced4da;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n.filter-group[data-v-c1c1bc0e] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  min-width: 140px;\n  flex: 1; /* Равномерно распределяем пространство */\n}\n.filter-label[data-v-c1c1bc0e] {\n  font-size: 14px;\n  font-weight: 500;\n  color: #495057;\n  margin-bottom: 2px;\n}\n\n/* Специальные стили для групп с кнопками */\n.filter-group[data-v-c1c1bc0e]:has(.quick-filters),\n.filter-group[data-v-c1c1bc0e]:has(.show-schedule-btn),\n.filter-group[data-v-c1c1bc0e]:has(.auto-update-label) {\n  justify-content: flex-end; /* Прижимаем кнопки к низу */\n  min-height: 60px; /* Минимальная высота для выравнивания */\n}\n\n/* Стили для кнопок, чтобы они занимали всю доступную высоту */\n.quick-filters[data-v-c1c1bc0e] {\n  display: flex;\n  gap: 8px;\n  align-items: flex-end; /* Прижимаем к низу */\n}\n.show-schedule-btn[data-v-c1c1bc0e] {\n  padding: 10px 20px;\n  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);\n  border: none;\n  border-radius: 6px;\n  color: #fff;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  min-width: 160px;\n  justify-content: center;\n  height: 42px; /* Фиксированная высота для выравнивания */\n}\n.auto-update-label[data-v-c1c1bc0e] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  color: #495057;\n  cursor: pointer;\n  height: 42px; /* Фиксированная высота для выравнивания */\n  align-items: flex-end; /* Прижимаем к низу */\n}\n.filter-select[data-v-c1c1bc0e],\n.filter-input[data-v-c1c1bc0e],\n.date-input[data-v-c1c1bc0e] {\n  padding: 8px 12px;\n  border: 2px solid #ced4da;\n  border-radius: 6px;\n  font-size: 14px;\n  background-color: #fff;\n  transition: all 0.2s ease;\n  height: 42px; /* Фиксированная высота для выравнивания */\n  box-sizing: border-box;\n}\n.filter-select[data-v-c1c1bc0e]:focus,\n.filter-input[data-v-c1c1bc0e]:focus,\n.date-input[data-v-c1c1bc0e]:focus {\n  outline: none;\n  border-color: #007bff;\n  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);\n}\n.filter-select[data-v-c1c1bc0e]:disabled,\n.filter-input[data-v-c1c1bc0e]:disabled,\n.date-input[data-v-c1c1bc0e]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  background-color: #f8f9fa;\n}\n\n/* Searchable Dropdown */\n.searchable-dropdown[data-v-c1c1bc0e] {\n  position: relative;\n}\n.dropdown-list[data-v-c1c1bc0e] {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background-color: #fff;\n  border: 2px solid #ced4da;\n  border-top: none;\n  border-radius: 0 0 6px 6px;\n  max-height: 200px;\n  overflow-y: auto;\n  z-index: 1000;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n.dropdown-item[data-v-c1c1bc0e] {\n  padding: 8px 12px;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n  color: #495057; /* Явно задаем цвет текста */\n}\n.dropdown-item[data-v-c1c1bc0e]:hover {\n  background-color: #e3f2fd; /* Светло-голубой фон при наведении */\n  color: #1976d2; /* Темно-синий текст при наведении */\n}\n.dropdown-item.selected[data-v-c1c1bc0e] {\n  background-color: #007bff;\n  color: #fff;\n}\n.dropdown-item.selected[data-v-c1c1bc0e]:hover {\n  background-color: #0056b3; /* Темнее при наведении на выбранный элемент */\n  color: #fff;\n}\n.dropdown-loading[data-v-c1c1bc0e] {\n  padding: 12px;\n  text-align: center;\n  color: #6c757d;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n.dropdown-loading .loading-spinner[data-v-c1c1bc0e] {\n  width: 14px;\n  height: 14px;\n  border: 2px solid #6c757d;\n  border-top: 2px solid transparent;\n  border-radius: 50%;\n  animation: spin-c1c1bc0e 1s linear infinite;\n}\n.dropdown-empty[data-v-c1c1bc0e] {\n  padding: 12px;\n  text-align: center;\n  color: #6c757d;\n  font-size: 14px;\n  font-style: italic;\n}\n\n/* Date Range Picker */\n.date-range-picker[data-v-c1c1bc0e] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.date-input[data-v-c1c1bc0e] {\n  padding: 8px 12px;\n  border: 2px solid #ced4da;\n  border-radius: 6px;\n  font-size: 14px;\n  background-color: #fff;\n  transition: all 0.2s ease;\n  min-width: 130px;\n}\n.date-input[data-v-c1c1bc0e]:focus {\n  outline: none;\n  border-color: #007bff;\n  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);\n}\n.date-separator[data-v-c1c1bc0e] {\n  font-weight: 600;\n  color: #6c757d;\n}\n\n/* Quick Filters */\n.quick-filters[data-v-c1c1bc0e] {\n  display: flex;\n  gap: 8px;\n}\n.quick-filter-btn[data-v-c1c1bc0e] {\n  padding: 8px 12px;\n  border: 2px solid #ced4da;\n  border-radius: 6px;\n  background-color: #fff;\n  color: #495057;\n  font-size: 12px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  height: 42px; /* Фиксированная высота для выравнивания */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 60px;\n}\n.quick-filter-btn[data-v-c1c1bc0e]:hover {\n  border-color: #007bff;\n  color: #007bff;\n}\n.quick-filter-btn.active[data-v-c1c1bc0e] {\n  background-color: #007bff;\n  border-color: #007bff;\n  color: #fff;\n}\n.quick-filter-btn[data-v-c1c1bc0e]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n/* Show Schedule Button */\n.show-schedule-btn[data-v-c1c1bc0e] {\n  padding: 10px 20px;\n  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);\n  border: none;\n  border-radius: 6px;\n  color: #fff;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  min-width: 160px;\n  justify-content: center;\n  height: 42px; /* Фиксированная высота для выравнивания */\n}\n.show-schedule-btn[data-v-c1c1bc0e]:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\n}\n.show-schedule-btn[data-v-c1c1bc0e]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/* Loading Spinner */\n.loading-spinner[data-v-c1c1bc0e] {\n  width: 16px;\n  height: 16px;\n  border: 2px solid #fff;\n  border-top: 2px solid transparent;\n  border-radius: 50%;\n  animation: spin-c1c1bc0e 1s linear infinite;\n}\n@keyframes spin-c1c1bc0e {\n0% { transform: rotate(0deg);\n}\n100% { transform: rotate(360deg);\n}\n}\n\n/* Auto Update Checkbox */\n.auto-update-label[data-v-c1c1bc0e] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  color: #495057;\n  cursor: pointer;\n  height: 42px; /* Фиксированная высота для выравнивания */\n  align-items: flex-end; /* Прижимаем к низу */\n}\n.auto-update-checkbox[data-v-c1c1bc0e] {\n  width: 16px;\n  height: 16px;\n  accent-color: #007bff;\n}\n\n/* Active Filters */\n.active-filters[data-v-c1c1bc0e] {\n  margin-top: 16px;\n  padding: 12px 16px;\n  background-color: #e3f2fd;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.active-filters-header[data-v-c1c1bc0e] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n.active-filters-header span[data-v-c1c1bc0e] {\n  font-size: 14px;\n  font-weight: 500;\n  color: #1976d2;\n}\n.active-filters-list[data-v-c1c1bc0e] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.filter-tag[data-v-c1c1bc0e] {\n  background-color: #e0f2f7;\n  color: #007bff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.filter-tag .clear-filters-btn[data-v-c1c1bc0e] {\n  padding: 2px 6px;\n  background-color: #dc3545;\n  border: none;\n  border-radius: 3px;\n  color: #fff;\n  font-size: 10px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.filter-tag .clear-filters-btn[data-v-c1c1bc0e]:hover {\n  background-color: #c82333;\n  transform: translateY(-1px);\n}\n.clear-filters-btn[data-v-c1c1bc0e] {\n  padding: 6px 12px;\n  background-color: #dc3545;\n  border: none;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 12px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.clear-filters-btn[data-v-c1c1bc0e]:hover {\n  background-color: #c82333;\n  transform: translateY(-1px);\n}\n\n/* Responsive Design */\n@media (max-width: 1200px) {\n.toolbar-container[data-v-c1c1bc0e] {\n    gap: 16px;\n}\n.filter-group[data-v-c1c1bc0e] {\n    min-width: 140px;\n}\n}\n@media (max-width: 768px) {\n.schedule-toolbar[data-v-c1c1bc0e] {\n    padding: 12px 16px;\n}\n.toolbar-container[data-v-c1c1bc0e] {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 12px;\n}\n.filters-section[data-v-c1c1bc0e] {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 12px;\n}\n.filter-group[data-v-c1c1bc0e] {\n    min-width: auto;\n    flex: none;\n}\n  \n  /* На мобильных устройствах убираем фиксированную высоту */\n.filter-select[data-v-c1c1bc0e],\n  .filter-input[data-v-c1c1bc0e],\n  .date-input[data-v-c1c1bc0e],\n  .quick-filter-btn[data-v-c1c1bc0e],\n  .show-schedule-btn[data-v-c1c1bc0e] {\n    height: auto;\n    min-height: 42px;\n}\n.quick-filters[data-v-c1c1bc0e] {\n    justify-content: center;\n}\n.role-selector[data-v-c1c1bc0e] {\n    flex-direction: column;\n    gap: 8px;\n}\n.role-button[data-v-c1c1bc0e] {\n    width: 100%;\n}\n.active-filters[data-v-c1c1bc0e] {\n    flex-direction: column;\n    gap: 8px;\n    text-align: center;\n}\n}\n@media (max-width: 576px) {\n.date-range-picker[data-v-c1c1bc0e] {\n    flex-direction: column;\n    gap: 4px;\n}\n.date-input[data-v-c1c1bc0e] {\n    min-width: auto;\n}\n.show-schedule-btn[data-v-c1c1bc0e] {\n    min-width: auto;\n}\n}\n",""]);const d=o},91:(e,t,n)=>{var a=n(62);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(534).A)("1d1234c6",a,!0,{})},154:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(601),r=n.n(a),i=n(314),o=n.n(i)()(r());o.push([e.id,"\n/* Изолированные стили для планировщика */\n.scheduler-wrapper[data-v-d82ba79a] {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n  min-height: 600px;\n}\n.scheduler-container[data-v-d82ba79a] {\n  width: 100%;\n  height: 100%;\n  min-height: 600px;\n  max-height: none;\n}\n\n/* Переопределение стилей DHTMLX Scheduler для изоляции */\n[data-v-d82ba79a] .dhx_calendar {\n  font-family: inherit !important;\n  width: 100% !important;\n  height: 100% !important;\n  min-height: 600px !important;\n}\n[data-v-d82ba79a] .dhx_cal_header {\n  background-color: #f8f9fa !important;\n  border-bottom: 1px solid #dee2e6 !important;\n}\n[data-v-d82ba79a] .dhx_cal_header div {\n  background-color: transparent !important;\n  border: none !important;\n  color: #495057 !important;\n  font-weight: 500 !important;\n}\n[data-v-d82ba79a] .dhx_cal_event div {\n  border-radius: 4px !important;\n  font-size: 12px !important;\n}\n[data-v-d82ba79a] .dhx_cal_event_line {\n  border-radius: 2px !important;\n}\n[data-v-d82ba79a] .dhx_cal_event_clear {\n  color: inherit !important;\n}\n[data-v-d82ba79a] .dhx_cal_light {\n  border-radius: 8px !important;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;\n}\n[data-v-d82ba79a] .dhx_cal_light_rtl {\n  border-radius: 8px !important;\n}\n[data-v-d82ba79a] .dhx_cal_light_wide {\n  border-radius: 8px !important;\n}\n\n/* Стили для кнопок переключения */\n[data-v-d82ba79a] .dhx_cal_tab {\n  background-color: #fff !important;\n  border: 1px solid #dee2e6 !important;\n  color: #495057 !important;\n  border-radius: 4px !important;\n  margin: 0 2px !important;\n  padding: 6px 12px !important;\n  font-size: 14px !important;\n  transition: all 0.2s ease !important;\n}\n[data-v-d82ba79a] .dhx_cal_tab:hover {\n  background-color: #e9ecef !important;\n  border-color: #adb5bd !important;\n}\n[data-v-d82ba79a] .dhx_cal_tab.active {\n  background-color: #007bff !important;\n  border-color: #007bff !important;\n  color: #fff !important;\n}\n\n/* Стили для ячеек времени */\n[data-v-d82ba79a] .dhx_cal_event div {\n  border-radius: 3px !important;\n  font-size: 11px !important;\n  line-height: 1.2 !important;\n}\n\n/* Стили для заголовков колонок */\n[data-v-d82ba79a] .dhx_cal_column {\n  border-right: 1px solid #dee2e6 !important;\n}\n[data-v-d82ba79a] .dhx_cal_column_header {\n  background-color: #f8f9fa !important;\n  border-bottom: 1px solid #dee2e6 !important;\n  color: #495057 !important;\n  font-weight: 500 !important;\n}\n\n/* Стили для сетки времени */\n[data-v-d82ba79a] .dhx_cal_data {\n  border-top: 1px solid #dee2e6 !important;\n}\n[data-v-d82ba79a] .dhx_cal_data div {\n  border-bottom: 1px solid #f1f3f4 !important;\n}\n\n/* Стили для навигации */\n[data-v-d82ba79a] .dhx_cal_navline {\n  background-color: #fff !important;\n  border-bottom: 1px solid #dee2e6 !important;\n  padding: 8px 0 !important;\n}\n[data-v-d82ba79a] .dhx_cal_navline div {\n  background-color: transparent !important;\n  border: none !important;\n}\n[data-v-d82ba79a] .dhx_cal_navline .dhx_cal_date {\n  font-weight: 600 !important;\n  color: #212529 !important;\n  font-size: 16px !important;\n}\n[data-v-d82ba79a] .dhx_cal_navline .dhx_cal_today_button {\n  background-color: #28a745 !important;\n  border-color: #28a745 !important;\n  color: #fff !important;\n  border-radius: 4px !important;\n  padding: 6px 12px !important;\n  font-size: 14px !important;\n}\n[data-v-d82ba79a] .dhx_cal_navline .dhx_cal_today_button:hover {\n  background-color: #218838 !important;\n  border-color: #1e7e34 !important;\n}\n[data-v-d82ba79a] .dhx_cal_navline .dhx_cal_prev_button,[data-v-d82ba79a] .dhx_cal_navline .dhx_cal_next_button {\n  background-color: #6c757d !important;\n  border-color: #6c757d !important;\n  color: #fff !important;\n  border-radius: 4px !important;\n  padding: 6px 12px !important;\n  font-size: 14px !important;\n}\n[data-v-d82ba79a] .dhx_cal_navline .dhx_cal_prev_button:hover,[data-v-d82ba79a] .dhx_cal_navline .dhx_cal_next_button:hover {\n  background-color: #5a6268 !important;\n  border-color: #545b62 !important;\n}\n\n/* Специальные стили для месячного вида */\n[data-v-d82ba79a] .dhx_cal_month {\n  background-color: #fff !important;\n  width: 100% !important;\n  height: 100% !important;\n}\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_data {\n  border: 1px solid #dee2e6 !important;\n  height: calc(100% - 70px) !important;\n}\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_data div {\n  border: 1px solid #f1f3f4 !important;\n  min-height: 80px !important; /* Увеличиваем минимальную высоту ячеек */\n  padding: 4px !important;\n}\n\n/* Стили для событий в месячном виде */\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_event div {\n  font-size: 11px !important;\n  line-height: 14px !important;\n  padding: 2px 4px !important;\n  margin: 1px 0 !important;\n  border-radius: 3px !important;\n  min-height: 16px !important;\n  max-height: none !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n}\n\n/* Стили для заголовков дней в месячном виде */\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_date {\n  font-size: 14px !important;\n  font-weight: 600 !important;\n  color: #212529 !important;\n  padding: 8px 4px !important;\n  background-color: #f8f9fa !important;\n  border-bottom: 1px solid #dee2e6 !important;\n}\n\n/* Стили для заголовка месяца */\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_header {\n  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%) !important;\n  color: #fff !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  text-align: center !important;\n  padding: 12px 0 !important;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;\n}\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_header div {\n  background-color: transparent !important;\n  border: none !important;\n  color: #fff !important;\n  font-weight: 700 !important;\n  font-size: 18px !important;\n}\n\n/* Стили для заголовков дней недели */\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_week_header {\n  background-color: #e9ecef !important;\n  border-bottom: 2px solid #dee2e6 !important;\n}\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_week_header div {\n  background-color: transparent !important;\n  border: none !important;\n  color: #495057 !important;\n  font-weight: 600 !important;\n  font-size: 14px !important;\n  padding: 10px 4px !important;\n  text-align: center !important;\n}\n\n/* Стили для сегодняшнего дня */\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_today {\n  background-color: #e3f2fd !important;\n}\n\n/* Стили для событий в месячном виде - улучшенная читаемость */\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_event {\n  border-radius: 4px !important;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;\n  margin: 1px 2px !important;\n}\n\n/* Стили для текста событий в месячном виде */\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_event div {\n  font-weight: 500 !important;\n  color: #fff !important;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;\n}\n\n/* Стили для ссылок на события в месячном виде */\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_event_link {\n  color: #007bff !important;\n  text-decoration: none !important;\n}\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_event_link:hover {\n  text-decoration: underline !important;\n}\n\n/* Стили для счетчика событий в месячном виде */\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_event_counter {\n  background-color: #6c757d !important;\n  color: #fff !important;\n  border-radius: 12px !important;\n  padding: 2px 6px !important;\n  font-size: 10px !important;\n  font-weight: 600 !important;\n}\n\n/* Адаптивность для месячного вида */\n@media (max-width: 768px) {\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_data div {\n    min-height: 60px !important;\n    padding: 2px !important;\n}\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_event div {\n    font-size: 10px !important;\n    line-height: 12px !important;\n    padding: 1px 2px !important;\n}\n[data-v-d82ba79a] .dhx_cal_month .dhx_cal_date {\n    font-size: 12px !important;\n    padding: 4px 2px !important;\n}\n}\n\n/* Стили для больших экранов */\n@media (min-width: 1400px) {\n.scheduler-wrapper[data-v-d82ba79a] {\n    min-height: 700px;\n}\n.scheduler-container[data-v-d82ba79a] {\n    min-height: 700px;\n}\n[data-v-d82ba79a] .dhx_calendar {\n    min-height: 700px !important;\n}\n}\n@media (min-width: 1920px) {\n.scheduler-wrapper[data-v-d82ba79a] {\n    min-height: 800px;\n}\n.scheduler-container[data-v-d82ba79a] {\n    min-height: 800px;\n}\n[data-v-d82ba79a] .dhx_calendar {\n    min-height: 800px !important;\n}\n}\n",""]);const d=o},262:(e,t)=>{"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,a,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(a)for(var d=0;d<this.length;d++){var s=this[d][0];null!=s&&(o[s]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);a&&o[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},393:(e,t,n)=>{var a=n(154);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(534).A)("9fb37eb6",a,!0,{})},417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},431:(e,t,n)=>{var a=n(990);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(534).A)("f990f170",a,!0,{})},446:(e,t,n)=>{var a=n(577);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(534).A)("ec7df476",a,!0,{})},468:e=>{"use strict";e.exports="data:font/woff2;base64,d09GMgABAAAAAAaIAAsAAAAAEBwAAAY5AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGYACGMAqNDIsoATYCJANsCzgABCAFhRoHgjEbPA4jEaaMb4nsLw94stMn5WEh7GRuNICllSDROqbK4fOs5Fs6MX9wsO+Dh3pn+lZ00kr2AW6AwZdJ5DCxHeI/xgKx9VW0pyphAQTA997+ZrfZvZYQikJTFUkUQqfgNnY3xEMl5IDfe9mMTnQLaBM6sC2T/OdHkmiiW0SaNtA7BxwT1kZv05zUsmX2lI06cjvs6dufkeVC9NafLOr/7verbpHK2muETOwTbHd3fFy0cSiBbOIlExIVSo1AxGjLAf1IuOw1Im+DACSNiKH5s+dAojPvwtmUwcDMFpBWFTPflHHY7+EYLe4CO9iS7imU2IsJPOZdoE747XuJ0gs0TB1zgb6T4xN5Gg4ri3pAWdFlli2I12CyBTpQb8EixcH2+N3osawXKlkXbzBeL28gIHz//58QvljspUCgoWNgvidnYefMna0kLh4RomSTQ27v37w88imgkCKKKcFGUQaEhansAYjjFFSGEC4QIgEAKQDIAEAOAAoAUAKACgDUiMmhQYAWAToE6AFGwYDQGDEgIUwGXAgzMDoWALACgA0A7ADgAABnDLgQLsCkcAUANwBwBwAPAPAEAC8A8MaADeFjQEH4lqUMAL+7QgugF4jvQBsQxul5Eg2E1bofgLk0eTVcIW25hhGJWCbXKDE8KykvDdt0TQffGLnljRxPkqDrXiG3AgyZ3UdF/MGz6Q6axucI55vu3W8X+rFWh2Fs1GIcWqu+W986NsrjOTILOU7Ez6WbVsa6iGEVAo26ymoN27pv8i5tD6T3DMcTr83vN9KfHolT8D+0MscYPUzqhYktJPv/9YxchRGzWn27hiK2dEoAYU2zn+LiIkRAs+2pVDZU3cGUENK0mRqMKj4pjRrsTuHMRYYYIuTzE28sUzF3lWC3ES2NWWi1+ULB2yeU2CV8uppctmPYFikPIbPwLEQLnyqHTTiXCdYwhu62ucqsvEr1UO7WKutK/JJ1vu+zcqrsp5daXPq0RWlGPt22Lbc7BTwdefhwbDs9auT0ltrp2JVtV6oPURPHmOO5X8or7tFOX5FfyKtORkaUu600Vkr6s9y4iRH+sBL1A35OPI71fiLhdxJNNmwg0Xi6o8qk5unzVnVce6pDzR50j7mZvRNl2k0mt05cNXHU/ddjr9dVVxS3ns/s2hmNPv+95f8jr/kRv/nBxYtt26pyvJSQmQI7TncnTiIxYTCO050U6nWvYAb7mRtDvcqEdazkmSrHFKiSta3SqmUOQ2LKTH5l48wXkLLMKZ6iyNmIOZnJamIuZrG8s565xEt6k8vth7w85LUS54EzNj903nYe2mP7sXz3xWaP9eO5feoxl8W5cRJ/qs0bW0WV3cqlqqcCFVTX5jX2ZcjlL9KsHJLOkN7Wo4dylqT62aRKlqpApRL5WKpv69vGFlnz338pgMi3SwIQ8AyArwKtXw5lEJcHRJaopGTGCkbz9agy85sDiKpaKM+/pqvyalweEG25gPUHmC/14gd+TEyKgknqQKKuIB/GbczSFGj/G+WPNJYNdo7Jbver7Yp6ACurX10bhou2dQU2Goj9JNyf7/9w20cl/8s+b+lydyqZKFViZtj4YUAsXhOJBP7HJObwIomCfHFl0MgiP5V6rMtgbljXJyYuHYhFPj2IpC6j93bJZxs6wnAQ1OB4j2hEeZbo1OBtc8P6N2KyyNuDDHj/kQk//+S07i/9Lj5WBSK6K6GsEnAuHxiuZOW9veJ3/aCUxNns1tuWkifMKFY5hDk/TbmFvao3Xrg2R86oSMSmEb4g6DqqNofNxtc92Rq4bjnRw0oBIuRcESRWEsDyj/x4swzmtgvkXSBQPyXzwt8WhrGzth3N/KRyTbylglzj7OmXLm6CvXJXfiVPsJpxHI0LJVnJP6qpz71AoOPX4gi5jYON7ctL1XrGuj6V/F4q2jU7l01AwcAhIKGgr3JP4uAREJHmZd3243y53u4P/XE7taZOrAjfK+fqnHgTep1WkBSijgap12YE4s2zszIAmwGpDxHh37cjPuXAIaHi0KHaRGXgWEsVBye4LZ3YUEWW9OKsluZ5eZuxTOODXq50D13SQZpMiYJDYkudHHo15uvY85s3EYv5OUGH/3sNXcuosGhlC4yjMg4LtFoAAA=="},512:(e,t,n)=>{var a=n(721);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(534).A)("5dde7dfa",a,!0,{})},534:(e,t,n)=>{"use strict";function a(e,t){for(var n=[],a={},r=0;r<t.length;r++){var i=t[r],o=i[0],d={id:e+":"+r,css:i[1],media:i[2],sourceMap:i[3]};a[o]?a[o].parts.push(d):n.push(a[o]={id:o,parts:[d]})}return n}n.d(t,{A:()=>p});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},o=r&&(document.head||document.getElementsByTagName("head")[0]),d=null,s=0,l=!1,c=function(){},_=null,h="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,r){l=n,_=r||{};var o=a(e,t);return f(o),function(t){for(var n=[],r=0;r<o.length;r++){var d=o[r];(s=i[d.id]).refs--,n.push(s)}t?f(o=a(e,t)):o=[];for(r=0;r<n.length;r++){var s;if(0===(s=n[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],a=i[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(g(n.parts[r]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var o=[];for(r=0;r<n.parts.length;r++)o.push(g(n.parts[r]));i[n.id]={id:n.id,refs:1,parts:o}}}}function v(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function g(e){var t,n,a=document.querySelector("style["+h+'~="'+e.id+'"]');if(a){if(l)return c;a.parentNode.removeChild(a)}if(u){var r=s++;a=d||(d=v()),t=b.bind(null,a,r,!1),n=b.bind(null,a,r,!0)}else a=v(),t=y.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}var m,x=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function b(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var i=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function y(e,t){var n=t.css,a=t.media,r=t.sourceMap;if(a&&e.setAttribute("media",a),_.ssrId&&e.setAttribute(h,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},536:t=>{"use strict";t.exports=e},577:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(601),r=n.n(a),i=n(314),o=n.n(i)()(r());o.push([e.id,"\n.schedule-main-container[data-v-56c0acee] {\n  width: 100vw !important;\n  max-width: none !important;\n  min-width: 1200px !important;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  border-radius: 0 !important;\n  box-shadow: none !important;\n  overflow: hidden;\n  position: fixed !important;\n  left: 0 !important;\n  z-index: 1000 !important;\n}\n.role-selector[data-v-56c0acee] {\n  display: flex;\n  gap: 12px;\n  padding: 20px 24px;\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #dee2e6;\n  min-height: 80px;\n  align-items: center;\n}\n.role-button[data-v-56c0acee] {\n  flex: 0 0 auto;\n}\n.role-button .btn[data-v-56c0acee] {\n  padding: 12px 24px;\n  font-size: 16px;\n  font-weight: 500;\n  border-radius: 8px;\n  transition: all 0.2s ease;\n  border: 1px solid transparent;\n  min-width: 120px;\n}\n.role-button .btn[data-v-56c0acee]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n}\n.role-button .btn[data-v-56c0acee]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n.scheduler-main[data-v-56c0acee] {\n  flex: 1;\n  overflow: hidden;\n  width: 100%;\n}\n\n/* Адаптивность для больших экранов */\n@media (min-width: 1400px) {\n.schedule-main-container[data-v-56c0acee] {\n    min-width: 1400px !important;\n}\n.role-selector[data-v-56c0acee] {\n    padding: 24px 32px;\n    min-height: 100px;\n}\n.role-button .btn[data-v-56c0acee] {\n    padding: 14px 28px;\n    font-size: 18px;\n    min-width: 140px;\n}\n}\n@media (min-width: 1920px) {\n.schedule-main-container[data-v-56c0acee] {\n    min-width: 1600px !important;\n}\n.role-button .btn[data-v-56c0acee] {\n    padding: 16px 32px;\n    font-size: 20px;\n    min-width: 160px;\n}\n}\n\n/* Адаптивность для мобильных устройств */\n@media (max-width: 768px) {\n.schedule-main-container[data-v-56c0acee] {\n    min-width: 100vw !important;\n    position: relative !important;\n}\n.role-selector[data-v-56c0acee] {\n    flex-direction: column;\n    gap: 8px;\n    padding: 16px;\n    min-height: auto;\n}\n.role-button[data-v-56c0acee] {\n    width: 100%;\n}\n.role-button .btn[data-v-56c0acee] {\n    width: 100%;\n    padding: 10px 16px;\n    font-size: 14px;\n    min-width: auto;\n}\n}\n\n/* Стили для предотвращения конфликтов с Moodle */\n#page-content .schedule-main-container[data-v-56c0acee] {\n  margin: 0 !important;\n  padding: 0 !important;\n  max-width: none !important;\n  width: 100vw !important;\n  position: fixed !important;\n  left: 0 !important;\n  z-index: 1000 !important;\n}\n\n/* Стили для полноэкранного режима */\n.schedule-main-container.fullscreen[data-v-56c0acee] {\n  width: 100vw !important;\n  height: 100vh !important;\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  z-index: 9999 !important;\n  background-color: #fff !important;\n}\n",""]);const d=o},601:e=>{"use strict";e.exports=function(e){return e[1]}},608:(e,t,n)=>{var a=n(731);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(534).A)("3bd3364e",a,!0,{})},646:e=>{"use strict";e.exports="data:font/woff;base64,d09GRgABAAAAAAh0AAsAAAAAEBwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPwAAAGA97Us7Y21hcAAAAYQAAADjAAADMPMkIBtnbHlmAAACaAAAA0IAAAaMK6vwRWhlYWQAAAWsAAAALAAAADZYpKBVaGhlYQAABdgAAAAbAAAAJAJpATlobXR4AAAF9AAAABQAAABsHbAAAGxvY2EAAAYIAAAAOAAAADgWjBgkbWF4cAAABkAAAAAfAAAAIAExAD1uYW1lAAAGYAAAAUEAAAKazYPp33Bvc3QAAAekAAAAzwAAATGzVblzeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGGUZJzAwMrAwLCP4RKQ1ILSExj4GHwZGJgYWJkZsIKANNcUhgMfGT8qMuoAudKM7mBhRhRFTAAf7QmqAHic7dJZbsIwGEXhY2IChDDP6UDz3lV1QX3qYzfpFVDf/1ZdRSN9tmwlR8IGmAJN9V5lSF8k9HzW3RT7DV3sZz7inaz9Mj4edUwa6zrHOKnv5lpsmTH/Wy3qqmNJz4o1G7bs6mrPgSMnzly41rdvDDXR8v/0GtL372rUKVuc+8TQ3Jjur2TTTZSp6W5La2ieGZrnhuaFRbOzaC4tmr1Fc2Xou7VFc2P6v5StocbO9MvK3lDjYKhxNNQ4GWqcDTUuFs2rod7NUG8w1Hsy1Hs21Hsx1Hs11LtbnMmbofZoDD/W808GAHicjVS9T9tAFH8HmEscO26+sK6BlNglRgoNlfNhJWlt9SNZ/AfA0oohW6f+AdlYiNSO/gOoOqIwdWkXBiSGDl3YqkqZOhRFnZn6zuckggTRy917l3vn9/W792AFcJAMycAyUMhCEcCp5sw6LsdIkmyB2C6pVQg1KqTmErtAskkyYDgUo2kYzdecGPlKPl9pcPKe9f2j6BjJKDpGgma4LRjBGUhoRXd0ar1pNtO+f9ZqIY3kZ3iDyy3HorqQiFuR/ELIPWKhgnfz8hHeCOU6KhAScQsj5LFSsom7PDxCGxinhcGaOdNY3SDZNadqN56TRqlM6tTMVcfDYanHlEQymRjKSaLJquJ53tE+Rq/Jw4RGkvKprLGBO4ltjL8E952i7xQjdKxxuttNdTqpbjfd/ZnmVPyF6BtC4Tf3d4tiPA6hQSdVO7wMXqerh1y8PMVHARb6LPAQ2DgCD4GNnsOE1oMZFvkZQttN+YU9w2I0Q8h9WXywHeUGxuhNHFTIoZ1JNkydvwXL5Amp+5rck7WA9XpvVVctDz2ehETA+l9VlbGpvyYxYQU0fE+IMzXrjqEhHI3aLilpJFd1vmgfk+er0nprQ5IeS95J++Rc+5C8kjZa65KKJzaeRLrgGk4hBil4iLpqDXstu2qUrLnNhZbVcPo3WCBzqsk32ETvKWqe6BU6ao35zUIVvUXGAOQw9jZ8DmspgfFnQA9fmgkWWsGisnDp9/AnhfnhFwrP7p4Q2YYe2VlsO8UxxEXv4cXiq7sn2SkWi0aRE0MwXGhVCW1f4ttfZLsMuyL2arSs/9jzEmOsP0e9kDJ7EZvWCoV12ISnABmOYhkfnOAczzapm5zrVYqGLFH2bcIfeq1kjiRKJVXl1JZiMUlROLWHF9/jihL/wQmhMTl2TBMU5zFuibu3x5T4QUxVYwfxMBWiF1zB39u94E+62+EtoINd4Ndkg3P6TUCyWH+YLSzvXBVrOsASZvnKNRNNdlJfFLucyHXYrXPRKo3EYFusxCY6L2EIS2G/3Xe9oTvtVd9QshT20b7noeh2DzN5Y6yHgIx95uMccOLf5QNHkPsQBKOR73/iUAVs0V3UiqmnyKO7A+byu/8A+6/0SwAAeJxjYGRgYABiRy69nnh+m68M3Iw6QBGGGtUNDcg0ozVYnIOBCcQDANOQBvR4nGNgZGBg1GFggJD/PzJaMzAyoAJpADhxAqQAeJxjYGBgYNQhDzOkkKYeAPzYBMoAAAAAADYARgBWAGYAdgCkAL4A0AEEASgBTgF6AaYB5AIiAmYCqgLEAtgC7gL6AwYDBgMaAzADRnicY2BkYGCQZjBk4GEAASYg5gJCBob/YD4DABEAAW8AeJyNkL1uwjAUhU/4qwpSValSh6qDJ5aK8DMydYKhGwPqVCkkDgElcWQbBI/Qd+gz9CE6dO7TMPfE9VQxYEvOd79zbxwFwC2+EaBeAe7cWa8Grlj9cZP04LlFHnhuo4dnzx36F89dPOHNc4/+nW8IWtc0fXx4buAGX56b9D+eW+ST5zbug0fPHfSDieculsGr5x79Z5IdBibOZLLLpR5sYlWahVzv8kifSc6opdRmo0oxDkdn0rkspY6sTMTqKMx+PbE2FalWhZip0so8V6LSaitjG2bWVtPhMPU+jFWBBBkO/GcGMUmy3iHnU9Nt6BRKZguatUsiJpfNXNa1dMbQ1LXAGCFGF87OaUpnI1jXJbDCkafBnt87obVIWafsUShIMzdbd+fciqZy2ZYmpg95Xz1VYYohd/qvP3S3F7+CSoCpAAAAeJxtjttywyAMRFkHYztpmt5v6b95NKDajClkACcz/fo6po/dB+nsg1YrKlG0Ef/riAobSNRQaNCiwxY73GCPWxxwh3s84BFPeMYLXvGGd3zgiE9Rk+OYtxRjuPQmXPwfOv7Ku4LRDmNuC8+nVi8X3lBUmrxmV+uR9VRrF/SkDDvO3BjOZF1SJuTUj2WdDybS0I8h2p/gM7n96s/Ld7tEyquTbGxWdslK3LhAxvpBfrOfu+so9VZaK1Vhkic3pzaFmHtKulvBcNJC/AKKllD6AA=="},711:e=>{"use strict";e.exports=n},721:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var a=n(601),r=n.n(a),i=n(314),o=n.n(i),d=n(417),s=n.n(d),l=new URL(n(646),n.b),c=new URL(n(468),n.b),_=o()(r()),h=s()(l),u=s()(c);_.push([e.id,`@charset "UTF-8";@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuOKfMZg.ttf) format("truetype")}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfMZg.ttf) format("truetype")}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuI6fMZg.ttf) format("truetype")}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuGKYMZg.ttf) format("truetype")}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuFuYMZg.ttf) format("truetype")}:root{--dhx-scheduler-theme: terrace;--dhx-scheduler-font-family: Inter, Helvetica, Arial, sans-serif;--dhx-scheduler-font-size: 14px;--dhx-scheduler-heading-font-size: calc(var(--dhx-scheduler-font-size) + 2px);--dhx-scheduler-heading-font-weight: 600;--dhx-scheduler-important-font-size: var(--dhx-scheduler-font-size);--dhx-scheduler-important-line-height: 142%;--dhx-scheduler-important-font-weight: 500;--dhx-scheduler-regular-font-size: var(--dhx-scheduler-font-size);--dhx-scheduler-regular-font-weight: 400;--dhx-scheduler-regular-line-height: 142%;--dhx-scheduler-caption-font-size: calc(var(--dhx-scheduler-font-size) - 2px);--dhx-scheduler-caption-font-weight: 400;--dhx-scheduler-caption-line-height: 132%;--dhx-scheduler-base-colors-primary: #537CFA;--dhx-scheduler-base-colors-primary-hover: #4269E0;--dhx-scheduler-base-colors-primary-active: #3365fb;--dhx-scheduler-base-colors-primary-lighter: #537cfa33;--dhx-scheduler-base-colors-warning: #FAB936;--dhx-scheduler-base-colors-error: #E3334E;--dhx-scheduler-base-colors-error-hover: #D3233E;--dhx-scheduler-base-colors-error-active: #C3132E;--dhx-scheduler-base-colors-error-lighter: #E3334E33;--dhx-scheduler-base-colors-error-text: #FFFFFF;--dhx-scheduler-base-colors-success: #1BC297;--dhx-scheduler-base-colors-secondary: rgba(0, 0, 0, .04);--dhx-scheduler-base-colors-secondary-hover: rgba(0, 0, 0, .1);--dhx-scheduler-base-colors-white: #FFFFFF;--dhx-scheduler-base-colors-select: #EFF3FF;--dhx-scheduler-base-colors-hover-color: #e0e0e0;--dhx-scheduler-base-colors-border: #D0DBE3;--dhx-scheduler-base-colors-icons: #A1A4A6;--dhx-scheduler-base-colors-icons-active: #8b8e90;--dhx-scheduler-base-colors-icons-hover: #76787a;--dhx-scheduler-base-colors-disabled: #E9E9E9;--dhx-scheduler-base-colors-readonly: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-base-colors-text-light: #44494E;--dhx-scheduler-base-colors-text-base: #23272A;--dhx-scheduler-base-colors-background: #FFFFFF;--dhx-scheduler-container-background: var(--dhx-scheduler-base-colors-background);--dhx-scheduler-container-color: var(--dhx-scheduler-base-colors-text-base);--dhx-scheduler-container-background-alt: rgba(0, 0, 0, .4);--dhx-scheduler-base-transition: .2s ease;--dhx-scheduler-box-shadow-s: 0px 4px 24px 0px rgba(44, 47, 60, .08);--dhx-scheduler-box-shadow-m: 0px 4px 24px 0px rgba(44, 47, 60, .36);--dhx-scheduler-box-shadow-l: 0px 4px 24px 0px rgba(44, 47, 60, .56);--dhx-scheduler-base-module: 4px;--dhx-scheduler-base-padding: 4px;--dhx-scheduler-border-radius: var(--dhx-scheduler-base-module);--dhx-scheduler-event-colors-primary: #537CFA;--dhx-scheduler-event-text-primary: rgba(255, 255, 255, .9);--dhx-scheduler-toolbar-height: 40px;--dhx-scheduler-transition: all .3s;--dhx-scheduler-navline-font-color: var(--dhx-scheduler-base-colors-text-light);--dhx-scheduler-default-border: 1px solid var(--dhx-scheduler-base-colors-border);--dhx-scheduler-header-border: var(--dhx-scheduler-default-border);--dhx-scheduler-halfhour-border: 1px dotted var(--dhx-scheduler-base-colors-border);--dhx-scheduler-event-background-primary: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-event-blue: linear-gradient(180deg, #527CFF 0%, #9751FC 100%);--dhx-scheduler-event-green: linear-gradient(180deg, #12D979 0%, #1ECDEB 100%);--dhx-scheduler-event-violet: linear-gradient(180deg, #D071EF 0%, #EE71D5 100%);--dhx-scheduler-event-yellow: linear-gradient(180deg, #FFB725 0%, #FFBB25 31.25%, #FAEA27 100%);--dhx-scheduler-event-title-font-size: var(--dhx-scheduler-caption-font-size);--dhx-scheduler-event-title-line-height: var(--dhx-scheduler-caption-line-height);--dhx-scheduler-event-text-font-size: var(--dhx-scheduler-regular-font-size);--dhx-scheduler-event-text-line-height: var(--dhx-scheduler-regular-line-height);--dhx-scheduler-event-text-font-weight: var(--dhx-scheduler-regular-font-weight);--dhx-scheduler-event-bar-font-size: var(--dhx-scheduler-caption-font-size);--dhx-scheduler-event-bar-line-height: var(--dhx-scheduler-caption-line-height);--dhx-scheduler-event-menu-background: var(--dhx-scheduler-popup-background);--dhx-scheduler-event-menu-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-event-background: var(--dhx-scheduler-event-blue);--dhx-scheduler-event-border: none;--dhx-scheduler-event-color: var(--dhx-scheduler-event-text-primary);--dhx-scheduler-event-line-text: var(--dhx-scheduler-container-color);--dhx-scheduler-event-marker-color: var(--dhx-scheduler-event-background);--dhx-scheduler-popup-background: var(--dhx-scheduler-container-background);--dhx-scheduler-popup-color: var(--dhx-scheduler-container-color);--dhx-scheduler-popup-border: none;--dhx-scheduler-popup-border-radius: var(--dhx-scheduler-border-radius);--dhx-scheduler-control-height: 32px;--dhx-scheduler-checkbox-height: 20px;--dhx-scheduler-lightbox_font-family: var(--dhx-scheduler-font-family);--dhx-scheduler-lightbox-font-size: var(--dhx-scheduler-important-font-size);--dhx-scheduler-lightbox-font-weight: var(--dhx-scheduler-important-font-weight);--dhx-scheduler-lightbox-background: var(--dhx-scheduler-popup-background);--dhx-scheduler-lightbox-border: var(--dhx-scheduler-popup-border);--dhx-scheduler-lightbox-control-border: var(--dhx-scheduler-default-border);--dhx-scheduler-lightbox-color: var(--dhx-scheduler-popup-color);--dhx-scheduler-lightbox-title-background: var(--dhx-scheduler-base-colors-select);--dhx-scheduler-lightbox-title-color: var(--dhx-scheduler-lightbox-color);--dhx-scheduler-lightbox-title-font-size: var(--dhx-scheduler-heading-font-size);--dhx-scheduler-lightbox-max-width: 496px;--dhx-scheduler-lightbox-wide-max-width: 738px;--dhx-scheduler-lightbox-width: var(--dhx-scheduler-lightbox-max-width);--dhx-scheduler-scale-color: var(--dhx-scheduler-container-color);--dhx-scheduler-timescale-background: var(--dhx-scheduler-container-background);--dhx-scheduler-timescale-today-background: var(--dhx-scheduler-base-colors-select);--dhx-scheduler-hours-font-size: var(--dhx-scheduler-caption-font-size);--dhx-scheduler-hours-font-weight: var(--dhx-scheduler-caption-font-weight);--dhx-scheduler-inactive-month-color: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-month-header-color: var(--dhx-scheduler-container-color);--dhx-scheduler-month-day-header-padding: var(--dhx-scheduler-base-padding) calc(var(--dhx-scheduler-base-padding) * 2);--dhx-scheduler-month-event-marker-size: calc(var(--dhx-scheduler-base-module) * 2);--dhx-scheduler-list-line-height: 36px;--dhx-scheduler-agenda-date-column-width: 188px;--dhx-scheduler-grid-event-background: transparent;--dhx-scheduler-grid-event-text: initial;--dhx-scheduler-timeline-folder-background: var(--dhx-scheduler-base-colors-disabled);--dhx-scheduler-timeline-folder-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-treetimeline-level-padding: 16px;--dhx-scheduler-blocked-time-background: var(--dhx-scheduler-base-colors-disabled);--dhx-scheduler-today-marker-color: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-datepicker-width: 250px;--dhx-scheduler-datepicker-font-size: var(--dhx-scheduler-font-size);--dhx-scheduler-datepicker-family: var(--dhx-scheduler-font-family);--dhx-scheduler-datepicker-cell-size: 28px;--dhx-scheduler-datepicker-header-font-size: var(--dhx-scheduler-font-size);--dhx-scheduler-datepicker-header-font-weight: 500;--dhx-scheduler-datepicker-padding: 5px;--dhx-scheduler-datepicker-inactive-month-color: var(--dhx-scheduler-inactive-month-color);--dhx-scheduler-datepicker-cell-color: var(--dhx-scheduler-popup-color);--dhx-scheduler-datepicker-cell-background: var(--dhx-scheduler-popup-background);--dhx-scheduler-datepicker-today-color: var(--dhx-scheduler-base-colors-white);--dhx-scheduler-datepicker-today-background: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-datepicker-weekend-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-datepicker-weekend-background: var(--dhx-scheduler-popup-background);--dhx-scheduler-datepicker-disabled-color: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-datepicker-disabled-background: var(--dhx-scheduler-base-colors-disabled);--dhx-scheduler-datepicker-hover-color: var(--dhx-scheduler-base-colors-white);--dhx-scheduler-datepicker-hover-background: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-datepicker-prevnext-color: var(--dhx-scheduler-inactive-month-color);--dhx-scheduler-datepicker-prevnext-background: var(--dhx-scheduler-popup-background);--dhx-scheduler-btn-background: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-white);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-white);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-white);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-background-disabled: var(--dhx-scheduler-base-colors-disabled);--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: var(--dhx-scheduler-base-colors-disabled);--dhx-scheduler-btn-outline-background: transparent;--dhx-scheduler-btn-outline-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-outline-border-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-outline-background-hover: var(--dhx-scheduler-base-colors-primary-lighter);--dhx-scheduler-btn-outline-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-outline-border-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-outline-background-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-outline-color-active: var(--dhx-scheduler-base-colors-white);--dhx-scheduler-btn-outline-border-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-outline-background-disabled: transparent;--dhx-scheduler-btn-outline-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-outline-border-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-text-transform: none;--dhx-scheduler-xy-scale_width: 50px;--dhx-scheduler-xy-bar_height: 24;--dhx-scheduler-xy-month_head_height: 26;--dhx-scheduler-xy-scale_height: 24px;--dhx-scheduler-xy-scroll_width: 18px;--dhx-scheduler-info-background: var(--dhx-scheduler-popup-background);--dhx-scheduler-info-color: var(--dhx-scheduler-popup-color);--dhx-scheduler-info-border: var(--dhx-scheduler-popup-border);--dhx-scheduler-info-shadow: var(--dhx-scheduler-box-shadow-m);--dhx-scheduler-modal-background: var(--dhx-scheduler-popup-background);--dhx-scheduler-modal-color: var(--dhx-scheduler-popup-color);--dhx-scheduler-modal-border: var(--dhx-scheduler-popup-border);--dhx-scheduler-modal-padding: 16px;--dhx-scheduler-modal-width: 320px;--dhx-scheduler-modal-border-radius: var(--dhx-scheduler-popup-border-radius);--dhx-scheduler-undo-delete-background: var(--dhx-scheduler-base-colors-text-base);--dhx-scheduler-undo-delete-color: var(--dhx-scheduler-event-color)}:root[data-scheduler-theme=dark]{--dhx-scheduler-theme: dark;--dhx-scheduler-base-colors-disabled: #3d3d3d;--dhx-scheduler-base-colors-text-light: #AAA;--dhx-scheduler-base-colors-text-base: rgba(255, 255, 255, .9);--dhx-scheduler-base-colors-background: #000000;--dhx-scheduler-base-colors-border: #4B4B4B;--dhx-scheduler-navline-font-color: var(--dhx-scheduler-base-colors-text-base);--dhx-scheduler-base-colors-primary: #3B72F8;--dhx-scheduler-base-colors-primary-hover: #1D5AEE;--dhx-scheduler-base-colors-primary-active: #0e50ea;--dhx-scheduler-base-colors-primary-lighter: #3B72F833;--dhx-scheduler-base-colors-error: #EB284F;--dhx-scheduler-base-colors-error-hover: #D9264A;--dhx-scheduler-base-colors-error-active: #ba0a24;--dhx-scheduler-base-colors-error-lighter: #EB284F33;--dhx-scheduler-base-colors-select: #2A2A2A;--dhx-scheduler-base-colors-hover-color: #2A2A2A;--dhx-scheduler-base-colors-icons: #AAAAAA;--dhx-scheduler-scale-color: var(--dhx-scheduler-base-colors-text-light);--dhx-scheduler-popup-background: #1B1B1C;--dhx-scheduler-popup-border: 1px solid #4B4B4B;--dhx-scheduler-btn-font-weight: 600;--dhx-scheduler-undo-delete-background: var(--dhx-scheduler-popup-background)}:root[data-scheduler-theme=flat]{--dhx-scheduler-theme: flat;--dhx-scheduler-font-family: Segoe UI,Arial,san-serif;--dhx-scheduler-base-colors-primary: #0288D1;--dhx-scheduler-base-colors-primary-hover: #007cbf;--dhx-scheduler-base-colors-primary-active: #00659b;--dhx-scheduler-base-colors-primary-lighter: #edf8ff;--dhx-scheduler-event-background: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-base-colors-border: #cecece;--dhx-scheduler-halfhour-border: 1px solid #e8e8e8;--dhx-scheduler-event-title-font-size: 12px;--dhx-scheduler-event-text-font-size: 14px;--dhx-scheduler-event-text-font-weight: 500;--dhx-scheduler-heading-font-size: 22px;--dhx-scheduler-heading-font-weight: 300;--dhx-scheduler-caption-font-size: 14px;--dhx-scheduler-caption-font-weight: 400;--dhx-scheduler-hours-font-size: 12px;--dhx-scheduler-scale-color: #767676;--dhx-scheduler-border-radius: 0;--dhx-scheduler-timeline-folder-background: #ebeced;--dhx-scheduler-box-shadow-s: 0 3px 5px 0 rgba(0, 0, 0, .1);--dhx-scheduler-box-shadow-m: 0px 4px 24px 0px rgba(44, 47, 60, .36);--dhx-scheduler-box-shadow-l: 0px 4px 24px 0px rgba(44, 47, 60, .56);--dhx-scheduler-config-form_wide: 1;--dhx-scheduler-xy-scale_height: 35px}:root[data-scheduler-theme=flat] .dhx_cal_navline{--dhx-scheduler-btn-outline-border-color: transparent;--dhx-scheduler-btn-outline-border-hover: transparent;--dhx-scheduler-btn-outline-border-color-disabled: transparent}:root[data-scheduler-theme=flat] .dhx_scale_hour{justify-content:center}:root[data-scheduler-theme=flat] .dhx_cal_tab{min-width:90px}:root[data-scheduler-theme=flat] .dhx_cal_navline>div{order:1}:root[data-scheduler-theme=flat] .dhx_cal_navline .dhx_cal_next_button{order:6}:root[data-scheduler-theme=flat] .dhx_cal_navline .dhx_cal_today_button{order:5;border-color:transparent}:root[data-scheduler-theme=flat] .dhx_cal_navline .dhx_cal_prev_button{order:4}:root[data-scheduler-theme=flat] .dhx_cal_navline .dhx_cal_date{order:3}:root[data-scheduler-theme=flat] .dhx_cal_navline .dhx_cal_date{margin-left:auto;margin-right:auto}:root[data-scheduler-theme=flat] .dhx_data_table.folder .dhx_matrix_cell{border-right:0}:root[data-scheduler-theme=flat] .dhx_timeline_scale_header{border-right:none}:root[data-scheduler-theme=flat] .dhx_cal_container_rtl .dhx_timeline_scale_header{border-left:unset}:root[data-scheduler-theme=flat] .dhx_scale_hour{display:flex;flex-direction:row}:root[data-scheduler-theme=flat] .dhx_scale_hour .dhx_scale_h{font-size:22px;line-height:44px;font-weight:lighter}:root[data-scheduler-theme=flat] .dhx_scale_hour .dhx_scale_m{font-size:11px;line-height:35px;align-self:end;font-weight:lighter;transform:translateY(-2px)}:root[data-scheduler-theme=flat] .scheduler_popup_title{text-transform:uppercase}:root[data-scheduler-theme=material]{--dhx-scheduler-theme: material;--dhx-scheduler-font-family: Roboto, Helvetica, Arial, sans-serif;--dhx-scheduler-base-colors-primary: #0288D1;--dhx-scheduler-base-colors-primary-hover: #007cbf;--dhx-scheduler-base-colors-primary-active: #00659b;--dhx-scheduler-base-colors-primary-lighter: #edf8ff;--dhx-scheduler-event-background: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-base-colors-border: #e0e0e0;--dhx-scheduler-event-title-font-size: calc(var(--dhx-scheduler-font-size) - 2px);--dhx-scheduler-event-text-font-size: var(--dhx-scheduler-font-size);--dhx-scheduler-event-text-font-weight: 500;--dhx-scheduler-heading-font-size: 20px;--dhx-scheduler-caption-font-size: var(--dhx-scheduler-font-size);--dhx-scheduler-caption-font-weight: 500;--dhx-scheduler-btn-font-weight: 500;--dhx-scheduler-heading-font-weight: 500;--dhx-scheduler-hours-font-size: calc(var(--dhx-scheduler-font-size) - 2px);--dhx-scheduler-base-colors-text-base: rgba(0, 0, 0, .75);--dhx-scheduler-header-border: 1px solid transparent;--dhx-scheduler-scale-color: rgba(0, 0, 0, .54);--dhx-scheduler-border-radius: 0;--dhx-scheduler-btn-text-transform: uppercase;--dhx-scheduler-btn-padding: 1px 20px 0;--dhx-scheduler-halfhour-border: none;--dhx-scheduler-timeline-folder-background: #ebeced;--dhx-scheduler-box-shadow-s: 0 3px 5px 0 rgba(0, 0, 0, .1);--dhx-scheduler-box-shadow-m: 0px 4px 24px 0px rgba(44, 47, 60, .36);--dhx-scheduler-box-shadow-l: 0px 4px 24px 0px rgba(44, 47, 60, .56);--dhx-scheduler-lightbox-title-background: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-lightbox-title-color: #FFFFFF;--dhx-scheduler-lightbox-title-font-size: var(--dhx-scheduler-font-size);--dhx-scheduler-lightbox-wide-max-width: 540px;--dhx-scheduler-config-form_wide: 1}:root[data-scheduler-theme=material] .dhx_scale_hour{justify-content:center}:root[data-scheduler-theme=material] .dhx_cal_tab{min-width:90px}:root[data-scheduler-theme=material] .dhx_cal_navline>div{order:1}:root[data-scheduler-theme=material] .dhx_cal_navline .dhx_cal_next_button{order:6}:root[data-scheduler-theme=material] .dhx_cal_navline .dhx_cal_today_button{order:5;border-color:transparent}:root[data-scheduler-theme=material] .dhx_cal_navline .dhx_cal_prev_button{order:4}:root[data-scheduler-theme=material] .dhx_cal_navline .dhx_cal_date{order:3}:root[data-scheduler-theme=material] .dhx_cal_navline .dhx_cal_date{margin-left:auto;margin-right:auto}:root[data-scheduler-theme=material] .dhx_data_table.folder .dhx_matrix_cell{border-right:0}:root[data-scheduler-theme=material] .dhx_timeline_scale_header{border-right:none}:root[data-scheduler-theme=material] .dhx_cal_container_rtl .dhx_timeline_scale_header{border-left:unset}:root[data-scheduler-theme=material] .dhx_cal_scale_placeholder{position:absolute;z-index:2;box-shadow:0 3px 5px #0000001a;left:0;pointer-events:none}:root[data-scheduler-theme=material] .dhx_year_box .dhx_year_month{font-weight:500;color:var(--dhx-scheduler-base-colors-primary)}:root[data-scheduler-theme=material] .dhx_year_box .dhx_month_head.dhx_year_event:after{content:none}:root[data-scheduler-theme=material] .dhx_year_box .dhx_year_event{--dhx-scheduler-datepicker-cell-color: var(--dhx-scheduler-datepicker-hover-color);--dhx-scheduler-datepicker-cell-background: var(--dhx-scheduler-datepicker-hover-background)}:root[data-scheduler-theme=material] .dhx_cal_ltitle{font-weight:400;text-transform:uppercase}:root[data-scheduler-theme=material] .dhx_cal_ltitle_controls{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-lightbox-title-color)}:root[data-scheduler-theme=material] .dhx_timeline_scale_header{font-size:var(--dhx-scheduler-caption-font-size);font-weight:var(--dhx-scheduler-caption-font-weight);color:var(--dhx-scheduler-scale-color);line-height:133%}:root[data-scheduler-theme=material] .scheduler_popup_title{text-transform:uppercase}:root[data-scheduler-theme=contrast-white]{--dhx-scheduler-theme: contrast-white;--dhx-scheduler-base-colors-disabled: #C2C2C2;--dhx-scheduler-base-colors-text-light: #303030;--dhx-scheduler-base-colors-text-base: #303030;--dhx-scheduler-base-colors-background: #FFFFFF;--dhx-scheduler-base-colors-border: #4D595B;--dhx-scheduler-base-colors-primary: #0A47CD;--dhx-scheduler-base-colors-primary-hover: #093fb3;--dhx-scheduler-base-colors-primary-active: #08379b;--dhx-scheduler-base-colors-primary-lighter: #0A47CD;--dhx-scheduler-event-background: #0A47CD;--dhx-scheduler-event-color: #FFF;--dhx-scheduler-event-border: 1px solid rgba(0, 0, 0, .1);--dhx-scheduler-base-colors-warning: #FCBA2E;--dhx-scheduler-base-colors-success: #77D257;--dhx-scheduler-base-colors-error: #FFA7A0;--dhx-scheduler-base-colors-error-hover: #d88d88;--dhx-scheduler-base-colors-error-active: #cd8984;--dhx-scheduler-base-colors-error-lighter: #FFA7A0;--dhx-scheduler-base-colors-error-text: #141414;--dhx-scheduler-btn-color: #FFFFFF;--dhx-scheduler-btn-color-hover: #FFFFFF;--dhx-scheduler-btn-color-active: #FFFFFF;--dhx-scheduler-base-colors-select: #E7E5E5;--dhx-scheduler-base-colors-hover-color: #E7E5E5;--dhx-scheduler-base-colors-icons: #303030;--dhx-scheduler-scale-color: var(--dhx-scheduler-base-colors-text-light);--dhx-scheduler-popup-background: #FFF;--dhx-scheduler-popup-border: 1px solid #4D595B;--dhx-scheduler-font-size: 16px;--dhx-scheduler-heading-font-size: 24px;--dhx-scheduler-important-font-size: 16px;--dhx-scheduler-regular-font-size: 16px;--dhx-scheduler-caption-font-size: 16px;--dhx-scheduler-btn-outline-color-hover: #FFFFFF;--dhx-scheduler-btn-outline-color-active: #FFFFFF}:root[data-scheduler-theme=contrast-black]{--dhx-scheduler-theme: contrast-black;--dhx-scheduler-base-colors-disabled: #3d3d3d;--dhx-scheduler-base-colors-text-light: #cfcfcf;--dhx-scheduler-base-colors-text-base: #FFFFFFCC;--dhx-scheduler-base-colors-background: #141414;--dhx-scheduler-base-colors-border: rgba(255, 255, 255, .8);--dhx-scheduler-base-colors-primary: #A395FF;--dhx-scheduler-base-colors-primary-hover: #C5BCFF;--dhx-scheduler-base-colors-primary-active: #C5BCFF;--dhx-scheduler-base-colors-primary-lighter: #C5BCFF;--dhx-scheduler-event-background: #A395FF;--dhx-scheduler-event-color: #141414;--dhx-scheduler-event-border: 1px solid rgba(0, 0, 0, .1);--dhx-scheduler-base-colors-warning: #694E02;--dhx-scheduler-base-colors-success: #115700;--dhx-scheduler-base-colors-error: #FFA7A0;--dhx-scheduler-base-colors-error-hover: #fb9891;--dhx-scheduler-base-colors-error-active: #fe8b83;--dhx-scheduler-base-colors-error-lighter: #ffa6a03e;--dhx-scheduler-base-colors-error-text: #141414;--dhx-scheduler-btn-color: #141414;--dhx-scheduler-btn-color-hover: #141414;--dhx-scheduler-btn-color-active: #141414;--dhx-scheduler-base-colors-select: #2A2A2A;--dhx-scheduler-base-colors-hover-color: #2A2A2A;--dhx-scheduler-base-colors-icons: #AAAAAA;--dhx-scheduler-scale-color: var(--dhx-scheduler-base-colors-text-light);--dhx-scheduler-popup-background: #1B1B1C;--dhx-scheduler-undo-delete-background: var(--dhx-scheduler-popup-background);--dhx-scheduler-undo-delete-color: var(--dhx-scheduler-base-colors-text-base);--dhx-scheduler-popup-border: 1px solid #4B4B4B;--dhx-scheduler-font-size: 16px;--dhx-scheduler-heading-font-size: 24px;--dhx-scheduler-important-font-size: 16px;--dhx-scheduler-regular-font-size: 16px;--dhx-scheduler-caption-font-size: 16px;--dhx-scheduler-btn-outline-color-hover: #141414;--dhx-scheduler-btn-outline-color-active: #141414}@font-face{font-family:dhx-scheduler-icons;src:url(${h}) format("woff"),url(${u}) format("woff2")}.scheduler_icon:before,.dhx_menu_icon:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.scheduler_icon.alert:before,.dhx_menu_icon.icon_alert:before{content:""}.scheduler_icon.arrow_down:before,.dhx_menu_icon.icon_arrow_down:before{content:""}.scheduler_icon.arrow_left:before,.dhx_menu_icon.icon_arrow_left:before{content:"";font-size:24px}.scheduler_icon.arrow_right:before,.dhx_menu_icon.icon_arrow_right:before{content:"";font-size:24px}.scheduler_icon.arrow_up:before,.dhx_menu_icon.icon_arrow_up:before{content:""}.scheduler_icon.calendar:before,.dhx_menu_icon.icon_calendar:before{content:""}.scheduler_icon.cancel:before,.dhx_menu_icon.icon_cancel:before{content:""}.scheduler_icon.check:before,.dhx_menu_icon.icon_check:before{content:""}.scheduler_icon.chevron_down:before,.dhx_menu_icon.icon_chevron_down:before{content:"";font-size:24px}.scheduler_icon.chevron_left:before,.dhx_menu_icon.icon_chevron_left:before{content:"";font-size:24px}.scheduler_icon.chevron_right:before,.dhx_menu_icon.icon_chevron_right:before{content:"";font-size:24px}.scheduler_icon.chevron_up:before,.dhx_menu_icon.icon_chevron_up:before{content:"";font-size:24px}.scheduler_icon.clock:before,.dhx_menu_icon.icon_clock:before{content:""}.scheduler_icon.close:before,.dhx_menu_icon.icon_close:before{content:""}.scheduler_icon.delete:before,.dhx_menu_icon.icon_delete:before{content:"";font-size:18px}.scheduler_icon.details:before,.dhx_menu_icon.icon_details:before{content:""}.scheduler_icon.dots_h:before,.dhx_menu_icon.icon_dots_h:before{content:""}.scheduler_icon.dots_v:before,.dhx_menu_icon.icon_dots_v:before{content:""}.scheduler_icon.drag_horizontal:before,.dhx_menu_icon.icon_drag_horizontal:before{content:""}.scheduler_icon.drag_vertical:before,.dhx_menu_icon.icon_drag_vertical:before{content:""}.scheduler_icon.drag:before,.dhx_menu_icon.icon_drag:before{content:""}.scheduler_icon.edit:before,.dhx_menu_icon.icon_edit:before{content:""}.scheduler_icon.form:before,.dhx_menu_icon.icon_form:before{content:""}.scheduler_icon.iclose:before,.dhx_menu_icon.icon_iclose:before{content:""}.scheduler_icon.loading:before,.dhx_menu_icon.icon_loading:before{content:""}.scheduler_icon.menu:before,.dhx_menu_icon.icon_menu:before{content:""}.scheduler_icon.menu_down:before,.dhx_menu_icon.icon_menu_down:before{content:""}.scheduler_icon.menu_right:before,.dhx_menu_icon.icon_menu_right:before{content:""}.scheduler_icon.ok:before,.dhx_menu_icon.icon_ok:before{content:""}.scheduler_icon.plus:before,.dhx_menu_icon.icon_plus:before{content:""}.scheduler_icon.save:before,.dhx_menu_icon.icon_save:before{content:""}.scheduler_icon.sort_asc:before,.dhx_menu_icon.icon_sort_asc:before{content:""}.scheduler_icon.sort_desc:before,.dhx_menu_icon.icon_sort_desc:before{content:""}.button{background:var(--dhx-scheduler-btn-background);color:var(--dhx-scheduler-btn-color);border:1px solid var(--dhx-scheduler-btn-border-color);border-radius:var(--dhx-scheduler-border-radius);height:var(--dhx-scheduler-control-height);padding:var(--dhx-scheduler-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-scheduler-font-size);font-family:var(--dhx-scheduler-font-family);font-weight:var(--dhx-scheduler-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-scheduler-btn-text-transform);cursor:pointer}.button:hover{background:var(--dhx-scheduler-btn-background-hover);color:var(--dhx-scheduler-btn-color-hover);border-color:var(--dhx-scheduler-btn-border-hover)}.button:active{background:var(--dhx-scheduler-btn-background-active);color:var(--dhx-scheduler-btn-color-active);border-color:var(--dhx-scheduler-btn-border-active)}.button:disabled{background:var(--dhx-scheduler-btn-background-disabled);color:var(--dhx-scheduler-btn-color-disabled);border-color:var(--dhx-scheduler-btn-border-disabled)}.button-outline{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color);--dhx-scheduler-btn-background: var(--dhx-scheduler-btn-outline-background);--dhx-scheduler-btn-color: var(--dhx-scheduler-btn-outline-color);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-btn-outline-border-color);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-btn-outline-background-hover);--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-btn-outline-color-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-btn-outline-border-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-btn-outline-background-active);--dhx-scheduler-btn-color-active: var(--dhx-scheduler-btn-outline-color-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-btn-outline-border-active);--dhx-scheduler-btn-background-disabled: var(--dhx-scheduler-btn-outline-background-disabled);--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-btn-outline-color-disabled);--dhx-scheduler-btn-border-color-disabled: var(--dhx-scheduler-btn-outline-border-color-disabled)}.button-danger{--dhx-scheduler-btn-background: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-error-text);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-base-colors-error-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-base-colors-error-active)}.button-danger-outline{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color);--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-base-colors-error-lighter);--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-base-colors-error-active);--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-error-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-base-colors-error-active);--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: var(--dhx-scheduler-base-colors-icons)}.button-danger-link{padding:6px 0;--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-error-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent}.button-link{padding:6px 0;--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent}.button-icon{min-width:32px;height:32px;border-radius:50%;padding:6px 0;--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent}.button-icon:hover{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-icons-hover)}.button-icon:active{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-icons-active)}.button-icon:disabled{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color-disabled)}.dhx_cal_btn,.dhx_cal_btn_danger,.dhx_cal_btn_outline,.dhx_cal_btn_danger_outline,.dhx_cal_btn_danger_link,.dhx_btn_set,.dhx_cal_tab,.dhx_qi_big_icon,.dhx_cal_today_button,.dhx_cal_tab_standalone{background:var(--dhx-scheduler-btn-background);color:var(--dhx-scheduler-btn-color);border:1px solid var(--dhx-scheduler-btn-border-color);border-radius:var(--dhx-scheduler-border-radius);height:var(--dhx-scheduler-control-height);padding:var(--dhx-scheduler-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-scheduler-font-size);font-family:var(--dhx-scheduler-font-family);font-weight:var(--dhx-scheduler-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-scheduler-btn-text-transform);cursor:pointer}.dhx_cal_btn:hover,.dhx_cal_btn_danger:hover,.dhx_cal_btn_outline:hover,.dhx_cal_btn_danger_outline:hover,.dhx_cal_btn_danger_link:hover,.dhx_btn_set:hover,.dhx_cal_tab:hover,.dhx_qi_big_icon:hover,.dhx_cal_today_button:hover,.dhx_cal_tab_standalone:hover{background:var(--dhx-scheduler-btn-background-hover);color:var(--dhx-scheduler-btn-color-hover);border-color:var(--dhx-scheduler-btn-border-hover)}.dhx_cal_btn:active,.dhx_cal_btn_danger:active,.dhx_cal_btn_outline:active,.dhx_cal_btn_danger_outline:active,.dhx_cal_btn_danger_link:active,.dhx_btn_set:active,.dhx_cal_tab:active,.dhx_qi_big_icon:active,.dhx_cal_today_button:active,.dhx_cal_tab_standalone:active{background:var(--dhx-scheduler-btn-background-active);color:var(--dhx-scheduler-btn-color-active);border-color:var(--dhx-scheduler-btn-border-active)}.dhx_cal_btn:disabled,.dhx_cal_btn_danger:disabled,.dhx_cal_btn_outline:disabled,.dhx_cal_btn_danger_outline:disabled,.dhx_cal_btn_danger_link:disabled,.dhx_btn_set:disabled,.dhx_cal_tab:disabled,.dhx_qi_big_icon:disabled,.dhx_cal_today_button:disabled,.dhx_cal_tab_standalone:disabled{background:var(--dhx-scheduler-btn-background-disabled);color:var(--dhx-scheduler-btn-color-disabled);border-color:var(--dhx-scheduler-btn-border-disabled)}.scheduler_popup_button{background:var(--dhx-scheduler-btn-background);color:var(--dhx-scheduler-btn-color);border:1px solid var(--dhx-scheduler-btn-border-color);border-radius:var(--dhx-scheduler-border-radius);height:var(--dhx-scheduler-control-height);padding:var(--dhx-scheduler-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-scheduler-font-size);font-family:var(--dhx-scheduler-font-family);font-weight:var(--dhx-scheduler-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-scheduler-btn-text-transform);cursor:pointer}.scheduler_popup_button:hover{background:var(--dhx-scheduler-btn-background-hover);color:var(--dhx-scheduler-btn-color-hover);border-color:var(--dhx-scheduler-btn-border-hover)}.scheduler_popup_button:active{background:var(--dhx-scheduler-btn-background-active);color:var(--dhx-scheduler-btn-color-active);border-color:var(--dhx-scheduler-btn-border-active)}.scheduler_popup_button:disabled{background:var(--dhx-scheduler-btn-background-disabled);color:var(--dhx-scheduler-btn-color-disabled);border-color:var(--dhx-scheduler-btn-border-disabled)}.scheduler_popup_button:not(.scheduler_ok_button):not(.scheduler_rec_ok_button){--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color);--dhx-scheduler-btn-background: var(--dhx-scheduler-btn-outline-background);--dhx-scheduler-btn-color: var(--dhx-scheduler-btn-outline-color);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-btn-outline-border-color);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-btn-outline-background-hover);--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-btn-outline-color-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-btn-outline-border-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-btn-outline-background-active);--dhx-scheduler-btn-color-active: var(--dhx-scheduler-btn-outline-color-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-btn-outline-border-active);--dhx-scheduler-btn-background-disabled: var(--dhx-scheduler-btn-outline-background-disabled);--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-btn-outline-color-disabled);--dhx-scheduler-btn-border-color-disabled: var(--dhx-scheduler-btn-outline-border-color-disabled)}.scheduler_ok_button{--dhx-scheduler-btn-background: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-error-text);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-base-colors-error-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-base-colors-error-active)}.dhx_cal_btn_outline,.dhx_cal_btn_danger_outline{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color);--dhx-scheduler-btn-background: var(--dhx-scheduler-btn-outline-background);--dhx-scheduler-btn-color: var(--dhx-scheduler-btn-outline-color);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-btn-outline-border-color);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-btn-outline-background-hover);--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-btn-outline-color-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-btn-outline-border-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-btn-outline-background-active);--dhx-scheduler-btn-color-active: var(--dhx-scheduler-btn-outline-color-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-btn-outline-border-active);--dhx-scheduler-btn-background-disabled: var(--dhx-scheduler-btn-outline-background-disabled);--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-btn-outline-color-disabled);--dhx-scheduler-btn-border-color-disabled: var(--dhx-scheduler-btn-outline-border-color-disabled)}.dhx_cal_button_danger,.dhx_cal_button_danger_outline{--dhx-scheduler-btn-background: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-error-text);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-base-colors-error-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-base-colors-error-active)}.dhx_cal_button_link,.dhx_qi_big_icon{padding:6px 0;--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent}.dhx_unselectable,.dhx_unselectable div{-webkit-user-select:none;user-select:none}.dhx_cal_container{position:relative;overflow:hidden;font-family:var(--dhx-scheduler-font-family);font-size:var(--dhx-scheduler-font-size);line-height:110%;display:flex;flex-direction:column;background-color:var(--dhx-scheduler-container-background);color:var(--dhx-scheduler-container-color);text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased}.dhx_cal_container div[role=button]{cursor:pointer}.dhx_cal_container.dhx_cal_container_rtl{direction:rtl}.dhx_cal_container,.dhx_cal_container *{box-sizing:border-box}.dhx_cal_container div{-webkit-user-select:none;user-select:none}.dhx_cal_data,.dhx_cal_event,.dhx_cal_event_clear,.dhx_cal_event_line{touch-action:pan-y}.dhx_cal_navline{position:relative;display:flex;align-items:center;flex-wrap:wrap;row-gap:8px;justify-content:space-between;font-weight:var(--dhx-scheduler-important-font-weight);padding:12px;min-height:var(--dhx-scheduler-toolbar-height);color:var(--dhx-scheduler-navline-font-color)}.dhx_cal_navline_flex .dhx_cal_navbar_rows_container{display:flex;align-items:center;flex-direction:column;box-sizing:border-box;flex-grow:1;gap:12px;height:100%}.dhx_cal_navline_flex .dhx_cal_date{width:auto;margin-left:auto;margin-right:auto}.dhx_cal_navline_flex .dhx_cal_today_button{order:unset}.dhx_cal_navline_flex .dhx_cal_navbar_row{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;padding:0 1vw;box-sizing:border-box;height:100%;width:100%;flex-grow:1;flex-shrink:1}.dhx_cal_navline_flex .dhx_cal_line_spacer{display:block;width:auto;flex-grow:1}@media only screen and (max-width: 1023px){.dhx_cal_navline_flex .dhx_cal_next_button,.dhx_cal_navline_flex .dhx_cal_prev_button,.dhx_cal_navline_flex .dhx_cal_tab,.dhx_cal_navline_flex .dhx_cal_tab.active,.dhx_cal_navline_flex .dhx_cal_today_button{height:2.5vw;line-height:2.5vw}}@media only screen and (max-width: 840px){.dhx_cal_navline_flex{--dhx-scheduler-btn-padding: 0 12px}.dhx_cal_navline_flex .dhx_cal_next_button,.dhx_cal_navline_flex .dhx_cal_prev_button,.dhx_cal_navline_flex .dhx_cal_tab,.dhx_cal_navline_flex .dhx_cal_tab.active,.dhx_cal_navline_flex .dhx_cal_today_button{height:4vw;line-height:4vw}}@media only screen and (max-width: 480px){.dhx_cal_navline_flex{--dhx-scheduler-btn-padding: 0 4px}.dhx_cal_navline_flex .dhx_cal_next_button,.dhx_cal_navline_flex .dhx_cal_prev_button{width:2rem}}@media only screen and (max-width: 480px){.dhx_cal_navline_flex .dhx_cal_next_button,.dhx_cal_navline_flex .dhx_cal_prev_button,.dhx_cal_navline_flex .dhx_cal_tab,.dhx_cal_navline_flex .dhx_cal_tab.active,.dhx_cal_navline_flex .dhx_cal_today_button{height:6vw;line-height:6vw}}.dhx_cal_tab:not(.active),.dhx_cal_tab_standalone:not(.active),.dhx_cal_today_button:not(.active){--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color);--dhx-scheduler-btn-background: var(--dhx-scheduler-btn-outline-background);--dhx-scheduler-btn-color: var(--dhx-scheduler-btn-outline-color);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-btn-outline-border-color);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-btn-outline-background-hover);--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-btn-outline-color-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-btn-outline-border-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-btn-outline-background-active);--dhx-scheduler-btn-color-active: var(--dhx-scheduler-btn-outline-color-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-btn-outline-border-active);--dhx-scheduler-btn-background-disabled: var(--dhx-scheduler-btn-outline-background-disabled);--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-btn-outline-color-disabled);--dhx-scheduler-btn-border-color-disabled: var(--dhx-scheduler-btn-outline-border-color-disabled)}.dhx_cal_tab_segmented{border-left-style:none;border-radius:0}.dhx_cal_tab_segmented.dhx_cal_tab_first{border-left-style:solid;border-radius:var(--dhx-scheduler-border-radius) 0px 0px var(--dhx-scheduler-border-radius);margin-left:4px}.dhx_cal_tab_segmented.dhx_cal_tab_last{border-radius:0px var(--dhx-scheduler-border-radius) var(--dhx-scheduler-border-radius) 0px;margin-right:4px}.dhx_cal_container_rtl .dhx_cal_tab_segmented.dhx_cal_tab_first{border-left-style:none;border-radius:0px var(--dhx-scheduler-border-radius) var(--dhx-scheduler-border-radius) 0px;margin-right:4px;margin-left:unset}.dhx_cal_container_rtl .dhx_cal_tab_segmented.dhx_cal_tab_last{border-radius:var(--dhx-scheduler-border-radius) 0px 0px var(--dhx-scheduler-border-radius);border-left-style:solid;margin-right:unset;margin-left:4px}.dhx_cal_container_rtl .dhx_cal_date{margin-right:unset;margin-left:auto}.dhx_cal_container_rtl .dhx_cal_header{border-left:var(--dhx-scheduler-default-border);border-right:none}.dhx_cal_tab_standalone{border-radius:var(--dhx-scheduler-border-radius);margin:0 4px}.dhx_cal_header{height:21px;border-top:var(--dhx-scheduler-header-border);border-right:var(--dhx-scheduler-header-border);position:relative;overflow:hidden}.dhx_scale_bar{position:absolute}.dhx_cal_date{text-align:center;position:relative;margin-right:auto;font-size:var(--dhx-scheduler-heading-font-size);line-height:150%;font-weight:var(--dhx-scheduler-heading-font-weight);flex-shrink:0}.dhx_cal_data{position:relative;flex:1;overflow-y:auto;overflow-x:hidden;border-top:var(--dhx-scheduler-default-border)}.dhx_scale_holder{position:absolute}.dhx_cal_today_button{margin-right:5px;order:-1}.dhx_cal_prev_button,.dhx_cal_next_button{order:0;width:20px;height:20px;background:var(--dhx-scheduler-btn-background);color:var(--dhx-scheduler-btn-color);border:1px solid var(--dhx-scheduler-btn-border-color);border-radius:var(--dhx-scheduler-border-radius);height:var(--dhx-scheduler-control-height);padding:var(--dhx-scheduler-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-scheduler-font-size);font-family:var(--dhx-scheduler-font-family);font-weight:var(--dhx-scheduler-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-scheduler-btn-text-transform);cursor:pointer;min-width:32px;height:32px;border-radius:50%;padding:6px 0;--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent;font-size:24px}.dhx_cal_prev_button:hover,.dhx_cal_next_button:hover{background:var(--dhx-scheduler-btn-background-hover);color:var(--dhx-scheduler-btn-color-hover);border-color:var(--dhx-scheduler-btn-border-hover)}.dhx_cal_prev_button:active,.dhx_cal_next_button:active{background:var(--dhx-scheduler-btn-background-active);color:var(--dhx-scheduler-btn-color-active);border-color:var(--dhx-scheduler-btn-border-active)}.dhx_cal_prev_button:disabled,.dhx_cal_next_button:disabled{background:var(--dhx-scheduler-btn-background-disabled);color:var(--dhx-scheduler-btn-color-disabled);border-color:var(--dhx-scheduler-btn-border-disabled)}.dhx_cal_prev_button:hover,.dhx_cal_next_button:hover{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-icons-hover)}.dhx_cal_prev_button:active,.dhx_cal_next_button:active{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-icons-active)}.dhx_cal_prev_button:disabled,.dhx_cal_next_button:disabled{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color-disabled)}.dhx_cal_prev_button:before,.dhx_cal_next_button:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.dhx_cal_prev_button:before{content:"";font-size:24px}.dhx_cal_next_button:before{content:"";font-size:24px}.dhx_cal_container_rtl .dhx_cal_prev_button:before{content:"";font-size:24px}.dhx_cal_container_rtl .dhx_cal_next_button:before{content:"";font-size:24px}.scheduler_container_resize_watcher{background:transparent;width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;pointer-events:none;border:0;box-sizing:border-box;opacity:0}.dhx_title_datepicker_container{z-index:2;position:absolute}.dhx_expand_icon{position:absolute;top:0;right:2px;cursor:pointer;z-index:4}.dhx_marked_timespan{position:absolute;width:100%;margin-left:0;display:flex;justify-content:center;align-items:center}.dhx_time_block{position:absolute;width:100%;background:var(--dhx-scheduler-blocked-time-background);z-index:1;opacity:.6}.dhx_time_block_reset{opacity:1}.dhx_scheduler_month .dhx_marked_timespan,.dhx_mini_calendar .dhx_marked_timespan{display:none}.dhx_timeline_table_wrapper .dhx_marked_timespan{z-index:1}.dhx_timeline_table_wrapper .dhx_time_block{z-index:2}.dhx_timeline_table_wrapper .dhx_cal_event_line{z-index:1}.dhx_timeline_table_wrapper .dhx_timeline_scrollable_data{overflow-x:auto}.dhx_now_time{width:100%;height:2px;background:var(--dhx-scheduler-today-marker-color);opacity:.5;box-shadow:0 1px 0 1px var(--dhx-scheduler-today-marker-color)}.dhx_matrix_now_time{background:var(--dhx-scheduler-today-marker-color);opacity:.5}.dhx_minical_icon{background:var(--dhx-scheduler-btn-background);color:var(--dhx-scheduler-btn-color);border:1px solid var(--dhx-scheduler-btn-border-color);border-radius:var(--dhx-scheduler-border-radius);height:var(--dhx-scheduler-control-height);padding:var(--dhx-scheduler-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-scheduler-font-size);font-family:var(--dhx-scheduler-font-family);font-weight:var(--dhx-scheduler-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-scheduler-btn-text-transform);min-width:32px;height:32px;border-radius:50%;padding:6px 0;--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent;cursor:pointer;font-size:24px}.dhx_minical_icon:hover{background:var(--dhx-scheduler-btn-background-hover);color:var(--dhx-scheduler-btn-color-hover);border-color:var(--dhx-scheduler-btn-border-hover)}.dhx_minical_icon:active{background:var(--dhx-scheduler-btn-background-active);color:var(--dhx-scheduler-btn-color-active);border-color:var(--dhx-scheduler-btn-border-active)}.dhx_minical_icon:disabled{background:var(--dhx-scheduler-btn-background-disabled);color:var(--dhx-scheduler-btn-color-disabled);border-color:var(--dhx-scheduler-btn-border-disabled)}.dhx_minical_icon:hover{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-icons-hover)}.dhx_minical_icon:active{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-icons-active)}.dhx_minical_icon:disabled{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color-disabled)}.dhx_minical_icon:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.dhx_minical_icon:before{content:""}.dhx_scale_ignore{display:none!important}.dhx_drag_placeholder{font-family:var(--dhx-scheduler-font-family);font-size:var(--dhx-scheduler-font-size)}.dhx_hidden{display:none!important}.common_input{border-radius:2px;background-color:var(--dhx-scheduler-lightbox-background);color:var(--dhx-scheduler-lightbox-color);border:var(--dhx-scheduler-lightbox-control-border);font-size:var(--dhx-scheduler);padding:6px 8px;box-sizing:border-box;margin-top:0;margin-bottom:0}.common_input:focus,.common_input:focus-visible{border-color:var(--dhx-scheduler-base-colors-primary);outline:none}.common_input:disabled{background-color:var(--dhx-scheduler-base-colors-disabled);color:var(--dhx-scheduler-base-colors-icons)}.one_line_input{height:var(--dhx-scheduler-control-height)}.dhx_cal_cover,.dhx_cal_cover *{box-sizing:border-box}.dhx_cal_cover{width:100%;height:100%;position:fixed;z-index:14;top:0;left:0;background-color:#0006;display:flex;justify-content:center;align-items:center;overflow:auto}.dhx_cal_light{margin-top:auto;margin-bottom:auto;width:max-content;max-width:var(--dhx-scheduler-lightbox-width);height:auto;-webkit-tap-highlight-color:transparent;background-color:var(--dhx-scheduler-lightbox-background);color:var(--dhx-scheduler-lightbox-color);position:absolute;z-index:15;font-family:var(--dhx-scheduler-lightbox_font-family);font-size:var(--dhx-scheduler-lightbox-font-size);font-weight:var(--dhx-scheduler-lightbox-font-weight);line-height:142%;border:var(--dhx-scheduler-lightbox-border);border-radius:var(--dhx-scheduler-popup-border-radius)}.dhx_cal_light.dhx_cal_light_wide{--dhx-scheduler-lightbox-width: var(--dhx-scheduler-lightbox-wide-max-width)}.dhx_cal_light textarea,.dhx_cal_light input,.dhx_cal_light select{border-radius:2px;background-color:var(--dhx-scheduler-lightbox-background);color:var(--dhx-scheduler-lightbox-color);border:var(--dhx-scheduler-lightbox-control-border);font-size:var(--dhx-scheduler);padding:6px 8px;box-sizing:border-box;margin-top:0;margin-bottom:0}.dhx_cal_light textarea:focus,.dhx_cal_light input:focus,.dhx_cal_light select:focus,.dhx_cal_light textarea:focus-visible,.dhx_cal_light input:focus-visible,.dhx_cal_light select:focus-visible{border-color:var(--dhx-scheduler-base-colors-primary);outline:none}.dhx_cal_light textarea:disabled,.dhx_cal_light input:disabled,.dhx_cal_light select:disabled{background-color:var(--dhx-scheduler-base-colors-disabled);color:var(--dhx-scheduler-base-colors-icons)}.dhx_cal_light input,.dhx_cal_light select{height:var(--dhx-scheduler-control-height)}.dhx_cal_light input[type=select],.dhx_cal_light input[type=checkbox]{height:var(--dhx-scheduler-checkbox-height)}.dhx_cal_light .dhx_time{display:none}.dhx_cal_ltitle{font-size:var(--dhx-scheduler-lightbox-title-font-size);font-weight:var(--dhx-scheduler-heading-font-weight);line-height:142%;background:var(--dhx-scheduler-lightbox-title-background);color:var(--dhx-scheduler-lightbox-title-color);border-bottom:var(--dhx-scheduler-default-border);padding:calc(var(--dhx-scheduler-base-padding) * 3) calc(var(--dhx-scheduler-base-padding) * 3);overflow:hidden;white-space:nowrap;display:flex;flex-direction:row;justify-content:space-between;gap:calc(var(--dhx-scheduler-base-padding) * 2);border-top-right-radius:var(--dhx-scheduler-popup-border-radius);border-top-left-radius:var(--dhx-scheduler-popup-border-radius)}.dhx_cal_ltitle .dhx_mark{display:none}.dhx_cal_ltitle .dhx_cal_ltitle_descr{overflow:hidden;text-overflow:ellipsis}.dhx_cal_ltitle .dhx_cal_ltitle_controls{cursor:pointer}.dhx_cal_larea{border:none;padding:0 12px 4px;height:auto;gap:calc(var(--dhx-scheduler-base-padding) * 2)}.dhx_btn_inner.dhx_delete_btn{display:block!important}.dhx_btn_inner.dhx_delete_btn:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.dhx_btn_inner.dhx_delete_btn:before{content:"";font-size:18px}.dhx_cal_light_rtl{direction:rtl}.dhx_cal_light_wide.dhx_cal_light_rtl .dhx_custom_button{right:auto;left:calc(var(--dhx-scheduler-base-padding) * 2)}.dhx_lightbox_time_select{min-width:80px}.dhx_lightbox_day_select{min-width:60px}.dhx_lightbox_month_select{min-width:110px}.dhx_lightbox_year_select{min-width:77px}.dhx_cal_light_wide .dhx_cal_larea{display:flex;flex-direction:column;padding-top:12px;gap:12px}.dhx_cal_light_wide .dhx_wrap_section{display:flex;flex:0;position:relative}.dhx_cal_light_wide .dhx_cal_lsection{width:120px;justify-content:start;align-items:start;flex-shrink:0;margin-top:0;margin-bottom:0;padding:4px 8px}.dhx_cal_light_wide .dhx_custom_button{position:absolute;left:auto;right:calc(var(--dhx-scheduler-base-padding) * 2)}.dhx_cal_light_wide .dhx_cal_ltext{flex:1}.dhx_cal_light_wide .dhx_section_time{justify-content:start}.dhx_cal_light_wide .dhx_fullday{margin-left:unset}.dhx_cal_lcontrols{display:flex;flex-direction:row-reverse;gap:calc(var(--dhx-scheduler-base-padding)*2);padding:12px}.dhx_cal_lcontrols .dhx_btn_set{display:flex;flex-direction:row;gap:var(--dhx-scheduler-base-padding)}.dhx_cal_lcontrols .dhx_btn_set.dhx_delete_btn_set{padding:6px 0;--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-error-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-error-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent}.dhx_cal_lcontrols .dhx_btn_set:not(.dhx_save_btn_set,.dhx_delete_btn_set){--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color);--dhx-scheduler-btn-background: var(--dhx-scheduler-btn-outline-background);--dhx-scheduler-btn-color: var(--dhx-scheduler-btn-outline-color);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-btn-outline-border-color);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-btn-outline-background-hover);--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-btn-outline-color-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-btn-outline-border-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-btn-outline-background-active);--dhx-scheduler-btn-color-active: var(--dhx-scheduler-btn-outline-color-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-btn-outline-border-active);--dhx-scheduler-btn-background-disabled: var(--dhx-scheduler-btn-outline-background-disabled);--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-btn-outline-color-disabled);--dhx-scheduler-btn-border-color-disabled: var(--dhx-scheduler-btn-outline-border-color-disabled)}.dhx_cal_lcontrols .dhx_btn_set .dhx_btn_inner{display:none}.dhx_cal_lcontrols .dhx_cal_lcontrols_push_right{margin-left:auto}.dhx_cal_ltext textarea{width:100%;height:100%;resize:none;font-family:var(--dhx-scheduler-lightbox_font-family);font-size:var(--dhx-scheduler-lightbox-font-size);font-weight:var(--dhx-scheduler-lightbox-font-weight);line-height:142%}.dhx_section_time_spacer,.dhx_lightbox_minical_spacer{visibility:hidden;flex-basis:100%;height:0}.dhx_section_time{--dhx-scheduler-lightbox-time-font-size: var(--dhx-scheduler-important-font-size);--dhx-scheduler-lightbox-time-font-weight: var(--dhx-scheduler-important-font-weight);font-size:var(--dhx-scheduler-lightbox-time-font-size);font-weight:var(--dhx-scheduler-lightbox-time-font-weight);line-height:142%;display:flex;flex-wrap:wrap;align-items:center;gap:calc(var(--dhx-scheduler-base-padding) * 2);row-gap:var(--dhx-scheduler-base-padding)}.dhx_section_time .dhx_section_time_icon{width:calc(var(--dhx-scheduler-base-module) * 2);height:calc(var(--dhx-scheduler-base-module) * 2);border-radius:2px;background:var(--dhx-scheduler-base-colors-primary)}.dhx_fullday{margin-left:auto}.dhx_cal_light_rtl .dhx_fullday{margin-left:unset;margin-right:auto}.dhx_cal_lsection label{font-weight:var(--dhx-scheduler-heading-font-weight);display:flex;align-items:center;gap:4px}.dhx_cal_lsection{display:flex;margin-top:12px;margin-bottom:4px}.dhx_cal_lsection .dhx_custom_button{background:var(--dhx-scheduler-btn-background);color:var(--dhx-scheduler-btn-color);border:1px solid var(--dhx-scheduler-btn-border-color);border-radius:var(--dhx-scheduler-border-radius);height:var(--dhx-scheduler-control-height);padding:var(--dhx-scheduler-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-scheduler-font-size);font-family:var(--dhx-scheduler-font-family);font-weight:var(--dhx-scheduler-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-scheduler-btn-text-transform);cursor:pointer;--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color);--dhx-scheduler-btn-background: var(--dhx-scheduler-btn-outline-background);--dhx-scheduler-btn-color: var(--dhx-scheduler-btn-outline-color);--dhx-scheduler-btn-border-color: var(--dhx-scheduler-btn-outline-border-color);--dhx-scheduler-btn-background-hover: var(--dhx-scheduler-btn-outline-background-hover);--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-btn-outline-color-hover);--dhx-scheduler-btn-border-hover: var(--dhx-scheduler-btn-outline-border-hover);--dhx-scheduler-btn-background-active: var(--dhx-scheduler-btn-outline-background-active);--dhx-scheduler-btn-color-active: var(--dhx-scheduler-btn-outline-color-active);--dhx-scheduler-btn-border-active: var(--dhx-scheduler-btn-outline-border-active);--dhx-scheduler-btn-background-disabled: var(--dhx-scheduler-btn-outline-background-disabled);--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-btn-outline-color-disabled);--dhx-scheduler-btn-border-color-disabled: var(--dhx-scheduler-btn-outline-border-color-disabled);order:1;margin-left:auto;margin-right:unset}.dhx_cal_lsection .dhx_custom_button:hover{background:var(--dhx-scheduler-btn-background-hover);color:var(--dhx-scheduler-btn-color-hover);border-color:var(--dhx-scheduler-btn-border-hover)}.dhx_cal_lsection .dhx_custom_button:active{background:var(--dhx-scheduler-btn-background-active);color:var(--dhx-scheduler-btn-color-active);border-color:var(--dhx-scheduler-btn-border-active)}.dhx_cal_lsection .dhx_custom_button:disabled{background:var(--dhx-scheduler-btn-background-disabled);color:var(--dhx-scheduler-btn-color-disabled);border-color:var(--dhx-scheduler-btn-border-disabled)}.dhx_cal_light_rtl .dhx_custom_button{margin-left:unset;margin-right:auto}.dhx_cal_checkbox{display:flex;align-items:center;gap:var(--dhx-scheduler-base-padding)}.dhx_cal_wide_checkbox{padding:4px 0}.dhx_cal_radio input{margin:var(--dhx-scheduler-base-padding)}.dhx_cal_radio_item{display:flex;gap:var(--dhx-scheduler-base-padding);align-items:center}.dhx_cal_radio{display:flex;gap:4px}.dhx_cal_radio_vertical{flex-direction:column;overflow:auto;--dhx-scheduler-control-height: 20px}.dhx_multi_select_control{display:flex;gap:4px}.dhx_multi_select_control_vertical{flex-direction:column}.dhx_multi_select_control label{display:flex;align-items:center;gap:4px}.dhx_cal_template{position:relative;padding-top:4px;padding-bottom:4px}.dhx_form_repeat{overflow:hidden;flex-grow:1}.dhx_form_repeat form{display:flex;flex-direction:column;gap:12px;padding:12px}.dhx_form_repeat input,.dhx_form_repeat select{border-radius:2px;background-color:var(--dhx-scheduler-lightbox-background);color:var(--dhx-scheduler-lightbox-color);border:var(--dhx-scheduler-lightbox-control-border);font-size:var(--dhx-scheduler);padding:6px 8px;box-sizing:border-box;margin:0 4px}.dhx_form_repeat input:focus,.dhx_form_repeat select:focus,.dhx_form_repeat input:focus-visible,.dhx_form_repeat select:focus-visible{border-color:var(--dhx-scheduler-base-colors-primary);outline:none}.dhx_form_repeat input:disabled,.dhx_form_repeat select:disabled{background-color:var(--dhx-scheduler-base-colors-disabled);color:var(--dhx-scheduler-base-colors-icons)}.dhx_form_repeat label{display:inline-flex;align-items:center;vertical-align:top;gap:4px}.dhx_form_repeat #dhx_repeat_year,.dhx_form_repeat #dhx_repeat_month,.dhx_form_repeat #dhx_repeat_week,.dhx_form_repeat #dhx_repeat_day,.dhx_form_repeat .dhx_repeat_right{display:flex;flex-direction:column;gap:4px}.dhx_form_repeat #dhx_repeat_month>div,.dhx_form_repeat #dhx_repeat_week>div{display:flex;align-items:center;gap:8px}.dhx_repeat_left{display:flex;flex-wrap:wrap;gap:12px}.dhx_repeat_divider{background:var(--dhx-scheduler-base-colors-border);height:1px}.dhx_repeat_text{width:28px;border-radius:2px;background-color:var(--dhx-scheduler-lightbox-background);color:var(--dhx-scheduler-lightbox-color);border:var(--dhx-scheduler-lightbox-control-border);font-size:var(--dhx-scheduler);padding:6px 8px;box-sizing:border-box;margin-top:0;margin-bottom:0}.dhx_repeat_text:focus,.dhx_repeat_text:focus-visible{border-color:var(--dhx-scheduler-base-colors-primary);outline:none}.dhx_repeat_text:disabled{background-color:var(--dhx-scheduler-base-colors-disabled);color:var(--dhx-scheduler-base-colors-icons)}.dhx_repeat_date,.dhx_form_repeat select{border-radius:2px;background-color:var(--dhx-scheduler-lightbox-background);color:var(--dhx-scheduler-lightbox-color);border:var(--dhx-scheduler-lightbox-control-border);font-size:var(--dhx-scheduler);padding:6px 8px;box-sizing:border-box;margin-top:0;margin-bottom:0}.dhx_repeat_date:focus,.dhx_form_repeat select:focus,.dhx_repeat_date:focus-visible,.dhx_form_repeat select:focus-visible{border-color:var(--dhx-scheduler-base-colors-primary);outline:none}.dhx_repeat_date:disabled,.dhx_form_repeat select:disabled{background-color:var(--dhx-scheduler-base-colors-disabled);color:var(--dhx-scheduler-base-colors-icons)}.dhx_cal_light .dhx_readonly{color:var(--dhx-scheduler-base-colors-readonly)}.dhx_lightbox_minical{display:flex;gap:8px;align-items:center}.dhx_lightbox_minical .dhx_lightbox_minical_spacer{display:flex;align-items:center;justify-content:center}.dhx_lightbox_minical .dhx_minical_input{max-width:165px}.dhx_lightbox_minical .dhx_lightbox_time_select{width:95px}.dhx_form_rrule,.dhx_form_rrule .dhx_form_repeat_custom,.dhx_form_rrule .dhx_form_repeat_ends,.dhx_form_rrule .dhx_form_repeat_ends_extra{display:flex;flex-direction:column;gap:8px}.dhx_form_rrule .dhx_form_repeat_ends_options{display:flex;gap:8px}.dhx_form_rrule label{display:inline-flex;align-items:center;vertical-align:top;gap:4px}.dhx_form_rrule input[type=number]{width:80px}.dhx_form_rrule .dhx_form_repeat_custom_week{display:flex;flex-wrap:wrap;gap:8px}.scheduler-recurring_mode{--dhx_scheduler-radio-size: 20px;--dhx_scheduler-radio-border-color: #4c84f1;--dhx_scheduler-radio-checked-color: #4c84f1;--dhx_scheduler-radio-checked-inner-size: 10px;--dhx_scheduler-font-size: 14px;--dhx_scheduler-label-margin: 10px}.scheduler-recurring_mode .dhtmlx_popup_title{padding-top:16px;padding-bottom:0}.scheduler-recurring_mode .scheduler_popup_text{justify-content:flex-start}.scheduler-recurring_mode .scheduler_popup_controls{justify-content:center;padding-bottom:16px}.scheduler-recurring_mode .scheduler_popup_button{min-width:110px}.scheduler-recurring_mode label.dhx_styled_radio{display:flex;align-items:center;cursor:pointer;padding-right:4px}.scheduler-recurring_mode .dhx_edit_recurrence_options{display:flex;flex-direction:column;gap:var(--dhx_scheduler-label-margin)}.scheduler-recurring_mode .dhx_styled_radio>input[type=radio]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:var(--dhx_scheduler-radio-size);height:var(--dhx_scheduler-radio-size);border:2px solid var(--dhx_scheduler-radio-border-color);border-radius:50%;outline:none;margin:2px 10px 2px 5px;display:inline-block;position:relative;background-color:transparent}.scheduler-recurring_mode .dhx_styled_radio>input[type=radio]:checked{background-color:transparent}.scheduler-recurring_mode .dhx_styled_radio>input[type=radio]:checked:after{content:"";width:var(--dhx_scheduler-radio-checked-inner-size);height:var(--dhx_scheduler-radio-checked-inner-size);background-color:var(--dhx_scheduler-radio-checked-color);border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.dhx_scale_text_styles{font-size:var(--dhx-scheduler-caption-font-size);font-weight:var(--dhx-scheduler-caption-font-weight);color:var(--dhx-scheduler-scale-color);line-height:133%}.dhx_scale_bar{font-size:var(--dhx-scheduler-caption-font-size);font-weight:var(--dhx-scheduler-caption-font-weight);color:var(--dhx-scheduler-scale-color);line-height:133%;display:flex;box-sizing:border-box;height:100%;justify-content:center;align-items:baseline;padding:var(--dhx-scheduler-base-padding);border-left:var(--dhx-scheduler-header-border);overflow:hidden}.dhx_scale_holder{border-right:var(--dhx-scheduler-default-border);background:var(--dhx-scheduler-timescale-background);box-sizing:border-box}.dhx_scale_holder_now{--dhx-scheduler-timescale-background: var(--dhx-scheduler-timescale-today-background);position:absolute}.dhx_cal_container_rtl .dhx_scale_bar{border-left:none;border-right:var(--dhx-scheduler-header-border)}.dhx_cal_container_rtl .dhx_scale_holder{border-right:none;border-left:var(--dhx-scheduler-default-border)}.dhx_scale_hour{font-size:var(--dhx-scheduler-caption-font-size);font-weight:var(--dhx-scheduler-caption-font-weight);color:var(--dhx-scheduler-scale-color);line-height:133%;font-size:var(--dhx-scheduler-hours-font-size);font-weight:var(--dhx-scheduler-hours-font-weight);border-bottom:var(--dhx-scheduler-default-border);display:flex;flex-direction:column;align-items:center;justify-content:start;padding:var(--dhx-scheduler-base-padding);box-sizing:border-box}.dhx_scale_time_slot{box-sizing:border-box;border-bottom:var(--dhx-scheduler-default-border)}.dhx_scale_time_slot.dhx_scale_time_slot_hour_start{border-bottom:var(--dhx-scheduler-halfhour-border)}.dhx_drag_marker{width:100%;opacity:.5;background-color:var(--dhx-scheduler-base-colors-border);position:absolute;box-sizing:border-box;border-top:var(--dhx-scheduler-default-border);border-bottom:var(--dhx-scheduler-default-border)}.dhx_multi_day{position:relative;border-top:var(--dhx-scheduler-default-border)}.dhx_multi_day_icon,.dhx_multi_day_icon_small{background-position:50%;font-size:32px;border-bottom:var(--dhx-scheduler-default-border);border-right:var(--dhx-scheduler-default-border);background-repeat:no-repeat;display:flex;justify-content:center;align-items:center}.dhx_multi_day_icon:before,.dhx_multi_day_icon_small:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.dhx_multi_day_icon:before,.dhx_multi_day_icon_small:before{content:""}.dhx_multi_day_icon_small{font-size:16px}.dhx_cal_container_rtl .dhx_multi_day_icon,.dhx_cal_container_rtl .dhx_multi_day_icon_small{border-right:none;border-left:var(--dhx-scheduler-default-border)}.dhx_scheduler_event_base{background:var(--dhx-scheduler-event-background);color:var(--dhx-scheduler-event-color);display:flex;padding:2px var(--dhx-scheduler-base-module);border:var(--dhx-scheduler-event-border);position:absolute;box-sizing:border-box;font-size:var(--dhx-scheduler-event-text-font-size);line-height:var(--dhx-scheduler-event-text-line-height);font-weight:var(--dhx-scheduler-event-text-font-weight);--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-event-color)}.dhx_title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dhx_cal_event{border-radius:var(--dhx-scheduler-border-radius);flex-direction:column;background:var(--dhx-scheduler-event-background);color:var(--dhx-scheduler-event-color);display:flex;padding:2px var(--dhx-scheduler-base-module);border:var(--dhx-scheduler-event-border);position:absolute;box-sizing:border-box;font-size:var(--dhx-scheduler-event-text-font-size);line-height:var(--dhx-scheduler-event-text-line-height);font-weight:var(--dhx-scheduler-event-text-font-weight);--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-event-color)}.dhx_cal_event .dhx_title{font-size:var(--dhx-scheduler-event-title-font-size);line-height:var(--dhx-scheduler-event-title-line-height);max-height:21px}.dhx_cal_event .dhx_body{font-size:var(--dhx-scheduler-event-text-font-size);line-height:var(--dhx-scheduler-event-text-line-height);flex:1;gap:4px;overflow:hidden;text-overflow:ellipsis}.dhx_cal_event .dhx_event_move.dhx_header{display:none}.dhx_cal_event .dhx_event_resize{cursor:ns-resize}.dhx_cal_event .dhx_resize_denied{display:none!important}.dhx_cal_event .dhx_footer{position:absolute;bottom:2px;opacity:0}.dhx_cal_event .dhx_menu_icon{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-event-text)}.dhx_cal_event .dhx_menu_icon.icon_delete{margin-left:-2px}.dhx_cal_event.dhx_cal_select_menu{padding:8px 2px;box-shadow:var(--dhx-scheduler-box-shadow-s);--dhx-scheduler-event-background: var(--dhx-scheduler-event-menu-background);--dhx-scheduler-event-color: var(--dhx-scheduler-event-menu-color)}.dhx_cal_event.dhx_cal_select_menu .dhx_body{display:flex;flex-direction:column;gap:4px;align-items:center}.dhx_cal_event textarea.dhx_cal_editor{width:100%;height:100%;padding:0;margin:0;overflow:auto;font-family:var(--dhx-scheduler-font-family);font-size:var(--dhx-scheduler-font-size)}.dhx_cal_event_cascade{--dhx-scheduler-event-border: 1px solid rgba(0, 0, 0, .05)}.dhx_cal_editor{z-index:10}.dhx_cal_event .dhx_footer,.dhx_cal_event .dhx_select_menu_footer{height:calc(var(--dhx-scheduler-base-module) * 2);border-width:0;position:relative;margin-left:auto;margin-right:auto}.dhx_cal_event .dhx_footer:before,.dhx_cal_event .dhx_select_menu_footer:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.dhx_cal_event .dhx_footer:before,.dhx_cal_event .dhx_select_menu_footer:before{content:""}.dhx_cal_event.dhx_cal_event_drag .dhx_event_resize.dhx_footer,.dhx_cal_event.dhx_cal_event_selected .dhx_event_resize.dhx_footer,.dhx_cal_event:hover .dhx_event_resize.dhx_footer{opacity:1;background-color:transparent}.dhx_cal_event_line{background:var(--dhx-scheduler-event-background);color:var(--dhx-scheduler-event-color);display:flex;padding:2px var(--dhx-scheduler-base-module);border:var(--dhx-scheduler-event-border);position:absolute;box-sizing:border-box;font-size:var(--dhx-scheduler-event-text-font-size);line-height:var(--dhx-scheduler-event-text-line-height);font-weight:var(--dhx-scheduler-event-text-font-weight);--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-event-color);--dhx-scheduler-event-text-font-size: var(--dhx-scheduler-event-bar-font-size);--dhx-scheduler-event-text-line-height: var(--dhx-scheduler-event-bar-line-height);cursor:pointer;align-items:center;z-index:1;overflow:hidden;padding-left:12px;white-space:nowrap}.dhx_cal_event_line.dhx_cal_event_line_end{border-top-right-radius:var(--dhx-scheduler-border-radius);border-bottom-right-radius:var(--dhx-scheduler-border-radius)}.dhx_cal_event_line.dhx_cal_event_line_start{border-top-left-radius:var(--dhx-scheduler-border-radius);border-bottom-left-radius:var(--dhx-scheduler-border-radius)}.dhx_cal_event_line.dhx_cal_event--small{padding-left:8px}.dhx_cal_event_line.dhx_cal_event--xsmall{padding-left:4px}.dhx_cal_container_rtl .dhx_cal_event_line{border-top-right-radius:unset;border-bottom-right-radius:unset;border-top-left-radius:unset;border-bottom-left-radius:unset}.dhx_cal_container_rtl .dhx_cal_event_line.dhx_cal_event_line_end{border-top-left-radius:var(--dhx-scheduler-border-radius);border-bottom-left-radius:var(--dhx-scheduler-border-radius)}.dhx_cal_container_rtl .dhx_cal_event_line.dhx_cal_event_line_start{border-top-right-radius:var(--dhx-scheduler-border-radius);border-bottom-right-radius:var(--dhx-scheduler-border-radius)}.dhx_cal_event.dhx_cal_event--xsmall,.dhx_cal_event.dhx_cal_event--small{flex-direction:row-reverse;justify-content:space-between;--dhx-scheduler-event-title-font-size: var(--dhx-scheduler-event-bar-font-size);--dhx-scheduler-event-title-line-height: var(--dhx-scheduler-event-bar-line-height);--dhx-scheduler-event-text-font-size: var(--dhx-scheduler-event-bar-font-size);--dhx-scheduler-event-text-line-height: var(--dhx-scheduler-event-bar-line-height);gap:4px;padding-top:2px;padding-bottom:1px}.dhx_cal_event.dhx_cal_event--xsmall .dhx_title,.dhx_cal_event.dhx_cal_event--small .dhx_title{display:flex;justify-content:end}.dhx_cal_event.dhx_cal_event--xsmall .dhx_body,.dhx_cal_event.dhx_cal_event--small .dhx_body{flex-grow:2}.dhx_cal_event.dhx_cal_event--xsmall .dhx_footer,.dhx_cal_event.dhx_cal_event--small .dhx_footer,.dhx_cal_event.dhx_cal_event--xsmall .dhx_select_menu_footer,.dhx_cal_event.dhx_cal_event--small .dhx_select_menu_footer{position:absolute;bottom:0;left:4px;width:100%;transform:translateY(50%)}.dhx_cal_month_table{overflow:hidden}.dhx_cal_month_row{display:flex}.dhx_cal_month_cell{box-sizing:border-box;background:var(--dhx-scheduler-timescale-background);border-right:var(--dhx-scheduler-default-border);border-bottom:var(--dhx-scheduler-default-border);display:flex;flex-direction:column}.dhx_cal_month_cell.dhx_now{--dhx-scheduler-timescale-background: var(--dhx-scheduler-timescale-today-background)}.dhx_month_body_border,.dhx_month_head_border{border-left:var(--dhx-scheduler-default-border)}.dhx_cal_container_rtl .dhx_cal_month_cell{border-left:var(--dhx-scheduler-default-border);border-right:none}.dhx_cal_container_rtl .dhx_month_body_border,.dhx_cal_container_rtl .dhx_month_head_border{border-left:none;border-right:var(--dhx-scheduler-default-border)}.dhx_month_head{box-sizing:border-box;display:flex;flex-shrink:0;color:var(--dhx-scheduler-month-header-color);justify-content:end;align-items:flex-start;align-self:stretch;padding:var(--dhx-scheduler-month-day-header-padding)}.dhx_month_body{flex-grow:1;padding:var(--dhx-scheduler-base-padding) calc(var(--dhx-scheduler-base-padding) * 2);box-sizing:border-box;position:relative}.dhx_before,.dhx_after{--dhx-scheduler-month-header-color: var(--dhx-scheduler-inactive-month-color)}.dhx_month_link{position:absolute;text-align:right;cursor:pointer;padding-right:10px}.dhx_month_link a:hover{text-decoration:underline}.dhx_global_tip{font-family:var(--dhx-scheduler-font-family);line-height:110%;background-color:var(--dhx-scheduler-container-background);color:var(--dhx-scheduler-container-color);text-align:center;font-size:20px;position:fixed;top:60px;right:20px;z-index:14;padding:20px 30px;width:190px;background:var(--dhx-scheduler-popup-background);color:var(--dhx-scheduler-popup-color);border:var(--dhx-scheduler-popup-border);box-shadow:var(--dhx-scheduler-box-shadow-m)}@media (-moz-touch-enabled){.dhx_cal_container{-webkit-user-select:none;user-select:none;-moz-user-select:none}}.dhx_cal_event_clear{box-sizing:border-box;padding:var(--dhx-scheduler-base-padding) calc(var(--dhx-scheduler-base-padding) * 2);font-size:var(--dhx-scheduler-caption-font-size);font-weight:var(--dhx-scheduler-caption-font-weight);display:flex;justify-content:start;align-items:center;gap:var(--dhx-scheduler-base-padding);cursor:pointer;flex-wrap:nowrap;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dhx_cal_event_clear_date{font-weight:700}.dhx_cal_event_line_content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dhx_cal_event_marker{display:block;flex-shrink:0;border-radius:var(--dhx-scheduler-month-event-marker-size);width:var(--dhx-scheduler-month-event-marker-size);height:var(--dhx-scheduler-month-event-marker-size);background:var(--dhx-scheduler-event-background);margin-top:-1px}.dhx_cal_event_clear:before{content:"";display:block;flex-shrink:0;border-radius:var(--dhx-scheduler-month-event-marker-size);width:var(--dhx-scheduler-month-event-marker-size);height:var(--dhx-scheduler-month-event-marker-size);background:var(--dhx-scheduler-event-background);margin-top:-1px}.dhx_cal_event_line .dhx_event_resize{cursor:ew-resize;position:absolute;top:0;height:100%;display:none;justify-content:center;align-items:center}.dhx_cal_event_line .dhx_event_resize:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.dhx_cal_event_line .dhx_event_resize:before{content:""}.dhx_cal_event_line:hover .dhx_event_resize{display:flex}.dhx_event_resize_end{right:0}.dhx_event_resize_start{left:0}.dhx_cal_container_rtl .dhx_event_resize_start{left:auto;left:unset;right:0}.dhx_cal_container_rtl .dhx_event_resize_end{right:auto;right:unset;left:0}.dhx_cal_quick_info{--dhx-scheduler-quick-info-font-size: var(--dhx-regular-font-size);position:absolute;z-index:8;font-size:var(--dhx-scheduler-quick-info-font-size);background:var(--dhx-scheduler-popup-background);color:var(--dhx-scheduler-popup-color);border:var(--dhx-scheduler-popup-border);padding:calc(var(--dhx-scheduler-base-padding)*2) calc(var(--dhx-scheduler-base-padding)*3);border-radius:var(--dhx-scheduler-border-radius);width:300px;display:flex;flex-direction:column;box-shadow:var(--dhx-scheduler-box-shadow-s);transition:left .5s ease,right .5s ease}.dhx_cal_qi_tcontrols{display:flex;justify-content:end;height:8px}.dhx_cal_qi_tcontrols .dhx_cal_qi_close_btn{min-width:32px;height:32px;border-radius:50%;--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent;width:unset;min-width:unset;padding:2px;font-size:18px;cursor:pointer;height:20px;position:relative;z-index:1}.dhx_cal_qi_tcontrols .dhx_cal_qi_close_btn:hover{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-icons-hover)}.dhx_cal_qi_tcontrols .dhx_cal_qi_close_btn:active{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-base-colors-icons-active)}.dhx_cal_qi_tcontrols .dhx_cal_qi_close_btn:disabled{--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color-disabled)}.dhx_cal_qi_title,.dhx_cal_qi_controls,.dhx_cal_qi_content{padding:0 calc(var(--dhx-scheduler-base-padding) * 3)}.dhx_cal_qi_title{display:flex;flex-direction:column;gap:12px;padding-right:14px}.dhx_cal_qi_tcontent{font-size:var(--dhx-scheduler-heading-font-size);font-weight:var(--dhx-scheduler-heading-font-weight);line-height:150%;position:relative;display:flex;flex-direction:row;justify-content:start;align-items:center;gap:8px;overflow:hidden;flex-grow:0;text-overflow:ellipsis;white-space:nowrap}.dhx_cal_qi_tcontent>span{text-overflow:ellipsis;overflow:hidden}.dhx_cal_qi_tcontent:before{display:var(--dhx-scheduler-quick-info-dot-display, block);content:"";flex-shrink:0;width:var(--dhx-scheduler-month-event-marker-size);height:var(--dhx-scheduler-month-event-marker-size);border-radius:2px;background:var(--dhx-scheduler-base-colors-primary)}.dhx_cal_qi_tdate{font-size:var(--dhx-scheduler-important-font-size);font-weight:var(--dhx-scheduler-important-font-weight);line-height:var(--dhx-scheduler-important-line-height)}.dhx_cal_qi_content{padding-top:16px;padding-bottom:8px}.dhx_cal_qi_controls{display:flex;flex-direction:row;justify-content:start;align-items:center;padding-top:8px;gap:12px;color:var(--dhx-scheduler-base-colors-primary)}.dhx_cal_qi_controls>div:first-child{margin-left:-3px}.dhx_menu_icon{width:20px;height:20px;display:flex;align-items:center;justify-content:center;--dhx-scheduler-base-colors-icons: var(--dhx-scheduler-btn-color)}.dhx_scheduler_year .dhx_cal_header{display:none}.dhx_scheduler_year .dhx_cal_data{padding:40px}.dhx_year_wrapper{display:flex;gap:40px;padding:12px;justify-content:center;align-items:baseline;flex-wrap:wrap}.dhx_year_box{--dhx-scheduler-month-day-header-padding: 8px 12px}.dhx_year_box .dhx_scale_bar{position:relative;width:var(--dhx-scheduler-datepicker-cell-size)}.dhx_year_box .dhx_month_head{position:relative}.dhx_year_box .dhx_month_head.dhx_year_event:after{content:"";width:4px;height:4px;border-radius:50%;position:absolute;bottom:2px;left:50%;transform:translate(-50%);background:var(--dhx-scheduler-event-marker-color)}.dhx_year_box .dhx_month_body{display:none}.dhx_year_month{text-align:center;padding:12px 0}.dhx_year_week{display:flex}.dhx_year_tooltip{position:absolute;padding:12px;font-family:var(--dhx-scheduler-font-family);font-size:var(--dhx-scheduler-event-title-font-size);background:var(--dhx-scheduler-popup-background);border-radius:var(--dhx-scheduler-popup-border-radius);border:var(--dhx-scheduler-popup-border);color:var(--dhx-scheduler-popup-color);box-shadow:var(--dhx-scheduler-box-shadow-m);display:flex;flex-direction:column;width:300px;gap:4px}.dhx_tooltip_line{border-radius:var(--dhx-scheduler-border-radius);background:var(--dhx-scheduler-event-background);color:var(--dhx-scheduler-event-color);padding:4px;display:flex;cursor:pointer}.dhx_tooltip_rtl{direction:rtl}.dhx_timeline_scale_header{position:absolute;overflow:hidden;background-color:var(--dhx-scheduler-container-background);display:flex;justify-content:center;align-items:center;border-right:var(--dhx-scheduler-header-border);border-top:var(--dhx-scheduler-header-border)}.dhx_cal_container_rtl .dhx_timeline_scale_header{border-right:unset;border-left:var(--dhx-scheduler-header-border)}.dhx_timeline_label_wrapper{z-index:1}.dhx_timeline_label_col{position:relative}.dhx_timeline_label_row{position:absolute;left:0}.dhx_matrix_scell{overflow:hidden;text-align:center;border-bottom:var(--dhx-scheduler-default-border);border-right:var(--dhx-scheduler-default-border);color:var(--dhx-scheduler-scale-color)}.dhx_timeline_data_wrapper{position:absolute;z-index:0;left:0;top:0;width:100%}.dhx_matrix_cell,.dhx_matrix_scell{overflow:hidden;text-align:center;vertical-align:middle;border-bottom:var(--dhx-scheduler-default-border);border-right:var(--dhx-scheduler-default-border);font-weight:500}.dhx_cal_container_rtl .dhx_matrix_cell,.dhx_cal_container_rtl .dhx_matrix_scell{border-right:none;border-left:var(--dhx-scheduler-default-border)}.dhx_matrix_cell div,.dhx_matrix_scell div{overflow:hidden;text-align:center;height:auto}.dhx_timeline_data_cell{position:absolute;top:0;height:100%}.dhx_timeline_label_wrapper{position:absolute;overflow:hidden;background:var(--dhx-scheduler-container-background)}.dhx_matrix_scell.folder,.dhx_data_table.folder .dhx_matrix_cell{background-color:var(--dhx-scheduler-timeline-folder-background);cursor:pointer}.dhx_matrix_scell.folder{border-right-color:transparent;font-weight:700;text-align:left}.dhx_matrix_scell .dhx_scell_level{padding-left:var(--dhx-scheduler-treetimeline-level-padding-value)}.dhx_cal_container_rtl .dhx_matrix_scell.folder{border-right:var(--dhx-scheduler-default-border);border-left-color:transparent}.dhx_cal_container_rtl .dhx_matrix_scell .dhx_scell_level{padding-left:0;padding-right:var(--dhx-scheduler-treetimeline-level-padding-value)}.dhx_matrix_line{overflow:hidden}.dhx_matrix_scell.folder .dhx_scell_expand:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.dhx_matrix_scell.folder .dhx_scell_expand:before{content:"";font-size:24px}.dhx_matrix_scell.folder.closed .dhx_scell_expand{transform:rotate(-90deg)}.dhx_matrix_scell.folder,.dhx_timeline_label_row.dhx_row_folder{overflow:visible}.dhx_matrix_scell.folder>div{display:flex;align-items:center;height:inherit}.dhx_matrix_scell.folder .dhx_scell_expand{position:relative;flex-shrink:0}.dhx_matrix_scell.folder .dhx_scell_name{width:auto;color:var(--dhx-scheduler-timeline-folder-color);text-transform:uppercase;font-weight:500;max-height:100%}.dhx_matrix_scell.item .dhx_scell_name{padding-left:16px;text-align:left}.dhx_cal_container_rtl .dhx_matrix_scell.folder .dhx_scell_expand{padding-right:0;padding-left:4px}.dhx_cal_container_rtl .dhx_matrix_scell.item .dhx_scell_name{padding-left:0;padding-right:12px;text-align:right}.dhx_matrix_scell.dhx_matrix_scell_columns,.dhx_timeline_scale_header{display:flex;justify-content:center;align-items:center}.dhx_matrix_scell_columns.dhx_treetimeline .dhx_scell_name{display:flex}.dhx_matrix_scell_columns.dhx_treetimeline .dhx_scell_level{flex-shrink:0}.dhx_matrix_scell_columns.dhx_treetimeline .dhx_timeline_label_column_first{flex-shrink:1;border-left-color:transparent}.dhx_second_scale_bar{border-bottom:var(--dhx-scheduler-header-border)}div.dhx_timeline_label_column,div.dhx_timeline_label_column_header{display:flex;justify-content:center;align-items:center;box-sizing:border-box;flex-grow:0;flex-shrink:0;height:100%;white-space:nowrap}div.dhx_timeline_label_column .dhx_timeline_label_content_wrapper,div.dhx_timeline_label_column_header .dhx_timeline_label_content_wrapper{display:inline-block;text-align:left}.dhx_timeline_label_column{border-left:var(--dhx-scheduler-header-border)}.dhx_timeline_label_column_header{border-left-color:transparent}.dhx_timeline_label_column:first-child{border-left:0}.dhx_cal_container_rtl .dhx_timeline_label_column{border-left:none;border-right:var(--dhx-scheduler-header-border)}.dhx_cal_container_rtl .dhx_timeline_label_column_header{border-right-color:transparent}.dhx_cal_container_rtl .dhx_timeline_label_column:first-child{border-right:0}.dhx_scheduler_map .dhx_cal_header,.dhx_scheduler_agenda .dhx_cal_header{height:auto}.dhx_agenda_line_header{clear:both;overflow:hidden}.dhx_agenda_line,.dhx_map_line{height:var(--dhx-scheduler-list-line-height);line-height:var(--dhx-scheduler-list-line-height);overflow:hidden;display:flex}.dhx_agenda_line .dhx_agenda_event_time,.dhx_map_line .dhx_agenda_event_time,.dhx_agenda_line .dhx_map_event_time,.dhx_map_line .dhx_map_event_time{flex-shrink:0;width:188px;text-align:center;border-right:var(--dhx-scheduler-default-border)}.dhx_agenda_line .dhx_event_icon,.dhx_map_line .dhx_event_icon{height:33px;width:33px;display:flex;align-items:center;justify-content:center}.dhx_agenda_line .dhx_event_icon path,.dhx_map_line .dhx_event_icon path{fill:var(--dhx-scheduler-base-colors-primary)}.dhx_agenda_line>div:first-child,.dhx_map_line>div:first-child{width:var(--dhx-scheduler-agenda-date-column-width);text-align:center}.dhx_agenda_line:nth-child(2n),.dhx_map_line:nth-child(2n){background:var(--dhx-scheduler-base-colors-select)}.dhx_map_area{height:100%}.dhx_map_head{display:flex;height:100%}.dhx_map_head>div{display:flex;justify-content:center;align-items:center;padding:0 var(--dhx-scheduler-base-padding)}.dhx_v_border{position:absolute;height:100%;border-left:var(--dhx-scheduler-default-border);top:0}.dhx_week_agenda_wrapper{width:100%;height:100%;display:flex}.dhx_wa_column{flex:1;display:flex;flex-direction:column;border-right:var(--dhx-scheduler-default-border)}.dhx_wa_day_cont{flex-grow:0;flex-shrink:0;flex-basis:calc(100% / 3);display:flex;flex-direction:column;overflow-y:auto}.dhx_wa_column:last-child .dhx_wa_day_cont:nth-last-child(1),.dhx_wa_column:last-child .dhx_wa_day_cont:nth-last-child(2){flex-shrink:1}.dhx_wa_scale_bar{--dhx-scheduler-week-agenda-scale-height: 35px;--dhx-scheduler-week-agenda-scale-font-size: var(--dhx-scheduler-important-font-size);--dhx-scheduler-week-agenda-scale-font-weight: var(--dhx-scheduler-heading-font-weight);font-size:var(--dhx-scheduler-week-agenda-scale-font-size);font-weight:var(--dhx-scheduler-week-agenda-scale-font-weight);height:var(--dhx-scheduler-week-agenda-scale-height);line-height:var(--dhx-scheduler-week-agenda-scale-height);flex:0;background:var(--dhx-scheduler-base-colors-select);border-top:var(--dhx-scheduler-default-border);border-bottom:var(--dhx-scheduler-default-border);padding:4px;display:flex;align-items:center}.dhx_wa_day_data{flex:1;overflow:auto}.dhx_wa_ev_body{border-bottom:var(--dhx-scheduler-default-border);padding:4px}.dhx_wa_ev_body_rtl{direction:rtl}.dhx_wa_dnd{font-family:var(--dhx-scheduler-font-family);position:absolute;color:#000a;background-color:#faea27;border:1px solid #00000033;min-width:300px}.dhx_wa_ev_body.dhx_cal_event_selected{background-color:var(--dhx-scheduler-base-colors-select)}.dhx_grid_event{height:var(--dhx-scheduler-list-line-height);line-height:var(--dhx-scheduler-list-line-height);background:var(--dhx-scheduler-grid-event-background);color:var(--dhx-scheduler-grid-event-text)}.dhx_grid_event:nth-child(2n){--dhx-scheduler-grid-event-background: var(--dhx-scheduler-base-colors-select)}.dhx_grid_event.dhx_grid_event_selected{--dhx-scheduler-grid-event-background: var(--dhx-scheduler-base-colors-icons)}.dhx_grid_area td,.dhx_grid_line>div{padding-left:8px;padding-right:8px}.dhx_grid_line>div{text-align:center}.dhx_grid_area>table{border-collapse:collapse;width:100%;table-layout:fixed}.dhx_grid_area td{table-layout:fixed;text-align:center;height:var(--dhx-scheduler-list-line-height);line-height:var(--dhx-scheduler-list-line-height)}.dhx_cal_header>.dhx_grid_line{display:flex}.dhx_grid_v_border{position:absolute;border-right:var(--dhx-scheduler-default-border);width:1px;height:100%}.dhx_grid_view_sort{position:absolute;top:5px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid var(--dhx-scheduler-base-colors-text-light)}.dhx_grid_sort_asc .dhx_grid_view_sort{border-top:none;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:10px solid var(--dhx-scheduler-base-colors-text-light)}.dhx_scheduler_agenda .dhx_cal_header{display:none}.dhx_cal_agenda_day{--dhx-scheduler-agenda-date-width: 110px;--dhx-scheduler-agenda-event-date-width: 120px;display:flex;flex-direction:row;flex-wrap:nowrap;border-bottom:var(--dhx-scheduler-default-border)}.dhx_cal_agenda_day_header{padding:8px 12px;display:flex;flex-direction:column;gap:8px;flex-grow:0;flex-shrink:0;width:var(--dhx-scheduler-agenda-date-width);border-right:var(--dhx-scheduler-default-border)}.dhx_cal_agenda_day_events{padding:8px 12px;flex:1}.dhx_agenda_day_date{font-weight:500}.dhx_cal_agenda_event_line{display:flex;align-items:center;justify-content:start;gap:16px;padding:calc(var(--dhx-scheduler-base-padding)*2)}.dhx_cal_agenda_event_line_selected{background-color:var(--dhx-scheduler-base-colors-select)}.dhx_cal_agenda_event_line_marker{display:block;flex-shrink:0;border-radius:var(--dhx-scheduler-month-event-marker-size);width:var(--dhx-scheduler-month-event-marker-size);height:var(--dhx-scheduler-month-event-marker-size);background:var(--dhx-scheduler-event-background);margin-top:-1px}.dhx_cal_agenda_event_line_time{font-weight:500;min-width:var(--dhx-scheduler-agenda-event-date-width);text-align:center}.dhx_cal_agenda_no_events{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.dhx_cal_datepicker{font-size:var(--dhx-scheduler-datepicker-font-size);font-family:var(--dhx-scheduler-datepicker-family);line-height:142%;font-weight:400;border:var(--dhx-scheduler-popup-border);background:var(--dhx-scheduler-popup-background);color:var(--dhx-scheduler-popup-color);box-shadow:var(--dhx-scheduler-box-shadow-s);border-radius:var(--dhx-scheduler-popup-border-radius);padding:16px}.dhx_cal_datepicker,.dhx_cal_datepicker *,.dhx_mini_calendar,.dhx_mini_calendar *{box-sizing:border-box}.dhx_cal_datepicker_arrow{border:none;background:none;cursor:pointer}.dhx_cal_datepicker_arrow:focus{outline:none}.dhx_cal_datepicker_data,.dhx_year_grid{display:flex;flex-direction:column;justify-content:space-between;height:100%;padding:var(--dhx-scheduler-datepicker-padding);gap:8px;color:var(--dhx-scheduler-month-header-color)}.dhx_cal_datepicker_done{display:flex;justify-content:center;align-items:center}.dhx_cal_datepicker_header{color:var(--dhx-scheduler-base-colors-primary);display:flex;justify-content:space-between;align-items:center;padding:var(--dhx-scheduler-datepicker-padding)}.dhx_cal_datepicker_title{font-weight:var(--dhx-scheduler-datepicker-header-font-size);font-size:var(--dhx-scheduler-datepicker-header-font-size);background:var(--dhx-scheduler-btn-background);color:var(--dhx-scheduler-btn-color);border:1px solid var(--dhx-scheduler-btn-border-color);border-radius:var(--dhx-scheduler-border-radius);height:var(--dhx-scheduler-control-height);padding:var(--dhx-scheduler-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-scheduler-font-size);font-family:var(--dhx-scheduler-font-family);font-weight:var(--dhx-scheduler-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-scheduler-btn-text-transform);cursor:pointer;padding:6px 0;--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent}.dhx_cal_datepicker_title:hover{background:var(--dhx-scheduler-btn-background-hover);color:var(--dhx-scheduler-btn-color-hover);border-color:var(--dhx-scheduler-btn-border-hover)}.dhx_cal_datepicker_title:active{background:var(--dhx-scheduler-btn-background-active);color:var(--dhx-scheduler-btn-color-active);border-color:var(--dhx-scheduler-btn-border-active)}.dhx_cal_datepicker_title:disabled{background:var(--dhx-scheduler-btn-background-disabled);color:var(--dhx-scheduler-btn-color-disabled);border-color:var(--dhx-scheduler-btn-border-disabled)}.dhx_cal_datepicker_days{display:grid;grid-template-columns:repeat(var(--dhx-scheduler-week-length, 7),1fr);gap:4px}.dhx_cal_datepicker_dayname,.dhx_cal_datepicker_date{display:flex;align-items:center;justify-content:center;position:relative;transition:all .3s;margin-left:auto;margin-right:auto}.dhx_cal_datepicker_dayname{color:var(--dhx-scheduler-base-colors-icons)}.dhx_cal_datepicker_date{border-radius:50%;width:var(--dhx-scheduler-datepicker-cell-size);height:var(--dhx-scheduler-datepicker-cell-size);color:var(--dhx-scheduler-datepicker-cell-color);background:var(--dhx-scheduler-datepicker-cell-background)}.dhx_cal_datepicker_date.dhx_now{--dhx-scheduler-datepicker-cell-background: var(--dhx-scheduler-timescale-today-background)}.dhx_cal_datepicker_weekend{--dhx-scheduler-datepicker-cell-color: var(--dhx-scheduler-datepicker-weekend-color);--dhx-scheduler-datepicker-cell-background: var(--dhx-scheduler-datepicker-weekend-background)}.dhx_cal_datepicker_date.dhx_before,.dhx_cal_datepicker_date.dhx_after{--dhx-scheduler-datepicker-cell-color: var(--dhx-scheduler-datepicker-prevnext-color);--dhx-scheduler-datepicker-cell-background: var(--dhx-scheduler-datepicker-prevnext-background)}.dhx_cal_datepicker_current{--dhx-scheduler-datepicker-cell-color: var(--dhx-scheduler-datepicker-today-color);--dhx-scheduler-datepicker-cell-background: var(--dhx-scheduler-datepicker-today-background)}.dhx_cal_datepicker_date:not(.dhx_before,.dhx_after):hover,.dhx_cal_datepicker_month:hover,.dhx_cal_datepicker_year:hover{--dhx-scheduler-datepicker-cell-color: var(--dhx-scheduler-datepicker-hover-color);--dhx-scheduler-datepicker-cell-background: var(--dhx-scheduler-datepicker-hover-background)}.dhx_cal_datepicker_months,.dhx_cal_datepicker_years{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}.dhx_cal_datepicker_months{column-gap:12px}.dhx_cal_datepicker_years{column-gap:4px}.dhx_cal_datepicker_month,.dhx_cal_datepicker_year{display:flex;align-items:center;justify-content:center;height:var(--dhx-scheduler-datepicker-cell-size);border-radius:10px;padding:4px 8px;transition:background .3s;position:relative;color:var(--dhx-scheduler-datepicker-cell-color);background:var(--dhx-scheduler-datepicker-cell-background)}.dhx_cal_datepicker_done_btn{background:var(--dhx-scheduler-btn-background);color:var(--dhx-scheduler-btn-color);border:1px solid var(--dhx-scheduler-btn-border-color);border-radius:var(--dhx-scheduler-border-radius);height:var(--dhx-scheduler-control-height);padding:var(--dhx-scheduler-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-scheduler-font-size);font-family:var(--dhx-scheduler-font-family);font-weight:var(--dhx-scheduler-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-scheduler-btn-text-transform);cursor:pointer;padding:6px 0;--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent}.dhx_cal_datepicker_done_btn:hover{background:var(--dhx-scheduler-btn-background-hover);color:var(--dhx-scheduler-btn-color-hover);border-color:var(--dhx-scheduler-btn-border-hover)}.dhx_cal_datepicker_done_btn:active{background:var(--dhx-scheduler-btn-background-active);color:var(--dhx-scheduler-btn-color-active);border-color:var(--dhx-scheduler-btn-border-active)}.dhx_cal_datepicker_done_btn:disabled{background:var(--dhx-scheduler-btn-background-disabled);color:var(--dhx-scheduler-btn-color-disabled);border-color:var(--dhx-scheduler-btn-border-disabled)}.dhx_datepicker_date_wrapper{position:relative}.dhx_datepicker_date_wrapper:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.dhx_datepicker_date_wrapper:before{content:""}.dhx_datepicker_date_wrapper:before{position:absolute;right:4px;top:8px;font-size:20px}.dhx_cal_datepicker_event.dhx_cal_datepicker_current,.dhx_cal_datepicker_event:hover{--dhx-scheduler-event-marker-color: var(--dhx-scheduler-datepicker-hover-color)}.dhx_cal_datepicker_event:after{content:"";width:4px;height:4px;border-radius:50%;position:absolute;bottom:2px;left:50%;transform:translate(-50%);background:var(--dhx-scheduler-event-marker-color)}.dhx_minical_popup{position:absolute;z-index:15}.dhx_mini_calendar{font-size:var(--dhx-scheduler-datepicker-font-size);font-family:var(--dhx-scheduler-datepicker-family);line-height:142%;font-weight:400;border:var(--dhx-scheduler-popup-border);background:var(--dhx-scheduler-popup-background);color:var(--dhx-scheduler-popup-color);box-shadow:var(--dhx-scheduler-box-shadow-m);border-radius:var(--dhx-scheduler-popup-border-radius);--dhx-scheduler-datepicker-font-size: var(--dhx-scheduler-caption-font-size);--dhx-scheduler-header-border: none}.dhx_mini_calendar .dhx_cal_month_row{height:35px!important}.dhx_mini_calendar .dhx_year_week{border-bottom:var(--dhx-scheduler-default-border)}.dhx_mini_calendar .dhx_scale_bar{position:static}.dhx_mini_calendar .dhx_year_month{font-weight:500;font-size:var(--dhx-scheduler-font-size)}.dhx_mini_calendar .dhx_month_body{display:none}.dhx_mini_calendar .dhx_cal_month_cell{display:flex;justify-content:center;align-items:center;border-radius:50%;border:none;background:var(--dhx-scheduler-popup-background)}.dhx_mini_calendar .dhx_month_head{border-radius:50%;color:var(--dhx-scheduler-datepicker-cell-color);background:var(--dhx-scheduler-datepicker-cell-background);width:30px!important;height:30px!important;padding:4px;justify-content:center;align-items:center;cursor:pointer}.dhx_mini_calendar div.dhx_month_head.dhx_year_event{background-color:#0288d133;color:#0288d1;font-weight:500}.dhx_mini_calendar div.dhx_month_head.dhx_calendar_click{background-color:#e5e5e5;color:#000000bf;font-weight:500}.dhx_mini_calendar .dhx_now .dhx_month_head{background-color:#f7f7f7}.dhx_mini_calendar .dhx_after .dhx_month_head,.dhx_mini_calendar .dhx_before .dhx_month_head{--dhx-scheduler-datepicker-cell-color: var(--dhx-scheduler-inactive-month-color)}.dhx_minical_input_wrapper{position:relative}.dhx_minical_input_wrapper:before{font-family:dhx-scheduler-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-scheduler-base-colors-icons)}.dhx_minical_input_wrapper:before{content:""}.dhx_minical_input_wrapper:before{pointer-events:none;position:absolute;right:5px;top:7px;font-size:20px}.scheduler_message_area{position:fixed;right:5px;width:250px;z-index:11}.scheduler-info{min-width:120px;padding:12px;font-family:var(--dhx-scheduler-font-family);font-size:var(--dhx-scheduler-regular-font-size);font-weight:var(--dhx-scheduler-regular-font-weight);line-height:var(--dhx-scheduler-regular-line-height);z-index:14;overflow:hidden;margin:5px 5px 10px;transition:all .5s ease;background:var(--dhx-scheduler-info-background);color:var(--dhx-scheduler-info-color);border:var(--dhx-scheduler-info-border);box-shadow:var(--dhx-scheduler-info-shadow)}.scheduler-info.hidden{height:0px;padding:0;border-width:0px;margin:0;overflow:hidden}.scheduler_modal_box{overflow:hidden;position:fixed;min-width:300px;width:var(--dhx-scheduler-modal-width);background:var(--dhx-scheduler-modal-background);box-shadow:var(--dhx-scheduler-box-shadow-l);border:var(--dhx-scheduler-modal-border);z-index:18;border-radius:var(--dhx-scheduler-modal-border-radius);font-family:var(--dhx-scheduler-font-family);font-size:var(--dhx-scheduler-font-size);line-height:150%}.scheduler_popup_text{color:var(--dhx-scheduler-base-colors-text-base)}.scheduler_popup_title{border-top-left-radius:var(--dhx-scheduler-modal-border-radius);border-top-right-radius:var(--dhx-scheduler-modal-border-radius);color:var(--dhx-scheduler-base-colors-text-base);font-size:var(--dhx-scheduler-heading-font-size);font-weight:var(--dhx-scheduler-heading-font-weight);padding:calc(var(--dhx-scheduler-modal-padding)/2) var(--dhx-scheduler-modal-padding);display:flex;justify-content:center;align-items:center}.scheduler_popup_text{padding:var(--dhx-scheduler-modal-padding);display:flex;justify-content:center;align-items:center}.scheduler_popup_controls{display:flex;flex-direction:row-reverse;padding:calc(var(--dhx-scheduler-modal-padding)/2) var(--dhx-scheduler-modal-padding);align-items:center;gap:12px}.scheduler-info,.scheduler_popup_button,.scheduler_button{-webkit-user-select:none;user-select:none;cursor:pointer}.scheduler_popup_text{overflow:hidden}div.dhx_modal_cover{background:#44494E;opacity:.2;position:fixed;z-index:17;left:0;top:0;width:100%;height:100%;border:none}.scheduler_popup_controls{border-radius:var(--dhx-scheduler-border-radius)}.scheduler_message_area .scheduler-error{--dhx-scheduler-info-background: var(--dhx-scheduler-base-colors-error);--dhx-scheduler-info-color: var(--dhx-scheduler-base-colors-white)}.scheduler_message_area .scheduler-warning{--dhx-scheduler-info-background: var(--dhx-scheduler-base-colors-warning)}.scheduler_modal_box.scheduler-error .scheduler_popup_title{background:#d81b1b;border:1px solid #ff3c3c;color:#fff}.scheduler_modal_box.scheduler-error .scheduler_popup_title{background:#FFAB00;border:1px solid #FFAB00}.dhtmlXTooltip.tooltip{box-shadow:var(--dhx-scheduler-box-shadow-m);background-color:var(--dhx-scheduler-popup-background);color:var(--dhx-scheduler-popup-color);border:var(--dhx-scheduler-popup-border);cursor:default;padding:12px;position:fixed;z-index:9;opacity:1;font-family:var(--dhx-scheduler-font-family);font-size:var(--dhx-scheduler-regular-font-size);line-height:var(--dhx-scheduler-regular-line-height);font-weight:var(--dhx-scheduler-regular-font-weight)}.dhtmlXTooltip_rtl{direction:rtl}.dhx_focus_slot{background:var(--dhx-scheduler-base-colors-select);position:absolute;pointer-events:none;opacity:.5}.dhx_cal_container *:focus{outline-style:solid;outline-style:auto;outline-color:var(--dhx-scheduler-base-colors-select)}.dhx_no_select{-webkit-user-select:none;user-select:none}.dhx_drag_placeholder{z-index:10;opacity:.8}.dhx_drag_placeholder .dhx_cal_select_menu{display:none}.dhx_cal_light_readonly .dhx_section_time{display:block}.dhx_cal_light_readonly .dhx_section_time .dhx_section_time_spacer{visibility:visible}.dhx_cal_light_readonly .dhx_cal_lsection+div{padding-top:4px;padding-bottom:4px}.scheduler-info.scheduler-popup_after_delete{cursor:default;border-radius:var(--dhx-scheduler-border-radius);padding:0;width:225px;--dhx-scheduler-info-background: var(--dhx-scheduler-undo-delete-background);--dhx-scheduler-info-color: var(--dhx-scheduler-undo-delete-color)}.dhx_info_message{display:flex;justify-content:space-between;align-items:center;padding:8px 12px}.undo_popup_text{text-align:center}.undo_button{background:var(--dhx-scheduler-btn-background);color:var(--dhx-scheduler-btn-color);border:1px solid var(--dhx-scheduler-btn-border-color);border-radius:var(--dhx-scheduler-border-radius);height:var(--dhx-scheduler-control-height);padding:var(--dhx-scheduler-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-scheduler-font-size);font-family:var(--dhx-scheduler-font-family);font-weight:var(--dhx-scheduler-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-scheduler-btn-text-transform);cursor:pointer;padding:6px 0;--dhx-scheduler-btn-background: transparent;--dhx-scheduler-btn-color: var(--dhx-scheduler-base-colors-primary);--dhx-scheduler-btn-border-color: transparent;--dhx-scheduler-btn-background-hover: transparent;--dhx-scheduler-btn-color-hover: var(--dhx-scheduler-base-colors-primary-hover);--dhx-scheduler-btn-border-hover: transparent;--dhx-scheduler-btn-background-active: transparent;--dhx-scheduler-btn-color-active: var(--dhx-scheduler-base-colors-primary-active);--dhx-scheduler-btn-border-active: transparent;--dhx-scheduler-btn-background-disabled: transparent;--dhx-scheduler-btn-color-disabled: var(--dhx-scheduler-base-colors-icons);--dhx-scheduler-btn-border-color-disabled: transparent}.undo_button:hover{background:var(--dhx-scheduler-btn-background-hover);color:var(--dhx-scheduler-btn-color-hover);border-color:var(--dhx-scheduler-btn-border-hover)}.undo_button:active{background:var(--dhx-scheduler-btn-background-active);color:var(--dhx-scheduler-btn-color-active);border-color:var(--dhx-scheduler-btn-border-active)}.undo_button:disabled{background:var(--dhx-scheduler-btn-background-disabled);color:var(--dhx-scheduler-btn-color-disabled);border-color:var(--dhx-scheduler-btn-border-disabled)}.dhx_scheduler_month .dhx_marked_timespan.dhx_scheduler_dnd_marker{display:block;margin-top:-4px}.dhx_marked_timespan.dhx_scheduler_dnd_marker{justify-content:flex-start;align-items:flex-start}.dhx_scheduler_dnd_marker{opacity:.5}\n`,""]);const p=_},731:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(601),r=n.n(a),i=n(314),o=n.n(i)()(r());o.push([e.id,'/* Глобальные стили для совместимости с Moodle */\n\n/* Сброс стилей для контейнера планировщика */\n.schedule-main-container {\n  font-family: inherit !important;\n  line-height: 1.5 !important;\n  color: inherit !important;\n}\n\n/* Изоляция стилей DHTMLX Scheduler от Moodle */\n.scheduler-wrapper {\n  isolation: isolate;\n  contain: layout style paint;\n}\n\n/* Переопределение стилей Moodle для кнопок */\n.schedule-main-container .btn {\n  display: inline-block;\n  font-weight: 400;\n  text-align: center;\n  vertical-align: middle;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 0.25rem;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n.schedule-main-container .btn-primary {\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n\n.schedule-main-container .btn-primary:hover {\n  color: #fff;\n  background-color: #0069d9;\n  border-color: #0062cc;\n}\n\n.schedule-main-container .btn-primary:focus,\n.schedule-main-container .btn-primary.focus {\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n\n/* Стили для предотвращения конфликтов с Moodle */\n.schedule-main-container * {\n  box-sizing: border-box;\n}\n\n/* Обеспечение правильного z-index для модальных окон DHTMLX */\n.dhx_cal_light {\n  z-index: 9999 !important;\n}\n\n.dhx_cal_light_rtl {\n  z-index: 9999 !important;\n}\n\n.dhx_cal_light_wide {\n  z-index: 9999 !important;\n}\n\n/* Стили для корректного отображения в Moodle с учетом меню */\n#page-content .schedule-main-container {\n  margin: 0 !important;\n  padding: 0 !important;\n  max-width: none !important;\n  width: 100vw !important;\n  height: calc(100vh - 60px) !important; /* Учитываем высоту меню Moodle */\n  position: fixed !important;\n  top: 60px !important; /* Отступ сверху для меню Moodle */\n  left: 0 !important;\n  z-index: 1000 !important;\n}\n\n/* Стили для полноэкранного режима */\n.schedule-main-container.fullscreen {\n  width: 100vw !important;\n  height: 100vh !important;\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  z-index: 9999 !important;\n  background-color: #fff !important;\n}\n\n/* Переопределение стилей Moodle для полноэкранного режима */\nbody.schedule-fullscreen {\n  overflow: hidden !important;\n  margin: 0 !important;\n  padding: 0 !important;\n}\n\nbody.schedule-fullscreen #page {\n  margin: 0 !important;\n  padding: 0 !important;\n  max-width: none !important;\n  width: 100vw !important;\n  height: 100vh !important;\n}\n\nbody.schedule-fullscreen #page-content {\n  margin: 0 !important;\n  padding: 0 !important;\n  max-width: none !important;\n  width: 100vw !important;\n  height: 100vh !important;\n}\n\n/* Стили для предотвращения прокрутки в полноэкранном режиме */\n.schedule-main-container {\n  overflow: hidden !important;\n}\n\n/* Стили для учета различных высот меню Moodle */\n/* Стандартное меню Moodle */\n@media (min-width: 768px) {\n  #page-content .schedule-main-container {\n    height: calc(100vh - 60px) !important;\n    top: 60px !important;\n  }\n}\n\n/* Большие экраны - возможна большая высота меню */\n@media (min-width: 1400px) {\n  #page-content .schedule-main-container {\n    height: calc(100vh - 70px) !important;\n    top: 70px !important;\n  }\n}\n\n/* Очень большие экраны */\n@media (min-width: 1920px) {\n  #page-content .schedule-main-container {\n    height: calc(100vh - 80px) !important;\n    top: 80px !important;\n  }\n}\n\n/* Мобильные устройства - больше отступ для мобильного меню */\n@media (max-width: 767px) {\n  #page-content .schedule-main-container {\n    height: calc(100vh - 120px) !important;\n    top: 120px !important;\n  }\n}\n\n/* Адаптивность для различных размеров экрана */\n@media (max-width: 1200px) {\n  .schedule-main-container {\n    font-size: 14px;\n  }\n}\n\n@media (max-width: 768px) {\n  .schedule-main-container {\n    font-size: 13px;\n  }\n  \n  .scheduler-main {\n    height: calc(100vh - 320px) !important; /* Учитываем мобильное меню */\n  }\n}\n\n@media (max-width: 576px) {\n  .schedule-main-container {\n    font-size: 12px;\n  }\n  \n  .scheduler-main {\n    height: calc(100vh - 350px) !important; /* Еще больше отступ для маленьких экранов */\n  }\n}\n\n/* Стили для больших экранов */\n@media (min-width: 1400px) {\n  .schedule-main-container {\n    min-width: 1400px !important;\n  }\n}\n\n@media (min-width: 1920px) {\n  .schedule-main-container {\n    min-width: 1600px !important;\n  }\n}\n\n/* Стили для темной темы Moodle (если используется) */\n@media (prefers-color-scheme: dark) {\n  .schedule-main-container {\n    background-color: #2d3748;\n    color: #e2e8f0;\n  }\n  \n  .role-selector {\n    background-color: #4a5568;\n    border-bottom-color: #718096;\n  }\n}\n\n/* Стили для печати */\n@media print {\n  .schedule-main-container {\n    box-shadow: none !important;\n    border: 1px solid #000 !important;\n    position: relative !important;\n    width: 100% !important;\n    height: auto !important;\n    top: 0 !important;\n  }\n  \n  .role-selector {\n    display: none !important;\n  }\n  \n  .scheduler-main {\n    height: auto !important;\n    min-height: auto !important;\n  }\n}\n\n/* Дополнительные стили для улучшения отображения */\n.schedule-main-container {\n  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%) !important;\n}\n\n/* Стили для улучшения производительности */\n.schedule-main-container {\n  will-change: transform;\n  transform: translateZ(0);\n  backface-visibility: hidden;\n}\n\n/* Стили для предотвращения выделения текста */\n.schedule-main-container {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* Стили для улучшения доступности */\n.schedule-main-container:focus {\n  outline: 2px solid #007bff;\n  outline-offset: 2px;\n}\n\n/* Дополнительные стили для учета различных тем Moodle */\n/* Для тем с большим меню */\nbody[data-theme="boost"] #page-content .schedule-main-container,\nbody[data-theme="classic"] #page-content .schedule-main-container {\n  height: calc(100vh - 65px) !important;\n  top: 65px !important;\n}\n\n/* Для тем с маленьким меню */\nbody[data-theme="clean"] #page-content .schedule-main-container {\n  height: calc(100vh - 55px) !important;\n  top: 55px !important;\n} ',""]);const d=o},746:e=>{"use strict";e.exports=t},990:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(601),r=n.n(a),i=n(314),o=n.n(i)()(r());o.push([e.id,"/* Дополнительные стили для улучшения месячного вида DHTMLX Scheduler */\n\n/* Увеличение размеров ячеек в месячном виде */\n.dhx_cal_month .dhx_cal_data div {\n  min-height: 100px !important;\n  padding: 6px !important;\n  position: relative !important;\n}\n\n/* Улучшение отображения событий в месячном виде */\n.dhx_cal_month .dhx_cal_event {\n  margin: 2px 1px !important;\n  border-radius: 6px !important;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15) !important;\n  transition: all 0.2s ease !important;\n}\n\n.dhx_cal_month .dhx_cal_event:hover {\n  transform: translateY(-1px) !important;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2) !important;\n}\n\n/* Стили для текста событий */\n.dhx_cal_month .dhx_cal_event div {\n  font-size: 12px !important;\n  line-height: 16px !important;\n  padding: 4px 6px !important;\n  font-weight: 500 !important;\n  color: #fff !important;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4) !important;\n  border-radius: 4px !important;\n  min-height: 20px !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: flex-start !important;\n}\n\n/* Улучшение заголовков дней */\n.dhx_cal_month .dhx_cal_date {\n  font-size: 16px !important;\n  font-weight: 700 !important;\n  color: #212529 !important;\n  padding: 10px 6px !important;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;\n  border-bottom: 2px solid #dee2e6 !important;\n  text-align: center !important;\n}\n\n/* Стили для заголовка месяца */\n.dhx_cal_month .dhx_cal_header {\n  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%) !important;\n  color: #fff !important;\n  font-size: 20px !important;\n  font-weight: 700 !important;\n  text-align: center !important;\n  padding: 15px 0 !important;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;\n  border-radius: 8px 8px 0 0 !important;\n}\n\n.dhx_cal_month .dhx_cal_header div {\n  background-color: transparent !important;\n  border: none !important;\n  color: #fff !important;\n  font-weight: 700 !important;\n  font-size: 20px !important;\n  text-transform: capitalize !important;\n}\n\n/* Стили для заголовков дней недели */\n.dhx_cal_month .dhx_cal_week_header {\n  background: linear-gradient(135deg, #6c757d 0%, #495057 100%) !important;\n  border-bottom: 2px solid #dee2e6 !important;\n}\n\n.dhx_cal_month .dhx_cal_week_header div {\n  background-color: transparent !important;\n  border: none !important;\n  color: #fff !important;\n  font-weight: 600 !important;\n  font-size: 14px !important;\n  padding: 12px 4px !important;\n  text-align: center !important;\n  text-transform: capitalize !important;\n}\n\n/* Стили для сегодняшнего дня */\n.dhx_cal_month .dhx_cal_today {\n  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%) !important;\n  border: 2px solid #2196f3 !important;\n}\n\n.dhx_cal_month .dhx_cal_today .dhx_cal_date {\n  background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%) !important;\n  color: #fff !important;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;\n}\n\n/* Стили для выходных дней */\n.dhx_cal_month .dhx_cal_data div:nth-child(7n),\n.dhx_cal_month .dhx_cal_data div:nth-child(7n+1) {\n  background-color: #fafafa !important;\n}\n\n/* Улучшение счетчика событий */\n.dhx_cal_month .dhx_cal_event_counter {\n  background: linear-gradient(135deg, #6c757d 0%, #495057 100%) !important;\n  color: #fff !important;\n  border-radius: 16px !important;\n  padding: 4px 8px !important;\n  font-size: 11px !important;\n  font-weight: 700 !important;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;\n  margin: 2px !important;\n}\n\n/* Стили для ссылок на события */\n.dhx_cal_month .dhx_cal_event_link {\n  color: #007bff !important;\n  text-decoration: none !important;\n  font-weight: 600 !important;\n  transition: color 0.2s ease !important;\n}\n\n.dhx_cal_month .dhx_cal_event_link:hover {\n  color: #0056b3 !important;\n  text-decoration: underline !important;\n}\n\n/* Улучшение общей сетки */\n.dhx_cal_month .dhx_cal_data {\n  border: 2px solid #dee2e6 !important;\n  border-radius: 0 0 8px 8px !important;\n  overflow: hidden !important;\n}\n\n.dhx_cal_month .dhx_cal_data div {\n  border: 1px solid #e9ecef !important;\n  transition: background-color 0.2s ease !important;\n}\n\n.dhx_cal_month .dhx_cal_data div:hover {\n  background-color: #f8f9fa !important;\n}\n\n/* Стили для пустых дней */\n.dhx_cal_month .dhx_cal_data div:empty::after {\n  content: '' !important;\n  display: block !important;\n  height: 100% !important;\n  background: linear-gradient(45deg, transparent 30%, rgba(0,0,0,0.02) 50%, transparent 70%) !important;\n}\n\n/* Улучшение отображения длинных названий событий */\n.dhx_cal_month .dhx_cal_event div {\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  max-width: 100% !important;\n}\n\n/* Стили для разных типов событий */\n.dhx_cal_month .dhx_cal_event.event-lecture {\n  background: linear-gradient(135deg, #28a745 0%, #20c997 100%) !important;\n}\n\n.dhx_cal_month .dhx_cal_event.event-practice {\n  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%) !important;\n}\n\n.dhx_cal_month .dhx_cal_event.event-exam {\n  background: linear-gradient(135deg, #dc3545 0%, #c82333 100%) !important;\n}\n\n.dhx_cal_month .dhx_cal_event.event-consultation {\n  background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%) !important;\n}\n\n/* Адаптивность для мобильных устройств */\n@media (max-width: 768px) {\n  .dhx_cal_month .dhx_cal_data div {\n    min-height: 70px !important;\n    padding: 3px !important;\n  }\n  \n  .dhx_cal_month .dhx_cal_event div {\n    font-size: 10px !important;\n    line-height: 14px !important;\n    padding: 2px 4px !important;\n  }\n  \n  .dhx_cal_month .dhx_cal_date {\n    font-size: 14px !important;\n    padding: 6px 3px !important;\n  }\n  \n  .dhx_cal_month .dhx_cal_header {\n    font-size: 16px !important;\n    padding: 10px 0 !important;\n  }\n  \n  .dhx_cal_month .dhx_cal_header div {\n    font-size: 16px !important;\n  }\n  \n  .dhx_cal_month .dhx_cal_event_counter {\n    font-size: 9px !important;\n    padding: 2px 6px !important;\n  }\n}\n\n@media (max-width: 576px) {\n  .dhx_cal_month .dhx_cal_data div {\n    min-height: 60px !important;\n    padding: 2px !important;\n  }\n  \n  .dhx_cal_month .dhx_cal_event div {\n    font-size: 9px !important;\n    line-height: 12px !important;\n    padding: 1px 3px !important;\n  }\n  \n  .dhx_cal_month .dhx_cal_date {\n    font-size: 12px !important;\n    padding: 4px 2px !important;\n  }\n  \n  .dhx_cal_month .dhx_cal_header {\n    font-size: 14px !important;\n    padding: 8px 0 !important;\n  }\n  \n  .dhx_cal_month .dhx_cal_header div {\n    font-size: 14px !important;\n  }\n}\n\n/* Анимации для плавного появления событий */\n@keyframes fadeInEvent {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.dhx_cal_month .dhx_cal_event {\n  animation: fadeInEvent 0.3s ease-out !important;\n}\n\n/* Стили для улучшения читаемости */\n.dhx_cal_month .dhx_cal_event div {\n  letter-spacing: 0.3px !important;\n  word-spacing: 1px !important;\n}\n\n/* Улучшение контрастности для лучшей читаемости */\n.dhx_cal_month .dhx_cal_event div {\n  filter: contrast(1.1) !important;\n} ",""]);const d=o}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,exports:{}};return a[e](n,n.exports,i),n.exports}i.m=a,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.b=document.baseURI||self.location.href;var o={};return(()=>{"use strict";function e(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}i.r(o),i.d(o,{init:()=>Gl});const t={},n=[],a=()=>{},r=()=>!1,d=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),s=e=>e.startsWith("onUpdate:"),l=Object.assign,c=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_=Object.prototype.hasOwnProperty,h=(e,t)=>_.call(e,t),u=Array.isArray,p=e=>"[object Map]"===k(e),f=e=>"[object Set]"===k(e),v=e=>"[object Date]"===k(e),g=e=>"function"==typeof e,m=e=>"string"==typeof e,x=e=>"symbol"==typeof e,b=e=>null!==e&&"object"==typeof e,y=e=>(b(e)||g(e))&&g(e.then)&&g(e.catch),w=Object.prototype.toString,k=e=>w.call(e),E=e=>"[object Object]"===k(e),D=e=>m(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,S=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},M=/-(\w)/g,T=A(e=>e.replace(M,(e,t)=>t?t.toUpperCase():"")),C=/\B([A-Z])/g,N=A(e=>e.replace(C,"-$1").toLowerCase()),O=A(e=>e.charAt(0).toUpperCase()+e.slice(1)),z=A(e=>e?`on${O(e)}`:""),H=(e,t)=>!Object.is(e,t),$=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},F=(e,t,n,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:n})},j=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let I;const q=()=>I||(I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:{});function R(e){if(u(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],r=m(a)?V(a):R(a);if(r)for(const e in r)t[e]=r[e]}return t}if(m(e)||b(e))return e}const P=/;(?![^(]*\))/g,U=/:([^]+)/,Y=/\/\*[^]*?\*\//g;function V(e){const t={};return e.replace(Y,"").split(P).forEach(e=>{if(e){const n=e.split(U);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function B(e){let t="";if(m(e))t=e;else if(u(e))for(let n=0;n<e.length;n++){const a=B(e[n]);a&&(t+=a+" ")}else if(b(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const W="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",J=e(W);function K(e){return!!e||""===e}function G(e,t){if(e===t)return!0;let n=v(e),a=v(t);if(n||a)return!(!n||!a)&&e.getTime()===t.getTime();if(n=x(e),a=x(t),n||a)return e===t;if(n=u(e),a=u(t),n||a)return!(!n||!a)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=G(e[a],t[a]);return n}(e,t);if(n=b(e),a=b(t),n||a){if(!n||!a)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const a=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(a&&!r||!a&&r||!G(e[n],t[n]))return!1}}return String(e)===String(t)}function X(e,t){return e.findIndex(e=>G(e,t))}const Z=e=>!(!e||!0!==e.__v_isRef),Q=e=>m(e)?e:null==e?"":u(e)||b(e)&&(e.toString===w||!g(e.toString))?Z(e)?Q(e.value):JSON.stringify(e,ee,2):String(e),ee=(e,t)=>Z(t)?ee(e,t.value):p(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],a)=>(e[te(t,a)+" =>"]=n,e),{})}:f(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>te(e))}:x(t)?te(t):!b(t)||u(t)||E(t)?t:String(t),te=(e,t="")=>{var n;return x(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};let ne,ae;class re{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ne,!e&&ne&&(this.index=(ne.scopes||(ne.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=ne;try{return ne=this,e()}finally{ne=t}}else 0}on(){1===++this._on&&(this.prevScope=ne,ne=this)}off(){this._on>0&&0===--this._on&&(ne=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function ie(e){return new re(e)}function oe(){return ne}const de=new WeakSet;class se{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ne&&ne.active&&ne.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,de.has(this)&&(de.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||he(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,De(this),fe(this);const e=ae,t=ye;ae=this,ye=!0;try{return this.fn()}finally{0,ve(this),ae=e,ye=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)xe(e);this.deps=this.depsTail=void 0,De(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?de.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ge(this)&&this.run()}get dirty(){return ge(this)}}let le,ce,_e=0;function he(e,t=!1){if(e.flags|=8,t)return e.next=ce,void(ce=e);e.next=le,le=e}function ue(){_e++}function pe(){if(--_e>0)return;if(ce){let e=ce;for(ce=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;le;){let t=le;for(le=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,1&t.flags)try{t.trigger()}catch(t){e||(e=t)}t=n}}if(e)throw e}function fe(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ve(e){let t,n=e.depsTail,a=n;for(;a;){const e=a.prevDep;-1===a.version?(a===n&&(n=e),xe(a),be(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=e}e.deps=t,e.depsTail=n}function ge(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(me(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function me(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Se)return;if(e.globalVersion=Se,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!ge(e)))return;e.flags|=2;const t=e.dep,n=ae,a=ye;ae=e,ye=!0;try{fe(e);const n=e.fn(e._value);(0===t.version||H(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{ae=n,ye=a,ve(e),e.flags&=-3}}function xe(e,t=!1){const{dep:n,prevSub:a,nextSub:r}=e;if(a&&(a.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=a,e.nextSub=void 0),n.subs===e&&(n.subs=a,!a&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)xe(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function be(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ye=!0;const we=[];function ke(){we.push(ye),ye=!1}function Ee(){const e=we.pop();ye=void 0===e||e}function De(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=ae;ae=void 0;try{t()}finally{ae=e}}}let Se=0;class Ae{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Me{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ae||!ye||ae===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==ae)t=this.activeLink=new Ae(ae,this),ae.deps?(t.prevDep=ae.depsTail,ae.depsTail.nextDep=t,ae.depsTail=t):ae.deps=ae.depsTail=t,Te(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=ae.depsTail,t.nextDep=void 0,ae.depsTail.nextDep=t,ae.depsTail=t,ae.deps===t&&(ae.deps=e)}return t}trigger(e){this.version++,Se++,this.notify(e)}notify(e){ue();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{pe()}}}function Te(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Te(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ce=new WeakMap,Ne=Symbol(""),Oe=Symbol(""),ze=Symbol("");function Le(e,t,n){if(ye&&ae){let t=Ce.get(e);t||Ce.set(e,t=new Map);let a=t.get(n);a||(t.set(n,a=new Me),a.map=t,a.key=n),a.track()}}function He(e,t,n,a,r,i){const o=Ce.get(e);if(!o)return void Se++;const d=e=>{e&&e.trigger()};if(ue(),"clear"===t)o.forEach(d);else{const r=u(e),i=r&&D(n);if(r&&"length"===n){const e=Number(a);o.forEach((t,n)=>{("length"===n||n===ze||!x(n)&&n>=e)&&d(t)})}else switch((void 0!==n||o.has(void 0))&&d(o.get(n)),i&&d(o.get(ze)),t){case"add":r?i&&d(o.get("length")):(d(o.get(Ne)),p(e)&&d(o.get(Oe)));break;case"delete":r||(d(o.get(Ne)),p(e)&&d(o.get(Oe)));break;case"set":p(e)&&d(o.get(Ne))}}pe()}function $e(e){const t=bt(e);return t===e?t:(Le(t,0,ze),mt(e)?t:t.map(wt))}function Fe(e){return Le(e=bt(e),0,ze),e}const je={__proto__:null,[Symbol.iterator](){return Ie(this,Symbol.iterator,wt)},concat(...e){return $e(this).concat(...e.map(e=>u(e)?$e(e):e))},entries(){return Ie(this,"entries",e=>(e[1]=wt(e[1]),e))},every(e,t){return Re(this,"every",e,t,void 0,arguments)},filter(e,t){return Re(this,"filter",e,t,e=>e.map(wt),arguments)},find(e,t){return Re(this,"find",e,t,wt,arguments)},findIndex(e,t){return Re(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Re(this,"findLast",e,t,wt,arguments)},findLastIndex(e,t){return Re(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Re(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ue(this,"includes",e)},indexOf(...e){return Ue(this,"indexOf",e)},join(e){return $e(this).join(e)},lastIndexOf(...e){return Ue(this,"lastIndexOf",e)},map(e,t){return Re(this,"map",e,t,void 0,arguments)},pop(){return Ye(this,"pop")},push(...e){return Ye(this,"push",e)},reduce(e,...t){return Pe(this,"reduce",e,t)},reduceRight(e,...t){return Pe(this,"reduceRight",e,t)},shift(){return Ye(this,"shift")},some(e,t){return Re(this,"some",e,t,void 0,arguments)},splice(...e){return Ye(this,"splice",e)},toReversed(){return $e(this).toReversed()},toSorted(e){return $e(this).toSorted(e)},toSpliced(...e){return $e(this).toSpliced(...e)},unshift(...e){return Ye(this,"unshift",e)},values(){return Ie(this,"values",wt)}};function Ie(e,t,n){const a=Fe(e),r=a[t]();return a===e||mt(e)||(r._next=r.next,r.next=()=>{const e=r._next();return e.value&&(e.value=n(e.value)),e}),r}const qe=Array.prototype;function Re(e,t,n,a,r,i){const o=Fe(e),d=o!==e&&!mt(e),s=o[t];if(s!==qe[t]){const t=s.apply(e,i);return d?wt(t):t}let l=n;o!==e&&(d?l=function(t,a){return n.call(this,wt(t),a,e)}:n.length>2&&(l=function(t,a){return n.call(this,t,a,e)}));const c=s.call(o,l,a);return d&&r?r(c):c}function Pe(e,t,n,a){const r=Fe(e);let i=n;return r!==e&&(mt(e)?n.length>3&&(i=function(t,a,r){return n.call(this,t,a,r,e)}):i=function(t,a,r){return n.call(this,t,wt(a),r,e)}),r[t](i,...a)}function Ue(e,t,n){const a=bt(e);Le(a,0,ze);const r=a[t](...n);return-1!==r&&!1!==r||!xt(n[0])?r:(n[0]=bt(n[0]),a[t](...n))}function Ye(e,t,n=[]){ke(),ue();const a=bt(e)[t].apply(e,n);return pe(),Ee(),a}const Ve=e("__proto__,__v_isRef,__isVue"),Be=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(x));function We(e){x(e)||(e=String(e));const t=bt(this);return Le(t,0,e),t.hasOwnProperty(e)}class Je{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const a=this._isReadonly,r=this._isShallow;if("__v_isReactive"===t)return!a;if("__v_isReadonly"===t)return a;if("__v_isShallow"===t)return r;if("__v_raw"===t)return n===(a?r?_t:ct:r?lt:st).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=u(e);if(!a){let e;if(i&&(e=je[t]))return e;if("hasOwnProperty"===t)return We}const o=Reflect.get(e,t,Et(e)?e:n);return(x(t)?Be.has(t):Ve(t))?o:(a||Le(e,0,t),r?o:Et(o)?i&&D(t)?o:o.value:b(o)?a?pt(o):ut(o):o)}}class Ke extends Je{constructor(e=!1){super(!1,e)}set(e,t,n,a){let r=e[t];if(!this._isShallow){const t=gt(r);if(mt(n)||gt(n)||(r=bt(r),n=bt(n)),!u(e)&&Et(r)&&!Et(n))return!t&&(r.value=n,!0)}const i=u(e)&&D(t)?Number(t)<e.length:h(e,t),o=Reflect.set(e,t,n,Et(e)?e:a);return e===bt(a)&&(i?H(n,r)&&He(e,"set",t,n):He(e,"add",t,n)),o}deleteProperty(e,t){const n=h(e,t),a=(e[t],Reflect.deleteProperty(e,t));return a&&n&&He(e,"delete",t,void 0),a}has(e,t){const n=Reflect.has(e,t);return x(t)&&Be.has(t)||Le(e,0,t),n}ownKeys(e){return Le(e,0,u(e)?"length":Ne),Reflect.ownKeys(e)}}class Ge extends Je{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Xe=new Ke,Ze=new Ge,Qe=new Ke(!0),et=e=>e,tt=e=>Reflect.getPrototypeOf(e);function nt(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function at(e,t){const n={get(n){const a=this.__v_raw,r=bt(a),i=bt(n);e||(H(n,i)&&Le(r,0,n),Le(r,0,i));const{has:o}=tt(r),d=t?et:e?kt:wt;return o.call(r,n)?d(a.get(n)):o.call(r,i)?d(a.get(i)):void(a!==r&&a.get(n))},get size(){const t=this.__v_raw;return!e&&Le(bt(t),0,Ne),Reflect.get(t,"size",t)},has(t){const n=this.__v_raw,a=bt(n),r=bt(t);return e||(H(t,r)&&Le(a,0,t),Le(a,0,r)),t===r?n.has(t):n.has(t)||n.has(r)},forEach(n,a){const r=this,i=r.__v_raw,o=bt(i),d=t?et:e?kt:wt;return!e&&Le(o,0,Ne),i.forEach((e,t)=>n.call(a,d(e),d(t),r))}};l(n,e?{add:nt("add"),set:nt("set"),delete:nt("delete"),clear:nt("clear")}:{add(e){t||mt(e)||gt(e)||(e=bt(e));const n=bt(this);return tt(n).has.call(n,e)||(n.add(e),He(n,"add",e,e)),this},set(e,n){t||mt(n)||gt(n)||(n=bt(n));const a=bt(this),{has:r,get:i}=tt(a);let o=r.call(a,e);o||(e=bt(e),o=r.call(a,e));const d=i.call(a,e);return a.set(e,n),o?H(n,d)&&He(a,"set",e,n):He(a,"add",e,n),this},delete(e){const t=bt(this),{has:n,get:a}=tt(t);let r=n.call(t,e);r||(e=bt(e),r=n.call(t,e));a&&a.call(t,e);const i=t.delete(e);return r&&He(t,"delete",e,void 0),i},clear(){const e=bt(this),t=0!==e.size,n=e.clear();return t&&He(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=function(e,t,n){return function(...a){const r=this.__v_raw,i=bt(r),o=p(i),d="entries"===e||e===Symbol.iterator&&o,s="keys"===e&&o,l=r[e](...a),c=n?et:t?kt:wt;return!t&&Le(i,0,s?Oe:Ne),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:d?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}(a,e,t)}),n}function rt(e,t){const n=at(e,t);return(t,a,r)=>"__v_isReactive"===a?!e:"__v_isReadonly"===a?e:"__v_raw"===a?t:Reflect.get(h(n,a)&&a in t?n:t,a,r)}const it={get:rt(!1,!1)},ot={get:rt(!1,!0)},dt={get:rt(!0,!1)};const st=new WeakMap,lt=new WeakMap,ct=new WeakMap,_t=new WeakMap;function ht(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>k(e).slice(8,-1))(e))}function ut(e){return gt(e)?e:ft(e,!1,Xe,it,st)}function pt(e){return ft(e,!0,Ze,dt,ct)}function ft(e,t,n,a,r){if(!b(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=ht(e);if(0===i)return e;const o=r.get(e);if(o)return o;const d=new Proxy(e,2===i?a:n);return r.set(e,d),d}function vt(e){return gt(e)?vt(e.__v_raw):!(!e||!e.__v_isReactive)}function gt(e){return!(!e||!e.__v_isReadonly)}function mt(e){return!(!e||!e.__v_isShallow)}function xt(e){return!!e&&!!e.__v_raw}function bt(e){const t=e&&e.__v_raw;return t?bt(t):e}function yt(e){return!h(e,"__v_skip")&&Object.isExtensible(e)&&F(e,"__v_skip",!0),e}const wt=e=>b(e)?ut(e):e,kt=e=>b(e)?pt(e):e;function Et(e){return!!e&&!0===e.__v_isRef}function Dt(e){return St(e,!1)}function St(e,t){return Et(e)?e:new At(e,t)}class At{constructor(e,t){this.dep=new Me,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:bt(e),this._value=t?e:wt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||mt(e)||gt(e);e=n?e:bt(e),H(e,t)&&(this._rawValue=e,this._value=n?e:wt(e),this.dep.trigger())}}function Mt(e){return Et(e)?e.value:e}const Tt={get:(e,t,n)=>"__v_raw"===t?e:Mt(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const r=e[t];return Et(r)&&!Et(n)?(r.value=n,!0):Reflect.set(e,t,n,a)}};function Ct(e){return vt(e)?e:new Proxy(e,Tt)}class Nt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const n=Ce.get(e);return n&&n.get(t)}(bt(this._object),this._key)}}function Ot(e,t,n){const a=e[t];return Et(a)?a:new Nt(e,t,n)}class zt{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Me(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Se-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags||ae===this))return he(this,!0),!0}get value(){const e=this.dep.track();return me(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const Lt={},Ht=new WeakMap;let $t;function Ft(e,n,r=t){const{immediate:i,deep:o,once:d,scheduler:s,augmentJob:l,call:_}=r,h=e=>o?e:mt(e)||!1===o||0===o?jt(e,1):jt(e);let p,f,v,m,x=!1,b=!1;if(Et(e)?(f=()=>e.value,x=mt(e)):vt(e)?(f=()=>h(e),x=!0):u(e)?(b=!0,x=e.some(e=>vt(e)||mt(e)),f=()=>e.map(e=>Et(e)?e.value:vt(e)?h(e):g(e)?_?_(e,2):e():void 0)):f=g(e)?n?_?()=>_(e,2):e:()=>{if(v){ke();try{v()}finally{Ee()}}const t=$t;$t=p;try{return _?_(e,3,[m]):e(m)}finally{$t=t}}:a,n&&o){const e=f,t=!0===o?1/0:o;f=()=>jt(e(),t)}const y=oe(),w=()=>{p.stop(),y&&y.active&&c(y.effects,p)};if(d&&n){const e=n;n=(...t)=>{e(...t),w()}}let k=b?new Array(e.length).fill(Lt):Lt;const E=e=>{if(1&p.flags&&(p.dirty||e))if(n){const e=p.run();if(o||x||(b?e.some((e,t)=>H(e,k[t])):H(e,k))){v&&v();const t=$t;$t=p;try{const t=[e,k===Lt?void 0:b&&k[0]===Lt?[]:k,m];k=e,_?_(n,3,t):n(...t)}finally{$t=t}}}else p.run()};return l&&l(E),p=new se(f),p.scheduler=s?()=>s(E,!1):E,m=e=>function(e,t=!1,n=$t){if(n){let t=Ht.get(n);t||Ht.set(n,t=[]),t.push(e)}}(e,!1,p),v=p.onStop=()=>{const e=Ht.get(p);if(e){if(_)_(e,4);else for(const t of e)t();Ht.delete(p)}},n?i?E(!0):k=p.run():s?s(E.bind(null,!0),!0):p.run(),w.pause=p.pause.bind(p),w.resume=p.resume.bind(p),w.stop=w,w}function jt(e,t=1/0,n){if(t<=0||!b(e)||e.__v_skip)return e;if((n=n||new Set).has(e))return e;if(n.add(e),t--,Et(e))jt(e.value,t,n);else if(u(e))for(let a=0;a<e.length;a++)jt(e[a],t,n);else if(f(e)||p(e))e.forEach(e=>{jt(e,t,n)});else if(E(e)){for(const a in e)jt(e[a],t,n);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&jt(e[a],t,n)}return e}function It(e,t,n,a){try{return a?e(...a):e()}catch(e){Rt(e,t,n)}}function qt(e,t,n,a){if(g(e)){const r=It(e,t,n,a);return r&&y(r)&&r.catch(e=>{Rt(e,t,n)}),r}if(u(e)){const r=[];for(let i=0;i<e.length;i++)r.push(qt(e[i],t,n,a));return r}}function Rt(e,n,a,r=!0){n&&n.vnode;const{errorHandler:i,throwUnhandledErrorInProduction:o}=n&&n.appContext.config||t;if(n){let t=n.parent;const r=n.proxy,o=`https://vuejs.org/error-reference/#runtime-${a}`;for(;t;){const n=t.ec;if(n)for(let t=0;t<n.length;t++)if(!1===n[t](e,r,o))return;t=t.parent}if(i)return ke(),It(i,null,10,[e,r,o]),void Ee()}!function(e,t,n,a=!0,r=!1){if(r)throw e;console.error(e)}(e,0,0,r,o)}const Pt=[];let Ut=-1;const Yt=[];let Vt=null,Bt=0;const Wt=Promise.resolve();let Jt=null;function Kt(e){const t=Jt||Wt;return e?t.then(this?e.bind(this):e):t}function Gt(e){if(!(1&e.flags)){const t=tn(e),n=Pt[Pt.length-1];!n||!(2&e.flags)&&t>=tn(n)?Pt.push(e):Pt.splice(function(e){let t=Ut+1,n=Pt.length;for(;t<n;){const a=t+n>>>1,r=Pt[a],i=tn(r);i<e||i===e&&2&r.flags?t=a+1:n=a}return t}(t),0,e),e.flags|=1,Xt()}}function Xt(){Jt||(Jt=Wt.then(nn))}function Zt(e){u(e)?Yt.push(...e):Vt&&-1===e.id?Vt.splice(Bt+1,0,e):1&e.flags||(Yt.push(e),e.flags|=1),Xt()}function Qt(e,t,n=Ut+1){for(0;n<Pt.length;n++){const t=Pt[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;0,Pt.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function en(e){if(Yt.length){const e=[...new Set(Yt)].sort((e,t)=>tn(e)-tn(t));if(Yt.length=0,Vt)return void Vt.push(...e);for(Vt=e,Bt=0;Bt<Vt.length;Bt++){const e=Vt[Bt];0,4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Vt=null,Bt=0}}const tn=e=>null==e.id?2&e.flags?-1:1/0:e.id;function nn(e){try{for(Ut=0;Ut<Pt.length;Ut++){const e=Pt[Ut];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),It(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;Ut<Pt.length;Ut++){const e=Pt[Ut];e&&(e.flags&=-2)}Ut=-1,Pt.length=0,en(),Jt=null,(Pt.length||Yt.length)&&nn(e)}}let an=null,rn=null;function on(e){const t=an;return an=e,rn=e&&e.type.__scopeId||null,t}function dn(e,t=an,n){if(!t)return e;if(e._n)return e;const a=(...n)=>{a._d&&or(-1);const r=on(t);let i;try{i=e(...n)}finally{on(r),a._d&&or(1)}return i};return a._n=!0,a._c=!0,a._d=!0,a}function sn(e,n){if(null===an)return e;const a=Pr(an),r=e.dirs||(e.dirs=[]);for(let e=0;e<n.length;e++){let[i,o,d,s=t]=n[e];i&&(g(i)&&(i={mounted:i,updated:i}),i.deep&&jt(o),r.push({dir:i,instance:a,value:o,oldValue:void 0,arg:d,modifiers:s}))}return e}function ln(e,t,n,a){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const d=r[o];i&&(d.oldValue=i[o].value);let s=d.dir[a];s&&(ke(),qt(s,n,8,[e.el,d,e,t]),Ee())}}const cn=Symbol("_vte"),_n=e=>e.__isTeleport;Symbol("_leaveCb"),Symbol("_enterCb");const hn=[Function,Array];Boolean,Boolean;function un(e,t){6&e.shapeFlag&&e.component?(e.transition=t,un(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function pn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fn(e,n,a,r,i=!1){if(u(e))return void e.forEach((e,t)=>fn(e,n&&(u(n)?n[t]:n),a,r,i));if(vn(r)&&!i)return void(512&r.shapeFlag&&r.type.__asyncResolved&&r.component.subTree.component&&fn(e,n,a,r.component.subTree));const o=4&r.shapeFlag?Pr(r.component):r.el,d=i?null:o,{i:s,r:l}=e;const _=n&&n.r,p=s.refs===t?s.refs={}:s.refs,f=s.setupState,v=bt(f),x=f===t?()=>!1:e=>h(v,e);if(null!=_&&_!==l&&(m(_)?(p[_]=null,x(_)&&(f[_]=null)):Et(_)&&(_.value=null)),g(l))It(l,s,12,[d,p]);else{const t=m(l),n=Et(l);if(t||n){const r=()=>{if(e.f){const n=t?x(l)?f[l]:p[l]:l.value;i?u(n)&&c(n,o):u(n)?n.includes(o)||n.push(o):t?(p[l]=[o],x(l)&&(f[l]=p[l])):(l.value=[o],e.k&&(p[e.k]=l.value))}else t?(p[l]=d,x(l)&&(f[l]=d)):n&&(l.value=d,e.k&&(p[e.k]=d))};d?(r.id=-1,Sa(r,a)):r()}else 0}}q().requestIdleCallback,q().cancelIdleCallback;const vn=e=>!!e.type.__asyncLoader;const gn=e=>e.type.__isKeepAlive;RegExp,RegExp;function mn(e,t){return u(e)?e.some(e=>mn(e,t)):m(e)?e.split(",").includes(t):"[object RegExp]"===k(e)&&(e.lastIndex=0,e.test(t))}function xn(e,t){yn(e,"a",t)}function bn(e,t){yn(e,"da",t)}function yn(e,t,n=Ar){const a=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Dn(t,a,n),n){let e=n.parent;for(;e&&e.parent;)gn(e.parent.vnode)&&wn(a,t,n,e),e=e.parent}}function wn(e,t,n,a){const r=Dn(t,e,a,!0);On(()=>{c(a[t],r)},n)}function kn(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function En(e){return 128&e.shapeFlag?e.ssContent:e}function Dn(e,t,n=Ar,a=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{ke();const r=Nr(n),i=qt(t,n,e,a);return r(),Ee(),i});return a?r.unshift(i):r.push(i),i}}const Sn=e=>(t,n=Ar)=>{$r&&"sp"!==e||Dn(e,(...e)=>t(...e),n)},An=Sn("bm"),Mn=Sn("m"),Tn=Sn("bu"),Cn=Sn("u"),Nn=Sn("bum"),On=Sn("um"),zn=Sn("sp"),Ln=Sn("rtg"),Hn=Sn("rtc");function $n(e,t=Ar){Dn("ec",e,t)}const Fn="components";function jn(e,t){return qn(Fn,e,!0,t)||e}const In=Symbol.for("v-ndc");function qn(e,t,n=!0,a=!1){const r=an||Ar;if(r){const n=r.type;if(e===Fn){const e=Ur(n,!1);if(e&&(e===t||e===T(t)||e===O(T(t))))return n}const i=Rn(r[e]||n[e],t)||Rn(r.appContext[e],t);return!i&&a?n:i}}function Rn(e,t){return e&&(e[t]||e[T(t)]||e[O(T(t))])}function Pn(e,t,n,a){let r;const i=n&&n[a],o=u(e);if(o||m(e)){let n=!1,a=!1;o&&vt(e)&&(n=!mt(e),a=gt(e),e=Fe(e)),r=new Array(e.length);for(let o=0,d=e.length;o<d;o++)r[o]=t(n?a?kt(wt(e[o])):wt(e[o]):e[o],o,void 0,i&&i[o])}else if("number"==typeof e){0,r=new Array(e);for(let n=0;n<e;n++)r[n]=t(n+1,n,void 0,i&&i[n])}else if(b(e))if(e[Symbol.iterator])r=Array.from(e,(e,n)=>t(e,n,void 0,i&&i[n]));else{const n=Object.keys(e);r=new Array(n.length);for(let a=0,o=n.length;a<o;a++){const o=n[a];r[a]=t(e[o],o,a,i&&i[a])}}else r=[];return n&&(n[a]=r),r}const Un=e=>e?zr(e)?Pr(e):Un(e.parent):null,Yn=l(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Un(e.parent),$root:e=>Un(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Zn(e),$forceUpdate:e=>e.f||(e.f=()=>{Gt(e.update)}),$nextTick:e=>e.n||(e.n=Kt.bind(e.proxy)),$watch:e=>ja.bind(e)}),Vn=(e,n)=>e!==t&&!e.__isScriptSetup&&h(e,n),Bn={get({_:e},n){if("__v_skip"===n)return!0;const{ctx:a,setupState:r,data:i,props:o,accessCache:d,type:s,appContext:l}=e;let c;if("$"!==n[0]){const s=d[n];if(void 0!==s)switch(s){case 1:return r[n];case 2:return i[n];case 4:return a[n];case 3:return o[n]}else{if(Vn(r,n))return d[n]=1,r[n];if(i!==t&&h(i,n))return d[n]=2,i[n];if((c=e.propsOptions[0])&&h(c,n))return d[n]=3,o[n];if(a!==t&&h(a,n))return d[n]=4,a[n];Jn&&(d[n]=0)}}const _=Yn[n];let u,p;return _?("$attrs"===n&&Le(e.attrs,0,""),_(e)):(u=s.__cssModules)&&(u=u[n])?u:a!==t&&h(a,n)?(d[n]=4,a[n]):(p=l.config.globalProperties,h(p,n)?p[n]:void 0)},set({_:e},n,a){const{data:r,setupState:i,ctx:o}=e;return Vn(i,n)?(i[n]=a,!0):r!==t&&h(r,n)?(r[n]=a,!0):!h(e.props,n)&&(("$"!==n[0]||!(n.slice(1)in e))&&(o[n]=a,!0))},has({_:{data:e,setupState:n,accessCache:a,ctx:r,appContext:i,propsOptions:o}},d){let s;return!!a[d]||e!==t&&h(e,d)||Vn(n,d)||(s=o[0])&&h(s,d)||h(r,d)||h(Yn,d)||h(i.config.globalProperties,d)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:h(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Wn(e){return u(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let Jn=!0;function Kn(e){const t=Zn(e),n=e.proxy,r=e.ctx;Jn=!1,t.beforeCreate&&Gn(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:d,watch:s,provide:l,inject:c,created:_,beforeMount:h,mounted:p,beforeUpdate:f,updated:v,activated:m,deactivated:x,beforeDestroy:y,beforeUnmount:w,destroyed:k,unmounted:E,render:D,renderTracked:S,renderTriggered:A,errorCaptured:M,serverPrefetch:T,expose:C,inheritAttrs:N,components:O,directives:z,filters:L}=t;if(c&&function(e,t){u(e)&&(e=na(e));for(const n in e){const a=e[n];let r;r=b(a)?"default"in a?ca(a.from||n,a.default,!0):ca(a.from||n):ca(a),Et(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[n]=r}}(c,r,null),d)for(const e in d){const t=d[e];g(t)&&(r[e]=t.bind(n))}if(i){0;const t=i.call(n,n);0,b(t)&&(e.data=ut(t))}if(Jn=!0,o)for(const e in o){const t=o[e],i=g(t)?t.bind(n,n):g(t.get)?t.get.bind(n,n):a;0;const d=!g(t)&&g(t.set)?t.set.bind(n):a,s=Vr({get:i,set:d});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(s)for(const e in s)Xn(s[e],r,n,e);if(l){const e=g(l)?l.call(n):l;Reflect.ownKeys(e).forEach(t=>{!function(e,t){if(Ar){let n=Ar.provides;const a=Ar.parent&&Ar.parent.provides;a===n&&(n=Ar.provides=Object.create(a)),n[e]=t}else 0}(t,e[t])})}function H(e,t){u(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(_&&Gn(_,e,"c"),H(An,h),H(Mn,p),H(Tn,f),H(Cn,v),H(xn,m),H(bn,x),H($n,M),H(Hn,S),H(Ln,A),H(Nn,w),H(On,E),H(zn,T),u(C))if(C.length){const t=e.exposed||(e.exposed={});C.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||(e.exposed={});D&&e.render===a&&(e.render=D),null!=N&&(e.inheritAttrs=N),O&&(e.components=O),z&&(e.directives=z),T&&pn(e)}function Gn(e,t,n){qt(u(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Xn(e,t,n,a){let r=a.includes(".")?Ia(n,a):()=>n[a];if(m(e)){const n=t[e];g(n)&&$a(r,n)}else if(g(e))$a(r,e.bind(n));else if(b(e))if(u(e))e.forEach(e=>Xn(e,t,n,a));else{const a=g(e.handler)?e.handler.bind(n):t[e.handler];g(a)&&$a(r,a,e)}else 0}function Zn(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,d=i.get(t);let s;return d?s=d:r.length||n||a?(s={},r.length&&r.forEach(e=>Qn(s,e,o,!0)),Qn(s,t,o)):s=t,b(t)&&i.set(t,s),s}function Qn(e,t,n,a=!1){const{mixins:r,extends:i}=t;i&&Qn(e,i,n,!0),r&&r.forEach(t=>Qn(e,t,n,!0));for(const r in t)if(a&&"expose"===r);else{const a=ea[r]||n&&n[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const ea={data:ta,props:ia,emits:ia,methods:ra,computed:ra,beforeCreate:aa,created:aa,beforeMount:aa,mounted:aa,beforeUpdate:aa,updated:aa,beforeDestroy:aa,beforeUnmount:aa,destroyed:aa,unmounted:aa,activated:aa,deactivated:aa,errorCaptured:aa,serverPrefetch:aa,components:ra,directives:ra,watch:function(e,t){if(!e)return t;if(!t)return e;const n=l(Object.create(null),e);for(const a in t)n[a]=aa(e[a],t[a]);return n},provide:ta,inject:function(e,t){return ra(na(e),na(t))}};function ta(e,t){return t?e?function(){return l(g(e)?e.call(this,this):e,g(t)?t.call(this,this):t)}:t:e}function na(e){if(u(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function aa(e,t){return e?[...new Set([].concat(e,t))]:t}function ra(e,t){return e?l(Object.create(null),e,t):t}function ia(e,t){return e?u(e)&&u(t)?[...new Set([...e,...t])]:l(Object.create(null),Wn(e),Wn(null!=t?t:{})):t}function oa(){return{app:null,config:{isNativeTag:r,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let da=0;function sa(e,t){return function(n,a=null){g(n)||(n=l({},n)),null==a||b(a)||(a=null);const r=oa(),i=new WeakSet,o=[];let d=!1;const s=r.app={_uid:da++,_component:n,_props:a,_container:null,_context:r,_instance:null,version:Br,get config(){return r.config},set config(e){0},use:(e,...t)=>(i.has(e)||(e&&g(e.install)?(i.add(e),e.install(s,...t)):g(e)&&(i.add(e),e(s,...t))),s),mixin:e=>(r.mixins.includes(e)||r.mixins.push(e),s),component:(e,t)=>t?(r.components[e]=t,s):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,s):r.directives[e],mount(i,o,l){if(!d){0;const c=s._ceVNode||fr(n,a);return c.appContext=r,!0===l?l="svg":!1===l&&(l=void 0),o&&t?t(c,i):e(c,i,l),d=!0,s._container=i,i.__vue_app__=s,Pr(c.component)}},onUnmount(e){o.push(e)},unmount(){d&&(qt(o,s._instance,16),e(null,s._container),delete s._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,s),runWithContext(e){const t=la;la=s;try{return e()}finally{la=t}}};return s}}let la=null;function ca(e,t,n=!1){const a=Mr();if(a||la){let r=la?la._context.provides:a?null==a.parent||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&g(t)?t.call(a&&a.proxy):t}else 0}const _a={},ha=()=>Object.create(_a),ua=e=>Object.getPrototypeOf(e)===_a;function pa(e,t,n,a=!1){const r={},i=ha();e.propsDefaults=Object.create(null),fa(e,t,r,i);for(const t in e.propsOptions[0])t in r||(r[t]=void 0);n?e.props=a?r:ft(r,!1,Qe,ot,lt):e.type.props?e.props=r:e.props=i,e.attrs=i}function fa(e,n,a,r){const[i,o]=e.propsOptions;let d,s=!1;if(n)for(let t in n){if(S(t))continue;const l=n[t];let c;i&&h(i,c=T(t))?o&&o.includes(c)?(d||(d={}))[c]=l:a[c]=l:Ua(e.emitsOptions,t)||t in r&&l===r[t]||(r[t]=l,s=!0)}if(o){const n=bt(a),r=d||t;for(let t=0;t<o.length;t++){const d=o[t];a[d]=va(i,n,d,r[d],e,!h(r,d))}}return s}function va(e,t,n,a,r,i){const o=e[n];if(null!=o){const e=h(o,"default");if(e&&void 0===a){const e=o.default;if(o.type!==Function&&!o.skipFactory&&g(e)){const{propsDefaults:i}=r;if(n in i)a=i[n];else{const o=Nr(r);a=i[n]=e.call(null,t),o()}}else a=e;r.ce&&r.ce._setProp(n,a)}o[0]&&(i&&!e?a=!1:!o[1]||""!==a&&a!==N(n)||(a=!0))}return a}const ga=new WeakMap;function ma(e,a,r=!1){const i=r?ga:a.propsCache,o=i.get(e);if(o)return o;const d=e.props,s={},c=[];let _=!1;if(!g(e)){const t=e=>{_=!0;const[t,n]=ma(e,a,!0);l(s,t),n&&c.push(...n)};!r&&a.mixins.length&&a.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!d&&!_)return b(e)&&i.set(e,n),n;if(u(d))for(let e=0;e<d.length;e++){0;const n=T(d[e]);xa(n)&&(s[n]=t)}else if(d){0;for(const e in d){const t=T(e);if(xa(t)){const n=d[e],a=s[t]=u(n)||g(n)?{type:n}:l({},n),r=a.type;let i=!1,o=!0;if(u(r))for(let e=0;e<r.length;++e){const t=r[e],n=g(t)&&t.name;if("Boolean"===n){i=!0;break}"String"===n&&(o=!1)}else i=g(r)&&"Boolean"===r.name;a[0]=i,a[1]=o,(i||h(a,"default"))&&c.push(t)}}}const p=[s,c];return b(e)&&i.set(e,p),p}function xa(e){return"$"!==e[0]&&!S(e)}const ba=e=>"_"===e||"__"===e||"_ctx"===e||"$stable"===e,ya=e=>u(e)?e.map(br):[br(e)],wa=(e,t,n)=>{if(t._n)return t;const a=dn((...e)=>ya(t(...e)),n);return a._c=!1,a},ka=(e,t,n)=>{const a=e._ctx;for(const n in e){if(ba(n))continue;const r=e[n];if(g(r))t[n]=wa(0,r,a);else if(null!=r){0;const e=ya(r);t[n]=()=>e}}},Ea=(e,t)=>{const n=ya(t);e.slots.default=()=>n},Da=(e,t,n)=>{for(const a in t)!n&&ba(a)||(e[a]=t[a])};const Sa=Ga;function Aa(e,r){q().__VUE__=!0;const{insert:i,remove:o,patchProp:d,createElement:s,createText:l,createComment:c,setText:_,setElementText:p,parentNode:f,nextSibling:v,setScopeId:g=a,insertStaticContent:m}=e,x=(e,t,n,a=null,r=null,i=null,o=void 0,d=null,s=!!t.dynamicChildren)=>{if(e===t)return;e&&!_r(e,t)&&(a=X(e),B(e,r,i,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);const{type:l,ref:c,shapeFlag:_}=t;switch(l){case Za:b(e,t,n,a);break;case Qa:y(e,t,n,a);break;case er:null==e&&w(t,n,a,o);break;case Xa:L(e,t,n,a,r,i,o,d,s);break;default:1&_?E(e,t,n,a,r,i,o,d,s):6&_?H(e,t,n,a,r,i,o,d,s):(64&_||128&_)&&l.process(e,t,n,a,r,i,o,d,s,ee)}null!=c&&r?fn(c,e&&e.ref,i,t||e,!t):null==c&&e&&null!=e.ref&&fn(e.ref,null,i,e,!0)},b=(e,t,n,a)=>{if(null==e)i(t.el=l(t.children),n,a);else{const n=t.el=e.el;t.children!==e.children&&_(n,t.children)}},y=(e,t,n,a)=>{null==e?i(t.el=c(t.children||""),n,a):t.el=e.el},w=(e,t,n,a)=>{[e.el,e.anchor]=m(e.children,t,n,a,e.el,e.anchor)},k=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=v(e),o(e),e=n;o(t)},E=(e,t,n,a,r,i,o,d,s)=>{"svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e?D(t,n,a,r,i,o,d,s):C(e,t,r,i,o,d,s)},D=(e,t,n,a,r,o,l,c)=>{let _,h;const{props:u,shapeFlag:f,transition:v,dirs:g}=e;if(_=e.el=s(e.type,o,u&&u.is,u),8&f?p(_,e.children):16&f&&M(e.children,_,null,a,r,Ma(e,o),l,c),g&&ln(e,null,a,"created"),A(_,e,e.scopeId,l,a),u){for(const e in u)"value"===e||S(e)||d(_,e,null,u[e],o,a);"value"in u&&d(_,"value",null,u.value,o),(h=u.onVnodeBeforeMount)&&kr(h,a,e)}g&&ln(e,null,a,"beforeMount");const m=Ca(r,v);m&&v.beforeEnter(_),i(_,t,n),((h=u&&u.onVnodeMounted)||m||g)&&Sa(()=>{h&&kr(h,a,e),m&&v.enter(_),g&&ln(e,null,a,"mounted")},r)},A=(e,t,n,a,r)=>{if(n&&g(e,n),a)for(let t=0;t<a.length;t++)g(e,a[t]);if(r){let n=r.subTree;if(t===n||Ka(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=r.vnode;A(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},M=(e,t,n,a,r,i,o,d,s=0)=>{for(let l=s;l<e.length;l++){const s=e[l]=d?yr(e[l]):br(e[l]);x(null,s,t,n,a,r,i,o,d)}},C=(e,n,a,r,i,o,s)=>{const l=n.el=e.el;let{patchFlag:c,dynamicChildren:_,dirs:h}=n;c|=16&e.patchFlag;const u=e.props||t,f=n.props||t;let v;if(a&&Ta(a,!1),(v=f.onVnodeBeforeUpdate)&&kr(v,a,n,e),h&&ln(n,e,a,"beforeUpdate"),a&&Ta(a,!0),(u.innerHTML&&null==f.innerHTML||u.textContent&&null==f.textContent)&&p(l,""),_?O(e.dynamicChildren,_,l,a,r,Ma(n,i),o):s||P(e,n,l,null,a,r,Ma(n,i),o,!1),c>0){if(16&c)z(l,u,f,a,i);else if(2&c&&u.class!==f.class&&d(l,"class",null,f.class,i),4&c&&d(l,"style",u.style,f.style,i),8&c){const e=n.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],r=u[n],o=f[n];o===r&&"value"!==n||d(l,n,r,o,i,a)}}1&c&&e.children!==n.children&&p(l,n.children)}else s||null!=_||z(l,u,f,a,i);((v=f.onVnodeUpdated)||h)&&Sa(()=>{v&&kr(v,a,n,e),h&&ln(n,e,a,"updated")},r)},O=(e,t,n,a,r,i,o)=>{for(let d=0;d<t.length;d++){const s=e[d],l=t[d],c=s.el&&(s.type===Xa||!_r(s,l)||198&s.shapeFlag)?f(s.el):n;x(s,l,c,null,a,r,i,o,!0)}},z=(e,n,a,r,i)=>{if(n!==a){if(n!==t)for(const t in n)S(t)||t in a||d(e,t,n[t],null,i,r);for(const t in a){if(S(t))continue;const o=a[t],s=n[t];o!==s&&"value"!==t&&d(e,t,s,o,i,r)}"value"in a&&d(e,"value",n.value,a.value,i)}},L=(e,t,n,a,r,o,d,s,c)=>{const _=t.el=e?e.el:l(""),h=t.anchor=e?e.anchor:l("");let{patchFlag:u,dynamicChildren:p,slotScopeIds:f}=t;f&&(s=s?s.concat(f):f),null==e?(i(_,n,a),i(h,n,a),M(t.children||[],n,h,r,o,d,s,c)):u>0&&64&u&&p&&e.dynamicChildren?(O(e.dynamicChildren,p,n,r,o,d,s),(null!=t.key||r&&t===r.subTree)&&Na(e,t,!0)):P(e,t,n,h,r,o,d,s,c)},H=(e,t,n,a,r,i,o,d,s)=>{t.slotScopeIds=d,null==e?512&t.shapeFlag?r.ctx.activate(t,n,a,o,s):F(t,n,a,r,i,o,s):j(e,t,s)},F=(e,t,n,a,r,i,o)=>{const d=e.component=Sr(e,a,r);if(gn(e)&&(d.ctx.renderer=ee),Fr(d,!1,o),d.asyncDep){if(r&&r.registerDep(d,I,o),!e.el){const a=d.subTree=fr(Qa);y(null,a,t,n),e.placeholder=a.el}}else I(d,e,t,n,r,i,o)},j=(e,t,n)=>{const a=t.component=e.component;if(function(e,t,n){const{props:a,children:r,component:i}=e,{props:o,children:d,patchFlag:s}=t,l=i.emitsOptions;0;if(t.dirs||t.transition)return!0;if(!(n&&s>=0))return!(!r&&!d||d&&d.$stable)||a!==o&&(a?!o||Wa(a,o,l):!!o);if(1024&s)return!0;if(16&s)return a?Wa(a,o,l):!!o;if(8&s){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==a[n]&&!Ua(l,n))return!0}}return!1}(e,t,n)){if(a.asyncDep&&!a.asyncResolved)return void R(a,t,n);a.next=t,a.update()}else t.el=e.el,a.vnode=t},I=(e,t,n,a,r,i,o)=>{const d=()=>{if(e.isMounted){let{next:t,bu:n,u:a,parent:s,vnode:l}=e;{const n=Oa(e);if(n)return t&&(t.el=l.el,R(e,t,o)),void n.asyncDep.then(()=>{e.isUnmounted||d()})}let c,_=t;0,Ta(e,!1),t?(t.el=l.el,R(e,t,o)):t=l,n&&$(n),(c=t.props&&t.props.onVnodeBeforeUpdate)&&kr(c,s,t,l),Ta(e,!0);const h=Ya(e);0;const u=e.subTree;e.subTree=h,x(u,h,f(u.el),X(u),e,r,i),t.el=h.el,null===_&&Ja(e,h.el),a&&Sa(a,r),(c=t.props&&t.props.onVnodeUpdated)&&Sa(()=>kr(c,s,t,l),r)}else{let o;const{el:d,props:s}=t,{bm:l,m:c,parent:_,root:h,type:u}=e,p=vn(t);if(Ta(e,!1),l&&$(l),!p&&(o=s&&s.onVnodeBeforeMount)&&kr(o,_,t),Ta(e,!0),d&&ne){const t=()=>{e.subTree=Ya(e),ne(d,e.subTree,e,r,null)};p&&u.__asyncHydrate?u.__asyncHydrate(d,e,t):t()}else{h.ce&&!1!==h.ce._def.shadowRoot&&h.ce._injectChildStyle(u);const o=e.subTree=Ya(e);0,x(null,o,n,a,e,r,i),t.el=o.el}if(c&&Sa(c,r),!p&&(o=s&&s.onVnodeMounted)){const e=t;Sa(()=>kr(o,_,e),r)}(256&t.shapeFlag||_&&vn(_.vnode)&&256&_.vnode.shapeFlag)&&e.a&&Sa(e.a,r),e.isMounted=!0,t=n=a=null}};e.scope.on();const s=e.effect=new se(d);e.scope.off();const l=e.update=s.run.bind(s),c=e.job=s.runIfDirty.bind(s);c.i=e,c.id=e.uid,s.scheduler=()=>Gt(c),Ta(e,!0),l()},R=(e,n,a)=>{n.component=e;const r=e.vnode.props;e.vnode=n,e.next=null,function(e,t,n,a){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,d=bt(r),[s]=e.propsOptions;let l=!1;if(!(a||o>0)||16&o){let a;fa(e,t,r,i)&&(l=!0);for(const i in d)t&&(h(t,i)||(a=N(i))!==i&&h(t,a))||(s?!n||void 0===n[i]&&void 0===n[a]||(r[i]=va(s,d,i,void 0,e,!0)):delete r[i]);if(i!==d)for(const e in i)t&&h(t,e)||(delete i[e],l=!0)}else if(8&o){const n=e.vnode.dynamicProps;for(let a=0;a<n.length;a++){let o=n[a];if(Ua(e.emitsOptions,o))continue;const c=t[o];if(s)if(h(i,o))c!==i[o]&&(i[o]=c,l=!0);else{const t=T(o);r[t]=va(s,d,t,c,e,!1)}else c!==i[o]&&(i[o]=c,l=!0)}}l&&He(e.attrs,"set","")}(e,n.props,r,a),((e,n,a)=>{const{vnode:r,slots:i}=e;let o=!0,d=t;if(32&r.shapeFlag){const e=n._;e?a&&1===e?o=!1:Da(i,n,a):(o=!n.$stable,ka(n,i)),d=n}else n&&(Ea(e,n),d={default:1});if(o)for(const e in i)ba(e)||null!=d[e]||delete i[e]})(e,n.children,a),ke(),Qt(e),Ee()},P=(e,t,n,a,r,i,o,d,s=!1)=>{const l=e&&e.children,c=e?e.shapeFlag:0,_=t.children,{patchFlag:h,shapeFlag:u}=t;if(h>0){if(128&h)return void Y(l,_,n,a,r,i,o,d,s);if(256&h)return void U(l,_,n,a,r,i,o,d,s)}8&u?(16&c&&G(l,r,i),_!==l&&p(n,_)):16&c?16&u?Y(l,_,n,a,r,i,o,d,s):G(l,r,i,!0):(8&c&&p(n,""),16&u&&M(_,n,a,r,i,o,d,s))},U=(e,t,a,r,i,o,d,s,l)=>{t=t||n;const c=(e=e||n).length,_=t.length,h=Math.min(c,_);let u;for(u=0;u<h;u++){const n=t[u]=l?yr(t[u]):br(t[u]);x(e[u],n,a,null,i,o,d,s,l)}c>_?G(e,i,o,!0,!1,h):M(t,a,r,i,o,d,s,l,h)},Y=(e,t,a,r,i,o,d,s,l)=>{let c=0;const _=t.length;let h=e.length-1,u=_-1;for(;c<=h&&c<=u;){const n=e[c],r=t[c]=l?yr(t[c]):br(t[c]);if(!_r(n,r))break;x(n,r,a,null,i,o,d,s,l),c++}for(;c<=h&&c<=u;){const n=e[h],r=t[u]=l?yr(t[u]):br(t[u]);if(!_r(n,r))break;x(n,r,a,null,i,o,d,s,l),h--,u--}if(c>h){if(c<=u){const e=u+1,n=e<_?t[e].el:r;for(;c<=u;)x(null,t[c]=l?yr(t[c]):br(t[c]),a,n,i,o,d,s,l),c++}}else if(c>u)for(;c<=h;)B(e[c],i,o,!0),c++;else{const p=c,f=c,v=new Map;for(c=f;c<=u;c++){const e=t[c]=l?yr(t[c]):br(t[c]);null!=e.key&&v.set(e.key,c)}let g,m=0;const b=u-f+1;let y=!1,w=0;const k=new Array(b);for(c=0;c<b;c++)k[c]=0;for(c=p;c<=h;c++){const n=e[c];if(m>=b){B(n,i,o,!0);continue}let r;if(null!=n.key)r=v.get(n.key);else for(g=f;g<=u;g++)if(0===k[g-f]&&_r(n,t[g])){r=g;break}void 0===r?B(n,i,o,!0):(k[r-f]=c+1,r>=w?w=r:y=!0,x(n,t[r],a,null,i,o,d,s,l),m++)}const E=y?function(e){const t=e.slice(),n=[0];let a,r,i,o,d;const s=e.length;for(a=0;a<s;a++){const s=e[a];if(0!==s){if(r=n[n.length-1],e[r]<s){t[a]=r,n.push(a);continue}for(i=0,o=n.length-1;i<o;)d=i+o>>1,e[n[d]]<s?i=d+1:o=d;s<e[n[i]]&&(i>0&&(t[a]=n[i-1]),n[i]=a)}}i=n.length,o=n[i-1];for(;i-- >0;)n[i]=o,o=t[o];return n}(k):n;for(g=E.length-1,c=b-1;c>=0;c--){const e=f+c,n=t[e],h=t[e+1],u=e+1<_?h.el||h.placeholder:r;0===k[c]?x(null,n,a,u,i,o,d,s,l):y&&(g<0||c!==E[g]?V(n,a,u,2):g--)}}},V=(e,t,n,a,r=null)=>{const{el:d,type:s,transition:l,children:c,shapeFlag:_}=e;if(6&_)return void V(e.component.subTree,t,n,a);if(128&_)return void e.suspense.move(t,n,a);if(64&_)return void s.move(e,t,n,ee);if(s===Xa){i(d,t,n);for(let e=0;e<c.length;e++)V(c[e],t,n,a);return void i(e.anchor,t,n)}if(s===er)return void(({el:e,anchor:t},n,a)=>{let r;for(;e&&e!==t;)r=v(e),i(e,n,a),e=r;i(t,n,a)})(e,t,n);if(2!==a&&1&_&&l)if(0===a)l.beforeEnter(d),i(d,t,n),Sa(()=>l.enter(d),r);else{const{leave:a,delayLeave:r,afterLeave:s}=l,c=()=>{e.ctx.isUnmounted?o(d):i(d,t,n)},_=()=>{a(d,()=>{c(),s&&s()})};r?r(d,c,_):_()}else i(d,t,n)},B=(e,t,n,a=!1,r=!1)=>{const{type:i,props:o,ref:d,children:s,dynamicChildren:l,shapeFlag:c,patchFlag:_,dirs:h,cacheIndex:u}=e;if(-2===_&&(r=!1),null!=d&&(ke(),fn(d,null,n,e,!0),Ee()),null!=u&&(t.renderCache[u]=void 0),256&c)return void t.ctx.deactivate(e);const p=1&c&&h,f=!vn(e);let v;if(f&&(v=o&&o.onVnodeBeforeUnmount)&&kr(v,t,e),6&c)K(e.component,n,a);else{if(128&c)return void e.suspense.unmount(n,a);p&&ln(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,ee,a):l&&!l.hasOnce&&(i!==Xa||_>0&&64&_)?G(l,t,n,!1,!0):(i===Xa&&384&_||!r&&16&c)&&G(s,t,n),a&&W(e)}(f&&(v=o&&o.onVnodeUnmounted)||p)&&Sa(()=>{v&&kr(v,t,e),p&&ln(e,null,t,"unmounted")},n)},W=e=>{const{type:t,el:n,anchor:a,transition:r}=e;if(t===Xa)return void J(n,a);if(t===er)return void k(e);const i=()=>{o(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:a}=r,o=()=>t(n,i);a?a(e.el,i,o):o()}else i()},J=(e,t)=>{let n;for(;e!==t;)n=v(e),o(e),e=n;o(t)},K=(e,t,n)=>{const{bum:a,scope:r,job:i,subTree:o,um:d,m:s,a:l,parent:c,slots:{__:_}}=e;za(s),za(l),a&&$(a),c&&u(_)&&_.forEach(e=>{c.renderCache[e]=void 0}),r.stop(),i&&(i.flags|=8,B(o,e,t,n)),d&&Sa(d,t),Sa(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},G=(e,t,n,a=!1,r=!1,i=0)=>{for(let o=i;o<e.length;o++)B(e[o],t,n,a,r)},X=e=>{if(6&e.shapeFlag)return X(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=v(e.anchor||e.el),n=t&&t[cn];return n?v(n):t};let Z=!1;const Q=(e,t,n)=>{null==e?t._vnode&&B(t._vnode,null,null,!0):x(t._vnode||null,e,t,null,null,null,n),t._vnode=e,Z||(Z=!0,Qt(),en(),Z=!1)},ee={p:x,um:B,m:V,r:W,mt:F,mc:M,pc:P,pbc:O,n:X,o:e};let te,ne;return r&&([te,ne]=r(ee)),{render:Q,hydrate:te,createApp:sa(Q,te)}}function Ma({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ta({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ca(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Na(e,t,n=!1){const a=e.children,r=t.children;if(u(a)&&u(r))for(let e=0;e<a.length;e++){const t=a[e];let i=r[e];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=r[e]=yr(r[e]),i.el=t.el),n||-2===i.patchFlag||Na(t,i)),i.type===Za&&(i.el=t.el),i.type!==Qa||i.el||(i.el=t.el)}}function Oa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Oa(t)}function za(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const La=Symbol.for("v-scx"),Ha=()=>{{const e=ca(La);return e}};function $a(e,t,n){return Fa(e,t,n)}function Fa(e,n,r=t){const{immediate:i,deep:o,flush:d,once:s}=r;const c=l({},r);const _=n&&i||!n&&"post"!==d;let h;if($r)if("sync"===d){const e=Ha();h=e.__watcherHandles||(e.__watcherHandles=[])}else if(!_){const e=()=>{};return e.stop=a,e.resume=a,e.pause=a,e}const u=Ar;c.call=(e,t,n)=>qt(e,u,t,n);let p=!1;"post"===d?c.scheduler=e=>{Sa(e,u&&u.suspense)}:"sync"!==d&&(p=!0,c.scheduler=(e,t)=>{t?e():Gt(e)}),c.augmentJob=e=>{n&&(e.flags|=4),p&&(e.flags|=2,u&&(e.id=u.uid,e.i=u))};const f=Ft(e,n,c);return $r&&(h?h.push(f):_&&f()),f}function ja(e,t,n){const a=this.proxy,r=m(e)?e.includes(".")?Ia(a,e):()=>a[e]:e.bind(a,a);let i;g(t)?i=t:(i=t.handler,n=t);const o=Nr(this),d=Fa(r,i.bind(a),n);return o(),d}function Ia(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const qa=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${T(t)}Modifiers`]||e[`${N(t)}Modifiers`];function Ra(e,n,...a){if(e.isUnmounted)return;const r=e.vnode.props||t;let i=a;const o=n.startsWith("update:"),d=o&&qa(r,n.slice(7));let s;d&&(d.trim&&(i=a.map(e=>m(e)?e.trim():e)),d.number&&(i=a.map(j)));let l=r[s=z(n)]||r[s=z(T(n))];!l&&o&&(l=r[s=z(N(n))]),l&&qt(l,e,6,i);const c=r[s+"Once"];if(c){if(e.emitted){if(e.emitted[s])return}else e.emitted={};e.emitted[s]=!0,qt(c,e,6,i)}}function Pa(e,t,n=!1){const a=t.emitsCache,r=a.get(e);if(void 0!==r)return r;const i=e.emits;let o={},d=!1;if(!g(e)){const a=e=>{const n=Pa(e,t,!0);n&&(d=!0,l(o,n))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return i||d?(u(i)?i.forEach(e=>o[e]=null):l(o,i),b(e)&&a.set(e,o),o):(b(e)&&a.set(e,null),null)}function Ua(e,t){return!(!e||!d(t))&&(t=t.slice(2).replace(/Once$/,""),h(e,t[0].toLowerCase()+t.slice(1))||h(e,N(t))||h(e,t))}function Ya(e){const{type:t,vnode:n,proxy:a,withProxy:r,propsOptions:[i],slots:o,attrs:d,emit:l,render:c,renderCache:_,props:h,data:u,setupState:p,ctx:f,inheritAttrs:v}=e,g=on(e);let m,x;try{if(4&n.shapeFlag){const e=r||a,t=e;m=br(c.call(t,e,_,h,p,u,f)),x=d}else{const e=t;0,m=br(e.length>1?e(h,{attrs:d,slots:o,emit:l}):e(h,null)),x=t.props?d:Va(d)}}catch(t){tr.length=0,Rt(t,e,1),m=fr(Qa)}let b=m;if(x&&!1!==v){const e=Object.keys(x),{shapeFlag:t}=b;e.length&&7&t&&(i&&e.some(s)&&(x=Ba(x,i)),b=gr(b,x,!1,!0))}return n.dirs&&(b=gr(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&un(b,n.transition),m=b,on(g),m}const Va=e=>{let t;for(const n in e)("class"===n||"style"===n||d(n))&&((t||(t={}))[n]=e[n]);return t},Ba=(e,t)=>{const n={};for(const a in e)s(a)&&a.slice(9)in t||(n[a]=e[a]);return n};function Wa(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let r=0;r<a.length;r++){const i=a[r];if(t[i]!==e[i]&&!Ua(n,i))return!0}return!1}function Ja({vnode:e,parent:t},n){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a!==e)break;(e=t.vnode).el=n,t=t.parent}}const Ka=e=>e.__isSuspense;function Ga(e,t){t&&t.pendingBranch?u(e)?t.effects.push(...e):t.effects.push(e):Zt(e)}const Xa=Symbol.for("v-fgt"),Za=Symbol.for("v-txt"),Qa=Symbol.for("v-cmt"),er=Symbol.for("v-stc"),tr=[];let nr=null;function ar(e=!1){tr.push(nr=e?null:[])}function rr(){tr.pop(),nr=tr[tr.length-1]||null}let ir=1;function or(e,t=!1){ir+=e,e<0&&nr&&t&&(nr.hasOnce=!0)}function dr(e){return e.dynamicChildren=ir>0?nr||n:null,rr(),ir>0&&nr&&nr.push(e),e}function sr(e,t,n,a,r,i){return dr(pr(e,t,n,a,r,i,!0))}function lr(e,t,n,a,r){return dr(fr(e,t,n,a,r,!0))}function cr(e){return!!e&&!0===e.__v_isVNode}function _r(e,t){return e.type===t.type&&e.key===t.key}const hr=({key:e})=>null!=e?e:null,ur=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?m(e)||Et(e)||g(e)?{i:an,r:e,k:t,f:!!n}:e:null);function pr(e,t=null,n=null,a=0,r=null,i=(e===Xa?0:1),o=!1,d=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hr(t),ref:t&&ur(t),scopeId:rn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:a,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:an};return d?(wr(s,n),128&i&&e.normalize(s)):n&&(s.shapeFlag|=m(n)?8:16),ir>0&&!o&&nr&&(s.patchFlag>0||6&i)&&32!==s.patchFlag&&nr.push(s),s}const fr=vr;function vr(e,t=null,n=null,a=0,r=null,i=!1){if(e&&e!==In||(e=Qa),cr(e)){const a=gr(e,t,!0);return n&&wr(a,n),ir>0&&!i&&nr&&(6&a.shapeFlag?nr[nr.indexOf(e)]=a:nr.push(a)),a.patchFlag=-2,a}if(Yr(e)&&(e=e.__vccOpts),t){t=function(e){return e?xt(e)||ua(e)?l({},e):e:null}(t);let{class:e,style:n}=t;e&&!m(e)&&(t.class=B(e)),b(n)&&(xt(n)&&!u(n)&&(n=l({},n)),t.style=R(n))}return pr(e,t,n,a,r,m(e)?1:Ka(e)?128:_n(e)?64:b(e)?4:g(e)?2:0,i,!0)}function gr(e,t,n=!1,a=!1){const{props:r,ref:i,patchFlag:o,children:s,transition:l}=e,c=t?function(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const e in a)if("class"===e)t.class!==a.class&&(t.class=B([t.class,a.class]));else if("style"===e)t.style=R([t.style,a.style]);else if(d(e)){const n=t[e],r=a[e];!r||n===r||u(n)&&n.includes(r)||(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=a[e])}return t}(r||{},t):r,_={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&hr(c),ref:t&&t.ref?n&&i?u(i)?i.concat(ur(t)):[i,ur(t)]:ur(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Xa?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gr(e.ssContent),ssFallback:e.ssFallback&&gr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&a&&un(_,l.clone(_)),_}function mr(e=" ",t=0){return fr(Za,null,e,t)}function xr(e="",t=!1){return t?(ar(),lr(Qa,null,e)):fr(Qa,null,e)}function br(e){return null==e||"boolean"==typeof e?fr(Qa):u(e)?fr(Xa,null,e.slice()):cr(e)?yr(e):fr(Za,null,String(e))}function yr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:gr(e)}function wr(e,t){let n=0;const{shapeFlag:a}=e;if(null==t)t=null;else if(u(t))n=16;else if("object"==typeof t){if(65&a){const n=t.default;return void(n&&(n._c&&(n._d=!1),wr(e,n()),n._c&&(n._d=!0)))}{n=32;const a=t._;a||ua(t)?3===a&&an&&(1===an.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=an}}else g(t)?(t={default:t,_ctx:an},n=32):(t=String(t),64&a?(n=16,t=[mr(t)]):n=8);e.children=t,e.shapeFlag|=n}function kr(e,t,n,a=null){qt(e,t,7,[n,a])}const Er=oa();let Dr=0;function Sr(e,n,a){const r=e.type,i=(n?n.appContext:e.appContext)||Er,o={uid:Dr++,vnode:e,type:r,parent:n,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new re(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(i.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ma(r,i),emitsOptions:Pa(r,i),emit:null,emitted:null,propsDefaults:t,inheritAttrs:r.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=n?n.root:o,o.emit=Ra.bind(null,o),e.ce&&e.ce(o),o}let Ar=null;const Mr=()=>Ar||an;let Tr,Cr;{const e=q(),t=(t,n)=>{let a;return(a=e[t])||(a=e[t]=[]),a.push(n),e=>{a.length>1?a.forEach(t=>t(e)):a[0](e)}};Tr=t("__VUE_INSTANCE_SETTERS__",e=>Ar=e),Cr=t("__VUE_SSR_SETTERS__",e=>$r=e)}const Nr=e=>{const t=Ar;return Tr(e),e.scope.on(),()=>{e.scope.off(),Tr(t)}},Or=()=>{Ar&&Ar.scope.off(),Tr(null)};function zr(e){return 4&e.vnode.shapeFlag}let Lr,Hr,$r=!1;function Fr(e,t=!1,n=!1){t&&Cr(t);const{props:a,children:r}=e.vnode,i=zr(e);pa(e,a,i,t),((e,t,n)=>{const a=e.slots=ha();if(32&e.vnode.shapeFlag){const e=t.__;e&&F(a,"__",e,!0);const r=t._;r?(Da(a,t,n),n&&F(a,"_",r,!0)):ka(t,a)}else t&&Ea(e,t)})(e,r,n||t);const o=i?function(e,t){const n=e.type;0;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Bn),!1;const{setup:a}=n;if(a){ke();const n=e.setupContext=a.length>1?Rr(e):null,r=Nr(e),i=It(a,e,0,[e.props,n]),o=y(i);if(Ee(),r(),!o&&!e.sp||vn(e)||pn(e),o){if(i.then(Or,Or),t)return i.then(n=>{jr(e,n,t)}).catch(t=>{Rt(t,e,0)});e.asyncDep=i}else jr(e,i,t)}else Ir(e,t)}(e,t):void 0;return t&&Cr(!1),o}function jr(e,t,n){g(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:b(t)&&(e.setupState=Ct(t)),Ir(e,n)}function Ir(e,t,n){const r=e.type;if(!e.render){if(!t&&Lr&&!r.render){const t=r.template||Zn(e).template;if(t){0;const{isCustomElement:n,compilerOptions:a}=e.appContext.config,{delimiters:i,compilerOptions:o}=r,d=l(l({isCustomElement:n,delimiters:i},a),o);r.render=Lr(t,d)}}e.render=r.render||a,Hr&&Hr(e)}{const t=Nr(e);ke();try{Kn(e)}finally{Ee(),t()}}}const qr={get:(e,t)=>(Le(e,0,""),e[t])};function Rr(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,qr),slots:e.slots,emit:e.emit,expose:t}}function Pr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ct(yt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Yn?Yn[n](e):void 0,has:(e,t)=>t in e||t in Yn})):e.proxy}function Ur(e,t=!0){return g(e)?e.displayName||e.name:e.name||t&&e.__name}function Yr(e){return g(e)&&"__vccOpts"in e}const Vr=(e,t)=>{const n=function(e,t,n=!1){let a,r;return g(e)?a=e:(a=e.get,r=e.set),new zt(a,r,n)}(e,0,$r);return n};const Br="3.5.18";const Wr=typeof window<"u"?window:i.g;function Jr(e){let t=[],n=!1,a=null,r=null;function i(){return e.config.drag_highlight&&e.markTimespan}function o(t){const n=e.getView(t);return n?n.layout:t}function d(t){const{event:n,layout:a,viewName:r,sectionId:i,eventNode:o}=t;!function(e,t){switch(t){case"month":e.style.top="",e.style.left="";break;case"timeline":e.style.left="",e.style.marginLeft="1px";break;default:e.style.top=""}}(o,a);const d={};let s={start_date:n.start_date,end_date:n.end_date,css:"dhx_scheduler_dnd_marker",html:o};if("timeline"==a){const t=e.getView(r);if(t.round_position){const a=e._get_date_index(t,n.start_date),r=t._trace_x[a];s.start_date=r}}return"timeline"!=a&&"month"!=a||(s={...s,end_date:e.date.add(n.start_date,1,"minute")}),i&&(d[r]=i,s.sections=d),s}e.attachEvent("onBeforeDrag",function(t,d,s){return i()&&(n=!0,r=e.getEvent(t),a=s.target.closest(`[${e.config.event_attribute}]`),"units"==o(e.getState().mode)&&e.config.cascade_event_display&&(e.unselect(t),a=s.target.closest(`[${e.config.event_attribute}]`))),!0}),e.attachEvent("onEventDrag",function(s,l,c){if(n&&i()){n=!1;const i=e.getState().mode,s=o(i),l=e.getActionData(c).section;r&&function(n){const{layout:a}=n;let r;switch(a){case"month":r=function(t){let n=[];const{event:a,layout:r,viewName:i,sectionId:o}=t,s=[];let l=new Date(a.start_date);for(;l.valueOf()<a.end_date.valueOf();){let t={start_date:l};s.push(t),l=e.date.week_start(e.date.add(l,1,"week"))}let c=e.$container.querySelectorAll(`[${e.config.event_attribute}='${a.id}']`);for(let e=0;e<c.length;e++){const t={event:s[e],layout:r,viewName:i,sectionId:o,eventNode:c[e].cloneNode(!0)};n.push(d(t))}return n}(n);break;case"timeline":case"units":r=function(t){let n=[];const{event:a,layout:r,viewName:i,eventNode:o}=t;let s=function(t){const n=e.getView(t);return n.y_property?n.y_property:n.map_to?n.map_to:void 0}(i);if(s){const t=String(a[s]).split(e.config.section_delimiter).map(e=>String(e)),l=[];for(let e=0;e<t.length;e++){l[e]=o.cloneNode(!0);const s={event:a,layout:r,viewName:i,sectionId:t[e],eventNode:l[e]};n.push(d(s))}}return n}(n);break;default:r=function(t){const{event:n,layout:a,viewName:r,sectionId:i}=t;let o=[],s=e.$container.querySelectorAll(`[${e.config.event_attribute}='${n.id}']:not(.dhx_cal_select_menu):not(.dhx_drag_marker)`);if(s)for(let e=0;e<s.length;e++){let t=s[e].cloneNode(!0);const n={event:{start_date:new Date(+t.getAttribute("data-bar-start")),end_date:new Date(+t.getAttribute("data-bar-end"))},layout:a,viewName:r,sectionId:i,eventNode:t};o.push(d(n))}return o}(n)}r.forEach(n=>{t.push(e.markTimespan(n))})}({event:r,layout:s,viewName:i,sectionId:l,eventNode:a})}}),e.attachEvent("onDragEnd",function(n,i,o){for(let n=0;n<t.length;n++)e.unmarkTimespan(t[n]);t=[],a=null,r=null})}function Kr(e){var t={},n=!1;function a(e,n){n="function"==typeof n?n:function(){},t[e]||(t[e]=this[e],this[e]=n)}function r(e){t[e]&&(this[e]=t[e],t[e]=null)}function i(e){for(var t in e)a.call(this,t,e[t])}function o(){for(var e in t)r.call(this,e)}function d(e){try{e()}catch(e){window.console.error(e)}}return e.$stateProvider.registerProvider("batchUpdate",function(){return{batch_update:n}},!1),function(t,a){if(n)return void d(t);var r,s=this._dp&&"off"!=this._dp.updateMode;s&&(r=this._dp.updateMode,this._dp.setUpdateMode("off"));const l={setModeDate:{date:null,mode:null},needRender:!1,needUpdateView:!1,repaintEvents:{}},c=(e,t)=>{e&&(l.setModeDate.date=e),t&&(l.setModeDate.mode=t)};var _={render:(e,t)=>{l.needRender=!0,c(e,t)},setCurrentView:(e,t)=>{l.needRender=!0,c(e,t)},updateView:(e,t)=>{l.needUpdateView=!0,c(e,t)},render_data:()=>l.needRender=!0,render_view_data:e=>{e&&e.length?e.forEach(e=>l.repaintEvents[e.id]=!0):l.needRender=!0}};if(i.call(this,_),n=!0,this.callEvent("onBeforeBatchUpdate",[]),d(t),this.callEvent("onAfterBatchUpdate",[]),o.call(this),n=!1,!a)if(l.needRender)e.render(l.setModeDate.date,l.setModeDate.mode);else if(l.needUpdateView)e.updateView(l.setModeDate.date,l.setModeDate.mode);else for(const t in l.repaintEvents)e.updateEvent(t);s&&(this._dp.setUpdateMode(r),this._dp.sendData())}}class Gr{constructor(e){const{url:t,token:n}=e;this._url=t,this._token=n,this._mode=1,this._seed=1,this._queue=[],this.data={},this.api={},this._events={}}headers(){return{Accept:"application/json","Content-Type":"application/json","Remote-Token":this._token}}fetch(e,t){const n={credentials:"include",headers:this.headers()};return t&&(n.method="POST",n.body=t),fetch(e,n).then(e=>e.json())}load(e){return e&&(this._url=e),this.fetch(this._url).then(e=>this.parse(e))}parse(e){const{key:t,websocket:n}=e;t&&(this._token=e.key);for(const t in e.data)this.data[t]=e.data[t];for(const t in e.api){const n=this.api[t]={},a=e.api[t];for(const e in a)n[e]=this._wrapper(t+"."+e)}return n&&this.connect(),this}connect(){const e=this._socket;e&&(this._socket=null,e.onclose=function(){},e.close()),this._mode=2,this._socket=function(e,t,n,a){let r=t;"/"===r[0]&&(r=document.location.protocol+"//"+document.location.host+t),r=r.replace(/^http(s|):/,"ws$1:");const i=-1!=r.indexOf("?")?"&":"?";r=`${r}${i}token=${n}&ws=1`;const o=new WebSocket(r);return o.onclose=()=>setTimeout(()=>e.connect(),2e3),o.onmessage=t=>{const n=JSON.parse(t.data);switch(n.action){case"result":e.result(n.body,[]);break;case"event":e.fire(n.body.name,n.body.value);break;case"start":a();break;default:e.onError(n.data)}},o}(this,this._url,this._token,()=>(this._mode=3,this._send(),this._resubscribe(),this))}_wrapper(e){return function(){const t=[].slice.call(arguments);let n=null;const a=new Promise((a,r)=>{n={data:{id:this._uid(),name:e,args:t},status:1,resolve:a,reject:r},this._queue.push(n)});return this.onCall(n,a),3===this._mode?this._send(n):setTimeout(()=>this._send(),1),a}.bind(this)}_uid(){return(this._seed++).toString()}_send(e){if(2==this._mode)return void setTimeout(()=>this._send(),100);const t=e?[e]:this._queue.filter(e=>1===e.status);if(!t.length)return;const n=t.map(e=>(e.status=2,e.data));3!==this._mode?this.fetch(this._url,JSON.stringify(n)).catch(e=>this.onError(e)).then(e=>this.result(e,n)):this._socket.send(JSON.stringify({action:"call",body:n}))}result(e,t){const n={};if(e)for(let t=0;t<e.length;t++)n[e[t].id]=e[t];else for(let e=0;e<t.length;e++)n[t[e].id]={id:t[e].id,error:"Network Error",data:null};for(let e=this._queue.length-1;e>=0;e--){const t=this._queue[e],a=n[t.data.id];a&&(this.onResponse(t,a),a.error?t.reject(a.error):t.resolve(a.data),this._queue.splice(e,1))}}on(e,t){const n=this._uid();let a=this._events[e];const r=!!a;return r||(a=this._events[e]=[]),a.push({id:n,handler:t}),r||3!=this._mode||this._socket.send(JSON.stringify({action:"subscribe",name:e})),{name:e,id:n}}_resubscribe(){if(3==this._mode)for(const e in this._events)this._socket.send(JSON.stringify({action:"subscribe",name:e}))}detach(e){if(!e){if(3==this._mode)for(const e in this._events)this._socket.send(JSON.stringify({action:"unsubscribe",key:e}));return void(this._events={})}const{id:t,name:n}=e,a=this._events[n];if(a){const e=a.filter(e=>e.id!=t);e.length?this._events[n]=e:(delete this._events[n],3==this._mode&&this._socket.send(JSON.stringify({action:"unsubscribe",name:n})))}}fire(e,t){const n=this._events[e];if(n)for(let e=0;e<n.length;e++)n[e].handler(t)}onError(e){return null}onCall(e,t){}onResponse(e,t){}}class Xr{constructor(e,t){const n=new Gr({url:e,token:t});n.fetch=function(e,t){const n={headers:this.headers()};return t&&(n.method="POST",n.body=t),fetch(e,n).then(e=>e.json())},this._ready=n.load().then(e=>this._remote=e)}ready(){return this._ready}on(e,t){this.ready().then(n=>{if("string"==typeof e)n.on(e,t);else for(const t in e)n.on(t,e[t])})}}function Zr(e){function t(t,a){switch(t){case"add-event":r=a,e.getEvent(r.id)?console.warn(`Event with ID ${r.id} already exists. Skipping add.`):(r.start_date=e.templates.parse_date(r.start_date),r.end_date=e.templates.parse_date(r.end_date),r.original_start&&(r.original_start=e.templates.parse_date(r.original_start)),n(()=>{e.addEvent(r)}));break;case"update-event":!function(t){const a=t.id;if(!e.getEvent(a))return void console.warn(`Event with ID ${a} does not exist. Skipping update.`);const r=e.getEvent(a);n(()=>{for(let e in t)"start_date"!==e&&"end_date"!==e&&(r[e]=t[e]);r.start_date=e.templates.parse_date(t.start_date),r.end_date=e.templates.parse_date(t.end_date),t.original_start&&(t.original_start=e.templates.parse_date(t.original_start)),e.callEvent("onEventChanged",[a,r]),e.updateEvent(a),a!==t.id&&e.changeEventId(a,t.id)})}(a);break;case"delete-event":!function(t){const a=t.id;e.getEvent(a)?n(()=>{const n=e.getEvent(a);if(n){if(n.rec_type||n.rrule){e._roll_back_dates(n);const t=e._get_rec_markers(a);for(const n in t)e.getEvent(n)&&e.deleteEvent(n,!0)}if(e.getState().lightbox_id==a&&(this._new_event=this._lightbox_id,t.id=this._lightbox_id,this._events[this._lightbox_id]=t,!1===e.callEvent("onLiveUpdateCollision",[a,null,"delete",t])))return void e.endLightbox(!1,e._lightbox);e.deleteEvent(a,!0)}}):(t.event_pid||t.recurring_event_id)&&n(()=>{e.addEvent(t)})}(a)}var r}function n(t){e._dp?e._dp.ignore(t):t()}return{events:function(n){if(!n||!n.event||!n.event.id)return void console.error("Invalid message format:",n);const{type:a,event:r}=n;if(!e._dp||!e._dp._in_progress[r.id]){if("add-event"===a)for(const n in e._dp._in_progress)if("inserted"===e._dp.getState(n))return void e._dp.attachEvent("onFullSync",function(){e.getEvent(r.id)||t(a,r)},{once:!0});t(a,r)}}}}function Qr(e){var t;(function(e){const t={};e.attachEvent("onConfirmedBeforeEventDelete",function(e){return t[e]=!0,!0}),e.attachEvent("onEventDeleted",function(n,a){if(!t[n])return;delete t[n];let r=e.copy(a);e.config.undo_deleted&&!e.getState().new_event&&e.message({text:`<div class="dhx_info_message">\n                            <span class="undo_popup_text">Event deleted</span>\n                            <button class="undo_button" data-deleted-event-id="${a.id}">Undo</button>\n                        </div>`,expire:1e4,type:"popup_after_delete",callback:function(t){t.target.closest(`[data-deleted-event-id="${a.id}"]`)&&(r.rrule&&r.duration&&(r.end_date=new Date(r.start_date.valueOf()+1e3*r.duration),e.addEvent(r)),e.addEvent(r),e.render())}})})})(e),Jr(e),function(e){e.config.mark_now=!0,e.config.display_marked_timespans=!0,e.config.overwrite_marked_timespans=!0;var t="dhx_time_block",n="default",a=function(e,n,a){var r="object"==typeof e?e:{days:e};return r.type=t,r.css="",n&&(a&&(r.sections=a),r=function(e,t,n){return t instanceof Date&&n instanceof Date?(e.start_date=t,e.end_date=n):(e.days=t,e.zones=n),e}(r,e,n)),r};function r(t,n,a,r,i){var o=e,d=[],s={_props:"map_to",matrix:"y_property"};for(var l in s){var c=s[l];if(o[l])for(var _ in o[l]){var h=o[l][_][c];t[h]&&(d=o._add_timespan_zones(d,e._get_blocked_zones(n[_],t[h],a,r,i)))}}return o._add_timespan_zones(d,e._get_blocked_zones(n,"global",a,r,i))}e.blockTime=function(t,n,r){var i=a(t,n,r);return e.addMarkedTimespan(i)},e.unblockTime=function(t,n,r){var i=a(t,n=n||"fullday",r);return e.deleteMarkedTimespan(i)},e.checkInMarkedTimespan=function(t,a,i){a=a||n;for(var o=!0,d=new Date(t.start_date.valueOf()),s=e.date.add(d,1,"day"),l=e._marked_timespans;d<t.end_date;d=e.date.date_part(s),s=e.date.add(d,1,"day")){var c=+e.date.date_part(new Date(d)),_=r(t,l,d.getDay(),c,a);if(_)for(var h=0;h<_.length;h+=2){var u=e._get_zone_minutes(d),p=t.end_date>s||t.end_date.getDate()!=d.getDate()?1440:e._get_zone_minutes(t.end_date),f=_[h],v=_[h+1];if(f<p&&v>u&&!(o="function"==typeof i&&i(t,u,p,f,v)))break}}return!o},e.checkLimitViolation=function(n){if(!n||!e.config.check_limits)return!0;var a,r=e,i=r.config;if(n.rec_type&&n._end_date||n.rrule){const e=n._end_date||n.end_date;return!i.limit_start||!i.limit_end||e.valueOf()>=i.limit_start.valueOf()&&n.start_date.valueOf()<=i.limit_end.valueOf()}a=[n];for(var o=!0,d=0;d<a.length;d++){var s=!0,l=a[d];l._timed=e.isOneDayEvent(l),(s=!i.limit_start||!i.limit_end||l.start_date.valueOf()>=i.limit_start.valueOf()&&l.end_date.valueOf()<=i.limit_end.valueOf())&&(s=!e.checkInMarkedTimespan(l,t,function(e,t,n,a,i){var o=!0;return t<=i&&t>=a&&((1440==i||n<=i)&&(o=!1),e._timed&&r._drag_id&&"new-size"==r._drag_mode?(e.start_date.setHours(0),e.start_date.setMinutes(i)):o=!1),(n>=a&&n<=i||t<a&&n>i)&&(e._timed&&r._drag_id&&"new-size"==r._drag_mode?(e.end_date.setHours(0),e.end_date.setMinutes(a)):o=!1),o})),s||(s=r.checkEvent("onLimitViolation")?r.callEvent("onLimitViolation",[l.id,l]):s),o=o&&s}return o||(r._drag_id=null,r._drag_mode=null),o},e._get_blocked_zones=function(e,t,n,a,r){var i=[];if(e&&e[t])for(var o=e[t],d=this._get_relevant_blocked_zones(n,a,o,r),s=0;s<d.length;s++)i=this._add_timespan_zones(i,d[s].zones);return i},e._get_relevant_blocked_zones=function(t,n,a,r){var i;return e.config.overwrite_marked_timespans?i=a[n]&&a[n][r]?a[n][r]:a[t]&&a[t][r]?a[t][r]:[]:(i=[],a[n]&&a[n][r]&&(i=i.concat(a[n][r])),a[t]&&a[t][r]&&(i=i.concat(a[t][r]))),i},e._mark_now=function(t){var n="dhx_now_time";this._els[n]||(this._els[n]=[]);var a=e._currentDate(),r=this.config;if(e._remove_mark_now(),!t&&r.mark_now&&a<this._max_date&&a>this._min_date&&a.getHours()>=r.first_hour&&a.getHours()<r.last_hour){var i=this.locate_holder_day(a);this._els[n]=e._append_mark_now(i,a)}},e._append_mark_now=function(t,n){var a="dhx_now_time",r=e._get_zone_minutes(n),i={zones:[r,r+1],css:a,type:a};if(!this._table_view){if(this._props&&this._props[this._mode]){var o,d,s=this._props[this._mode],l=s.size||s.options.length;s.days>1?(s.size&&s.options.length&&(t=(s.position+t)/s.options.length*s.size),o=t,d=t+l):d=(o=0)+l;for(var c=[],_=o;_<d;_++){var h=_;i.days=h;var u=e._render_marked_timespan(i,null,h)[0];c.push(u)}return c}return i.days=t,e._render_marked_timespan(i,null,t)}if("month"==this._mode)return i.days=+e.date.date_part(n),e._render_marked_timespan(i,null,null)},e._remove_mark_now=function(){for(var e="dhx_now_time",t=this._els[e],n=0;n<t.length;n++){var a=t[n],r=a.parentNode;r&&r.removeChild(a)}this._els[e]=[]},e._marked_timespans={global:{}},e._get_zone_minutes=function(e){return 60*e.getHours()+e.getMinutes()},e._prepare_timespan_options=function(t){var a=[],r=[];if("fullweek"==t.days&&(t.days=[0,1,2,3,4,5,6]),t.days instanceof Array){for(var i=t.days.slice(),o=0;o<i.length;o++){var d=e._lame_clone(t);d.days=i[o],a.push.apply(a,e._prepare_timespan_options(d))}return a}if(!t||!(t.start_date&&t.end_date&&t.end_date>t.start_date||void 0!==t.days&&t.zones)&&!t.type)return a;"fullday"==t.zones&&(t.zones=[0,1440]),t.zones&&t.invert_zones&&(t.zones=e.invertZones(t.zones)),t.id=e.uid(),t.css=t.css||"",t.type=t.type||n;var s=t.sections;if(s){for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];for(c instanceof Array||(c=[c]),o=0;o<c.length;o++)(g=e._lame_copy({},t)).sections={},g.sections[l]=c[o],r.push(g)}}else r.push(t);for(var _=0;_<r.length;_++){var h=r[_],u=h.start_date,p=h.end_date;if(u&&p)for(var f=e.date.date_part(new Date(u)),v=e.date.add(f,1,"day");f<p;){var g;delete(g=e._lame_copy({},h)).start_date,delete g.end_date,g.days=f.valueOf();var m=u>f?e._get_zone_minutes(u):0,x=p>v||p.getDate()!=f.getDate()?1440:e._get_zone_minutes(p);g.zones=[m,x],a.push(g),f=v,v=e.date.add(v,1,"day")}else h.days instanceof Date&&(h.days=e.date.date_part(h.days).valueOf()),h.zones=t.zones.slice(),a.push(h)}return a},e._get_dates_by_index=function(t,n,a){var r=[];n=e.date.date_part(new Date(n||e._min_date)),a=new Date(a||e._max_date);for(var i=n.getDay(),o=t-i>=0?t-i:7-n.getDay()+t,d=e.date.add(n,o,"day");d<a;d=e.date.add(d,1,"week"))r.push(d);return r},e._get_css_classes_by_config=function(e){var n=[];return e.type==t&&(n.push(t),e.css&&n.push(t+"_reset")),n.push("dhx_marked_timespan",e.css),n.join(" ")},e._get_block_by_config=function(t){var n=document.createElement("div");if(t.html){let a=t.html;"function"==typeof a&&(a=a(t)),"string"==typeof a?n.innerHTML=t.html:e.config.external_render&&e.config.external_render.isElement(a)?e.config.external_render.renderElement(a,n):n.appendChild(a)}return n},e._render_marked_timespan=function(t,n,a){var r=[],i=e.config,o=this._min_date,d=this._max_date,s=!1;if(!i.display_marked_timespans)return r;if(!a&&0!==a){if(t.days<7)a=t.days;else{var l=new Date(t.days);if(s=+l,!(+d>+l&&+o<=+l))return r;a=l.getDay()}var c=o.getDay();c>a?a=7-(c-a):a-=c}var _=t.zones,h=e._get_css_classes_by_config(t);if(e._table_view&&"month"==e._mode){var u=[],p=[];if(n)u.push(n),p.push(a);else{p=s?[s]:e._get_dates_by_index(a);for(var f=0;f<p.length;f++)u.push(this._scales[p[f]])}for(f=0;f<u.length;f++){n=u[f],a=p[f];var v=this.locate_holder_day(a,!1)%this._cols.length;if(!this._ignores[v]){var g=e._get_block_by_config(t);g.className=h,g.style.top="0px",g.style.height="100%";for(var m=0;m<_.length;m+=2){var x=_[f];if((k=_[f+1])<=x)return[];(E=g.cloneNode(!0)).style.left="0px",E.style.width="100%",n.appendChild(E),r.push(E)}}}}else{var b=a;if(this._ignores[this.locate_holder_day(a,!1)])return r;if(this._props&&this._props[this._mode]&&t.sections&&t.sections[this._mode]){var y=this._props[this._mode];b=y.order[t.sections[this._mode]];var w=y.order[t.sections[this._mode]];y.days>1?b=b*(y.size||y.options.length)+w:(b=w,y.size&&b>y.position+y.size&&(b=0))}for(n=n||e.locate_holder(b),f=0;f<_.length;f+=2){var k,E;if(x=Math.max(_[f],60*i.first_hour),(k=Math.min(_[f+1],60*i.last_hour))<=x){if(f+2<_.length)continue;return[]}(E=e._get_block_by_config(t)).className=h;var D=24*this.config.hour_size_px+1,S=36e5;E.style.top=Math.round((60*x*1e3-this.config.first_hour*S)*this.config.hour_size_px/S)%D+"px",E.style.height=Math.max(Math.round(60*(k-x)*1e3*this.config.hour_size_px/S)%D,1)+"px",n.appendChild(E),r.push(E)}}return r},e._mark_timespans=function(){var t=this._els.dhx_cal_data[0],n=[];if(e._table_view&&"month"==e._mode)for(var a in this._scales){var r=new Date(+a);n.push.apply(n,e._on_scale_add_marker(this._scales[a],r))}else{r=new Date(e._min_date);for(var i=0,o=t.childNodes.length;i<o;i++){var d=t.childNodes[i];d.firstChild&&e._getClassName(d.firstChild).indexOf("dhx_scale_hour")>-1||(n.push.apply(n,e._on_scale_add_marker(d,r)),r=e.date.add(r,1,"day"))}}return n},e.markTimespan=function(t){if(!this._els)throw new Error("`scheduler.markTimespan` can't be used before scheduler initialization. Place `scheduler.markTimespan` call after `scheduler.init`.");var n=!1;this._els.dhx_cal_data||(e.get_elements(),n=!0);var a=e._marked_timespans_ids,r=e._marked_timespans_types,i=e._marked_timespans;e.deleteMarkedTimespan(),e.addMarkedTimespan(t);var o=e._mark_timespans();return n&&(e._els=[]),e._marked_timespans_ids=a,e._marked_timespans_types=r,e._marked_timespans=i,o},e.unmarkTimespan=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];n.parentNode&&n.parentNode.removeChild(n)}},e._addMarkerTimespanConfig=function(t){var n="global",a=e._marked_timespans,r=t.id,i=e._marked_timespans_ids;i[r]||(i[r]=[]);var o=t.days,d=t.sections,s=t.type;if(t.id=r,d){for(var l in d)if(d.hasOwnProperty(l)){a[l]||(a[l]={});var c=d[l],_=a[l];_[c]||(_[c]={}),_[c][o]||(_[c][o]={}),_[c][o][s]||(_[c][o][s]=[],e._marked_timespans_types||(e._marked_timespans_types={}),e._marked_timespans_types[s]||(e._marked_timespans_types[s]=!0));var h=_[c][o][s];t._array=h,h.push(t),i[r].push(t)}}else a[n][o]||(a[n][o]={}),a[n][o][s]||(a[n][o][s]=[]),e._marked_timespans_types||(e._marked_timespans_types={}),e._marked_timespans_types[s]||(e._marked_timespans_types[s]=!0),h=a[n][o][s],t._array=h,h.push(t),i[r].push(t)},e._marked_timespans_ids={},e.addMarkedTimespan=function(t){var n=e._prepare_timespan_options(t);if(n.length){for(var a=n[0].id,r=0;r<n.length;r++)e._addMarkerTimespanConfig(n[r]);return a}},e._add_timespan_zones=function(e,t){var n=e.slice();if(t=t.slice(),!n.length)return t;for(var a=0;a<n.length;a+=2)for(var r=n[a],i=n[a+1],o=a+2==n.length,d=0;d<t.length;d+=2){var s=t[d],l=t[d+1];if(l>i&&s<=i||s<r&&l>=r)n[a]=Math.min(r,s),n[a+1]=Math.max(i,l),a-=2;else{if(!o)continue;var c=r>s?0:2;n.splice(a+c,0,s,l)}t.splice(d--,2);break}return n},e._subtract_timespan_zones=function(e,t){for(var n=e.slice(),a=0;a<n.length;a+=2)for(var r=n[a],i=n[a+1],o=0;o<t.length;o+=2){var d=t[o],s=t[o+1];if(s>r&&d<i){var l=!1;r>=d&&i<=s&&n.splice(a,2),r<d&&(n.splice(a,2,r,d),l=!0),i>s&&n.splice(l?a+2:a,l?0:2,s,i),a-=2;break}}return n},e.invertZones=function(t){return e._subtract_timespan_zones([0,1440],t.slice())},e._delete_marked_timespan_by_id=function(t){var n=e._marked_timespans_ids[t];if(n)for(var a=0;a<n.length;a++)for(var r=n[a],i=r._array,o=0;o<i.length;o++)if(i[o]==r){i.splice(o,1);break}},e._delete_marked_timespan_by_config=function(t){var a,r=e._marked_timespans,i=t.sections,o=t.days,d=t.type||n;if(i){for(var s in i)if(i.hasOwnProperty(s)&&r[s]){var l=i[s];r[s][l]&&(a=r[s][l])}}else a=r.global;if(a)if(void 0!==o)a[o]&&a[o][d]&&(e._addMarkerTimespanConfig(t),e._delete_marked_timespans_list(a[o][d],t));else for(var c in a)if(a[c][d]){var _=e._lame_clone(t);t.days=c,e._addMarkerTimespanConfig(_),e._delete_marked_timespans_list(a[c][d],t)}},e._delete_marked_timespans_list=function(t,n){for(var a=0;a<t.length;a++){var r=t[a],i=e._subtract_timespan_zones(r.zones,n.zones);if(i.length)r.zones=i;else{t.splice(a,1),a--;for(var o=e._marked_timespans_ids[r.id],d=0;d<o.length;d++)if(o[d]==r){o.splice(d,1);break}}}},e.deleteMarkedTimespan=function(t){if(arguments.length||(e._marked_timespans={global:{}},e._marked_timespans_ids={},e._marked_timespans_types={}),"object"!=typeof t)e._delete_marked_timespan_by_id(t);else{t.start_date&&t.end_date||(void 0!==t.days||t.type||(t.days="fullweek"),t.zones||(t.zones="fullday"));var n=[];if(t.type)n.push(t.type);else for(var a in e._marked_timespans_types)n.push(a);for(var r=e._prepare_timespan_options(t),i=0;i<r.length;i++)for(var o=r[i],d=0;d<n.length;d++){var s=e._lame_clone(o);s.type=n[d],e._delete_marked_timespan_by_config(s)}}},e._get_types_to_render=function(t,n){var a=t?e._lame_copy({},t):{};for(var r in n||{})n.hasOwnProperty(r)&&(a[r]=n[r]);return a},e._get_configs_to_render=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push.apply(t,e[n]);return t},e._on_scale_add_marker=function(t,n){if(!e._table_view||"month"==e._mode){var a=n.getDay(),r=n.valueOf(),i=this._mode,o=e._marked_timespans,d=[],s=[];if(this._props&&this._props[i]){var l=this._props[i],c=l.options,_=c[e._get_unit_index(l,n)];if(l.days>1){var h=Math.round((n-e._min_date)/864e5),u=l.size||c.length;n=e.date.add(e._min_date,Math.floor(h/u),"day"),n=e.date.date_part(n)}else n=e.date.date_part(new Date(this._date));if(a=n.getDay(),r=n.valueOf(),o[i]&&o[i][_.key]){var p=o[i][_.key],f=e._get_types_to_render(p[a],p[r]);d.push.apply(d,e._get_configs_to_render(f))}}var v=o.global;if(e.config.overwrite_marked_timespans){var g=v[r]||v[a];d.push.apply(d,e._get_configs_to_render(g))}else v[r]&&d.push.apply(d,e._get_configs_to_render(v[r])),v[a]&&d.push.apply(d,e._get_configs_to_render(v[a]));for(var m=0;m<d.length;m++)s.push.apply(s,e._render_marked_timespan(d[m],t,n));return s}},e.attachEvent("onScaleAdd",function(){e._on_scale_add_marker.apply(e,arguments)}),e.dblclick_dhx_marked_timespan=function(t,n){e.callEvent("onScaleDblClick",[e.getActionData(t).date,n,t]),e.config.dblclick_create&&e.addEventNow(e.getActionData(t).date,null,t)}}(e),(t=e).batchUpdate=Kr(t),function(e){e.ext||(e.ext={}),e.ext.liveUpdates={RemoteEvents:Xr,remoteUpdates:Zr(e)}}(e)}var ei=Date.now();function ti(e){return!(!e||"object"!=typeof e||!(e.getFullYear&&e.getMonth&&e.getDate))}const ni={uid:function(){return ei++},mixin:function(e,t,n){for(var a in t)(void 0===e[a]||n)&&(e[a]=t[a]);return e},copy:function e(t){var n,a,r,i;if(t&&"object"==typeof t)switch(!0){case ti(t):a=new Date(t);break;case r=t,Array.isArray?Array.isArray(r):r&&void 0!==r.length&&r.pop&&r.push:for(a=new Array(t.length),n=0;n<t.length;n++)a[n]=e(t[n]);break;case i=t,i&&"object"==typeof i&&"function String() { [native code] }"===Function.prototype.toString.call(i.constructor):a=new String(t);break;case function(e){return e&&"object"==typeof e&&"function Number() { [native code] }"===Function.prototype.toString.call(e.constructor)}(t):a=new Number(t);break;case function(e){return e&&"object"==typeof e&&"function Boolean() { [native code] }"===Function.prototype.toString.call(e.constructor)}(t):a=new Boolean(t);break;default:for(n in a={},t){const r=typeof t[n];"string"===r||"number"===r||"boolean"===r?a[n]=t[n]:ti(t[n])?a[n]=new Date(t[n]):Object.prototype.hasOwnProperty.apply(t,[n])&&(a[n]=e(t[n]))}}return a||t},defined:function(e){return void 0!==e},isDate:ti,delay:function(e,t){var n,a=function(){a.$cancelTimeout(),a.$pending=!0;var r=Array.prototype.slice.call(arguments);n=setTimeout(function(){e.apply(this,r),a.$pending=!1},t)};return a.$pending=!1,a.$cancelTimeout=function(){clearTimeout(n),a.$pending=!1},a.$execute=function(){var t=Array.prototype.slice.call(arguments);e.apply(this,t),a.$cancelTimeout()},a}};function ai(e){function t(e){var t=document.createElement("div");return(e||"").split(" ").forEach(function(e){t.classList.add(e)}),t}var n=function(){return t("dhx_cal_navbar_rows_container")},a=function(){return t("dhx_cal_navbar_row")},r=function(n){var a=t("dhx_cal_tab");return a.setAttribute("name",n.view+"_tab"),a.setAttribute("data-tab",n.view),e.config.fix_tab_position&&(n.$firstTab?a.classList.add("dhx_cal_tab_first"):n.$lastTab?a.classList.add("dhx_cal_tab_last"):"week"!==n.view&&a.classList.add("dhx_cal_tab_standalone"),n.$segmentedTab&&a.classList.add("dhx_cal_tab_segmented")),a},i=function(){return t("dhx_cal_date")},o=function(e){return t("dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab")},d=function(e){return t("dhx_cal_"+e.view+"_button dhx_cal_nav_button")},s=function(){return t("dhx_cal_line_spacer")},l=function(n){var a=t("dhx_minical_icon");return n.click||a.$_eventAttached||e.event(a,"click",function(){e.isCalendarVisible()?e.destroyCalendar():e.renderCalendar({position:this,date:e.getState().date,navigation:!0,handler:function(t,n){e.setCurrentView(t),e.destroyCalendar()}})}),a};function c(t){var c=function(e){var t;if(e.view)switch(e.view){case"today":case"next":case"prev":t=d;break;case"date":t=i;break;case"spacer":t=s;break;case"button":t=o;break;case"minicalendar":t=l;break;default:t=r}else e.rows?t=n:e.cols&&(t=a);return t}(t);if(c){var _=c(t);if(t.css&&_.classList.add(t.css),t.width&&((h=t.width)===1*h&&(h+="px"),_.style.width=h),t.height&&((h=t.height)===1*h&&(h+="px"),_.style.height=h),t.click&&e.event(_,"click",t.click),t.html&&(_.innerHTML=t.html),t.align){var h="";"right"==t.align?h="flex-end":"left"==t.align&&(h="flex-start"),_.style.justifyContent=h}return _}}function _(e){return"string"==typeof e&&(e={view:e}),e.view||e.rows||e.cols||(e.view="button"),e}function h(e){var t,n=document.createDocumentFragment();t=Array.isArray(e)?e:[e];for(var a=0;a<t.length;a++){var r,i=_(t[a]);"day"===i.view&&t[a+1]&&("week"!==(r=_(t[a+1])).view&&"month"!==r.view||(i.$firstTab=!0,i.$segmentedTab=!0)),"week"===i.view&&t[a-1]&&("week"!==(r=_(t[a+1])).view&&"month"!==r.view||(i.$segmentedTab=!0)),"month"===i.view&&t[a-1]&&("week"!==(r=_(t[a-1])).view&&"day"!==r.view||(i.$lastTab=!0,i.$segmentedTab=!0));var o=c(i);n.appendChild(o),(i.cols||i.rows)&&o.appendChild(h(i.cols||i.rows))}return n}e._init_nav_bar=function(t){var n=this.$container.querySelector(".dhx_cal_navline");return n||((n=document.createElement("div")).className="dhx_cal_navline dhx_cal_navline_flex",e._update_nav_bar(t,n),n)};var u=null;e._update_nav_bar=function(t,n){if(t){var a=!1,r=t.height||e.xy.nav_height;null!==u&&u===r||(a=!0),a&&(e.xy.nav_height=r),n.innerHTML="",n.appendChild(h(t)),e.unset_actions(),e._els=[],e.get_elements(),e.set_actions(),n.style.display=0===r?"none":"",u=r}}}class ri{constructor(){this._silent_mode=!1,this.listeners={}}_silentStart(){this._silent_mode=!0}_silentEnd(){this._silent_mode=!1}}function ii(e){const t=new ri;e.attachEvent=function(e,n,a){e="ev_"+e.toLowerCase(),t.listeners[e]||(t.listeners[e]=function(e){let t={},n=0;const a=function(){let n=!0;for(const a in t){const r=t[a].apply(e,arguments);n=n&&r}return n};return a.addEvent=function(e,r){if("function"==typeof e){let i;if(r&&r.id?i=r.id:(i=n,n++),r&&r.once){const t=e;e=function(){t(),a.removeEvent(i)}}return t[i]=e,i}return!1},a.removeEvent=function(e){delete t[e]},a.clear=function(){t={}},a}(this)),a&&a.thisObject&&(n=n.bind(a.thisObject));let r=e+":"+t.listeners[e].addEvent(n,a);return a&&a.id&&(r=a.id),r},e.attachAll=function(e){this.attachEvent("listen_all",e)},e.callEvent=function(e,n){if(t._silent_mode)return!0;const a="ev_"+e.toLowerCase(),r=t.listeners;return r.ev_listen_all&&r.ev_listen_all.apply(this,[e].concat(n)),!r[a]||r[a].apply(this,n)},e.checkEvent=function(e){return!!t.listeners["ev_"+e.toLowerCase()]},e.detachEvent=function(e){if(e){let n=t.listeners;for(const t in n)n[t].removeEvent(e);const a=e.split(":");if(n=t.listeners,2===a.length){const e=a[0],t=a[1];n[e]&&n[e].removeEvent(t)}}},e.detachAllEvents=function(){for(const e in t.listeners)t.listeners[e].clear()}}const oi={event:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},eventRemove:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}};function di(e){if(!e)return"";var t=e.className||"";return t.baseVal&&(t=t.baseVal),t.indexOf||(t=""),t||""}function si(e,t,n){void 0===n&&(n=!0);for(var a=e.target||e.srcElement,r="";a;){if(r=di(a)){var i=r.indexOf(t);if(i>=0){if(!n)return a;var o=0===i||!(r.charAt(i-1)||"").trim(),d=i+t.length>=r.length||!r.charAt(i+t.length).trim();if(o&&d)return a}}a=a.parentNode}return null}function li(e){var t=!1,n=!1;if(window.getComputedStyle){var a=window.getComputedStyle(e,null);t=a.display,n=a.visibility}else e.currentStyle&&(t=e.currentStyle.display,n=e.currentStyle.visibility);var r=!1,i=si({target:e},"dhx_form_repeat",!1);return i&&(r="0px"==i.style.height),r=r||!e.offsetHeight,"none"!=t&&"hidden"!=n&&!r}function ci(e){return!isNaN(e.getAttribute("tabindex"))&&1*e.getAttribute("tabindex")>=0}function _i(e){return!{a:!0,area:!0}[e.nodeName.loLowerCase()]||!!e.getAttribute("href")}function hi(e){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[e.nodeName.toLowerCase()]||!e.hasAttribute("disabled")}function ui(){return document.head.createShadowRoot||document.head.attachShadow}function pi(e){if(!e||!ui())return document.body;for(;e.parentNode&&(e=e.parentNode);)if(e instanceof ShadowRoot)return e.host;return document.body}const fi={getAbsoluteLeft:function(e){return this.getOffset(e).left},getAbsoluteTop:function(e){return this.getOffset(e).top},getOffsetSum:function(e){for(var t=0,n=0;e;)t+=parseInt(e.offsetTop),n+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:t,left:n}},getOffsetRect:function(e){var t=e.getBoundingClientRect(),n=0,a=0;if(/Mobi/.test(navigator.userAgent)){var r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width="1px",r.style.height="1px",document.body.appendChild(r);var i=r.getBoundingClientRect();n=t.top-i.top,a=t.left-i.left,r.parentNode.removeChild(r)}else{var o=document.body,d=document.documentElement,s=window.pageYOffset||d.scrollTop||o.scrollTop,l=window.pageXOffset||d.scrollLeft||o.scrollLeft,c=d.clientTop||o.clientTop||0,_=d.clientLeft||o.clientLeft||0;n=t.top+s-c,a=t.left+l-_}return{top:Math.round(n),left:Math.round(a)}},getOffset:function(e){return e.getBoundingClientRect?this.getOffsetRect(e):this.getOffsetSum(e)},closest:function(e,t){return e&&t?vi(e,t):null},insertAfter:function(e,t){t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)},remove:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},isChildOf:function(e,t){return t.contains(e)},getFocusableNodes:function(e){for(var t=e.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),n=Array.prototype.slice.call(t,0),a=0;a<n.length;a++)n[a].$position=a;for(n.sort(function(e,t){return 0===e.tabIndex&&0!==t.tabIndex?1:0!==e.tabIndex&&0===t.tabIndex?-1:e.tabIndex===t.tabIndex?e.$position-t.$position:e.tabIndex<t.tabIndex?-1:1}),a=0;a<n.length;a++){var r=n[a];(ci(r)||hi(r)||_i(r))&&li(r)||(n.splice(a,1),a--)}return n},getClassName:di,locateCss:si,getRootNode:pi,hasShadowParent:function(e){return!!pi(e)},isShadowDomSupported:ui,getActiveElement:function(){var e=document.activeElement;return e.shadowRoot&&(e=e.shadowRoot.activeElement),e===document.body&&document.getSelection&&(e=document.getSelection().focusNode||document.body),e},getRelativeEventPosition:function(e,t){var n=document.documentElement,a=function(e){var t=0,n=0,a=0,r=0;if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=document.body,d=document.documentElement||document.body.parentNode||document.body,s=window.pageYOffset||d.scrollTop||o.scrollTop,l=window.pageXOffset||d.scrollLeft||o.scrollLeft,c=d.clientTop||o.clientTop||0,_=d.clientLeft||o.clientLeft||0;t=i.top+s-c,n=i.left+l-_,a=document.body.offsetWidth-i.right,r=document.body.offsetHeight-i.bottom}else{for(;e;)t+=parseInt(e.offsetTop,10),n+=parseInt(e.offsetLeft,10),e=e.offsetParent;a=document.body.offsetWidth-e.offsetWidth-n,r=document.body.offsetHeight-e.offsetHeight-t}return{y:Math.round(t),x:Math.round(n),width:e.offsetWidth,height:e.offsetHeight,right:Math.round(a),bottom:Math.round(r)}}(t);return{x:e.clientX-n.clientLeft-a.x+t.scrollLeft,y:e.clientY-n.clientTop-a.y+t.scrollTop}},getTargetNode:function(e){var t;return e.tagName?t=e:(t=(e=e||window.event).target||e.srcElement).shadowRoot&&e.composedPath&&(t=e.composedPath()[0]),t},getNodePosition:function(e){var t=0,n=0,a=0,r=0;if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=document.body,d=document.documentElement||document.body.parentNode||document.body,s=window.pageYOffset||d.scrollTop||o.scrollTop,l=window.pageXOffset||d.scrollLeft||o.scrollLeft,c=d.clientTop||o.clientTop||0,_=d.clientLeft||o.clientLeft||0;t=i.top+s-c,n=i.left+l-_,a=document.body.offsetWidth-i.right,r=document.body.offsetHeight-i.bottom}else{for(;e;)t+=parseInt(e.offsetTop,10),n+=parseInt(e.offsetLeft,10),e=e.offsetParent;a=document.body.offsetWidth-e.offsetWidth-n,r=document.body.offsetHeight-e.offsetHeight-t}return{y:Math.round(t),x:Math.round(n),width:e.offsetWidth,height:e.offsetHeight,right:Math.round(a),bottom:Math.round(r)}}};var vi;if(Element.prototype.closest)vi=function(e,t){return e.closest(t)};else{var gi=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;vi=function(e,t){var n=e;do{if(gi.call(n,t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}}var mi=typeof window<"u";const xi={isIE:mi&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isOpera:mi&&navigator.userAgent.indexOf("Opera")>=0,isChrome:mi&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:mi&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:mi&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:mi&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:mi&&-1!=navigator.userAgent.indexOf("Edge"),isNode:!mi||typeof navigator>"u"};function bi(e){if("string"==typeof e||"number"==typeof e)return e;var t="";for(var n in e){var a="";e.hasOwnProperty(n)&&(a=n+"="+(a="string"==typeof e[n]?encodeURIComponent(e[n]):"number"==typeof e[n]?e[n]:encodeURIComponent(JSON.stringify(e[n]))),t.length&&(a="&"+a),t+=a)}return t}function yi(e){return function(){var e={};for(var t in this._events){var n=this._events[t];-1==n.id.toString().indexOf("#")&&(e[n.id]=n)}return e}.bind(e)}function wi(e,t){this.$scheduler=e,this.$dp=t,this._dataProcessorHandlers=[],this.attach=function(){var e=this.$dp,t=this.$scheduler;this._dataProcessorHandlers.push(t.attachEvent("onEventAdded",function(t){!this._loading&&this._validId(t)&&e.setUpdated(t,!0,"inserted")})),this._dataProcessorHandlers.push(t.attachEvent("onConfirmedBeforeEventDelete",function(t){if(this._validId(t)){var n=e.getState(t);return"inserted"==n||this._new_event?(e.setUpdated(t,!1),!0):"deleted"!=n&&("true_deleted"==n||(e.setUpdated(t,!0,"deleted"),!1))}})),this._dataProcessorHandlers.push(t.attachEvent("onEventChanged",function(t){!this._loading&&this._validId(t)&&e.setUpdated(t,!0,"updated")})),this._dataProcessorHandlers.push(t.attachEvent("onClearAll",function(){e._in_progress={},e._invalid={},e.updatedRows=[],e._waitMode=0})),e.attachEvent("insertCallback",t._update_callback),e.attachEvent("updateCallback",t._update_callback),e.attachEvent("deleteCallback",function(e,n){t.getEvent(n)?(t.setUserData(n,this.action_param,"true_deleted"),t.deleteEvent(n)):t._add_rec_marker&&t._update_callback(e,n)})},this.detach=function(){for(var e in this._dataProcessorHandlers){var t=this._dataProcessorHandlers[e];this.$scheduler.detachEvent(t)}this._dataProcessorHandlers=[]}}function ki(e){return this.serverProcessor=e,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this._headers=null,this._payload=null,this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),ii(this),this}function Ei(e){var t="data-dhxbox",n=null;function a(e,t,a){var r=e.callback;r&&r(t,a),p.hide(e.box),n=e.box=null}function r(e){if(n){var t=e.which||e.keyCode,r=!1;if(f.keyboard){if(13==t||32==t){var i=e.target||e.srcElement;fi.getClassName(i).indexOf("scheduler_popup_button")>-1&&i.click?i.click():(a(n,!0),r=!0)}27==t&&(a(n,!1),r=!0)}return r?(e.preventDefault&&e.preventDefault(),!(e.cancelBubble=!0)):void 0}}function i(t){i.cover||(i.cover=document.createElement("div"),e.event(i.cover,"keydown",r),i.cover.className="dhx_modal_cover",document.body.appendChild(i.cover)),i.cover.style.display=t?"inline-block":"none"}function o(t,n,a){var r=e._waiAria.messageButtonAttrString(t),i=(n||"").toLowerCase().replace(/ /g,"_");return`<div ${r} class='scheduler_popup_button dhtmlx_popup_button scheduler_${i}_button dhtmlx_${i}_button' data-result='${a}' result='${a}' ><div>${t}</div></div>`}function d(){for(var e=[].slice.apply(arguments,[0]),t=0;t<e.length;t++)if(e[t])return e[t]}function s(s,l,c){var _=s.tagName?s:function(r,i,s){var l=document.createElement("div"),c=ni.uid();e._waiAria.messageModalAttr(l,c),l.className=" scheduler_modal_box dhtmlx_modal_box scheduler-"+r.type+" dhtmlx-"+r.type,l.setAttribute(t,1);var _="";if(r.width&&(l.style.width=r.width),r.height&&(l.style.height=r.height),r.title&&(_+='<div class="scheduler_popup_title dhtmlx_popup_title">'+r.title+"</div>"),_+='<div class="scheduler_popup_text dhtmlx_popup_text" id="'+c+'"><span>'+(r.content?"":r.text)+'</span></div><div  class="scheduler_popup_controls dhtmlx_popup_controls">',i&&(_+=o(d(r.ok,e.locale.labels.message_ok,"OK"),"ok",!0)),s&&(_+=o(d(r.cancel,e.locale.labels.message_cancel,"Cancel"),"cancel",!1)),r.buttons)for(var h=0;h<r.buttons.length;h++){var u=r.buttons[h];_+="object"==typeof u?o(u.label,u.css||"scheduler_"+u.label.toLowerCase()+"_button dhtmlx_"+u.label.toLowerCase()+"_button",u.value||h):o(u,u,h)}if(_+="</div>",l.innerHTML=_,r.content){var p=r.content;"string"==typeof p&&(p=document.getElementById(p)),"none"==p.style.display&&(p.style.display=""),l.childNodes[r.title?1:0].appendChild(p)}return e.event(l,"click",function(e){var t=e.target||e.srcElement;if(t.className||(t=t.parentNode),fi.closest(t,".scheduler_popup_button")){var n=t.getAttribute("data-result");a(r,n="true"==n||"false"!=n&&n,e)}}),r.box=l,(i||s)&&(n=r),l}(s,l,c);s.hidden||i(!0),document.body.appendChild(_);var h=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-_.offsetWidth)/2)),u=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-_.offsetHeight)/2));return"top"==s.position?_.style.top="-3px":_.style.top=u+"px",_.style.left=h+"px",e.event(_,"keydown",r),p.focus(_),s.hidden&&p.hide(_),e.callEvent("onMessagePopup",[_]),_}function l(e){return s(e,!0,!1)}function c(e){return s(e,!0,!0)}function _(e){return s(e)}function h(e,t,n){return"object"!=typeof e&&("function"==typeof t&&(n=t,t=""),e={text:e,type:t,callback:n}),e}function u(e,t,n,a,r){return"object"!=typeof e&&(e={text:e,type:t,expire:n,id:a,callback:r}),e.id=e.id||ni.uid(),e.expire=e.expire||f.expire,e}e.event(document,"keydown",r,!0);var p=function(){var e=h.apply(this,arguments);return e.type=e.type||"alert",_(e)};p.hide=function(n){for(;n&&n.getAttribute&&!n.getAttribute(t);)n=n.parentNode;n&&(n.parentNode.removeChild(n),i(!1),e.callEvent("onAfterMessagePopup",[n]))},p.focus=function(e){setTimeout(function(){var t=fi.getFocusableNodes(e);t.length&&t[0].focus&&t[0].focus()},1)};var f=function(t,n,a,r){switch((t=u.apply(this,arguments)).type=t.type||"info",t.type.split("-")[0]){case"alert":return l(t);case"confirm":return c(t);case"modalbox":return _(t);default:return function(t){f.area||(f.area=document.createElement("div"),f.area.className="scheduler_message_area dhtmlx_message_area",f.area.style[f.position]="5px",document.body.appendChild(f.area)),f.hide(t.id);var n=document.createElement("div");return n.innerHTML="<div>"+t.text+"</div>",n.className="scheduler-info dhtmlx-info scheduler-"+t.type+" dhtmlx-"+t.type,e.event(n,"click",function(e){t.callback&&t.callback.call(this,e),f.hide(t.id),t=null}),e._waiAria.messageInfoAttr(n),"bottom"==f.position&&f.area.firstChild?f.area.insertBefore(n,f.area.firstChild):f.area.appendChild(n),t.expire>0&&(f.timers[t.id]=window.setTimeout(function(){f&&f.hide(t.id)},t.expire)),f.pull[t.id]=n,n=null,t.id}(t)}};f.seed=(new Date).valueOf(),f.uid=ni.uid,f.expire=4e3,f.keyboard=!0,f.position="top",f.pull={},f.timers={},f.hideAll=function(){for(var e in f.pull)f.hide(e)},f.hide=function(e){var t=f.pull[e];t&&t.parentNode&&(window.setTimeout(function(){t.parentNode.removeChild(t),t=null},2e3),t.className+=" hidden",f.timers[e]&&window.clearTimeout(f.timers[e]),delete f.pull[e])};var v=[];return e.attachEvent("onMessagePopup",function(e){v.push(e)}),e.attachEvent("onAfterMessagePopup",function(e){for(var t=0;t<v.length;t++)v[t]===e&&(v.splice(t,1),t--)}),e.attachEvent("onDestroy",function(){i.cover&&i.cover.parentNode&&i.cover.parentNode.removeChild(i.cover);for(var e=0;e<v.length;e++)v[e].parentNode&&v[e].parentNode.removeChild(v[e]);v=null,f.area&&f.area.parentNode&&f.area.parentNode.removeChild(f.area),f=null}),{alert:function(){var e=h.apply(this,arguments);return e.type=e.type||"confirm",l(e)},confirm:function(){var e=h.apply(this,arguments);return e.type=e.type||"alert",c(e)},message:f,modalbox:p}}ki.prototype={setTransactionMode:function(e,t){"object"==typeof e?(this._tMode=e.mode||this._tMode,void 0!==e.headers&&(this._headers=e.headers),void 0!==e.payload&&(this._payload=e.payload),this._tSend=!!t):(this._tMode=e,this._tSend=t),"REST"==this._tMode&&(this._tSend=!1,this._endnm=!0),"JSON"===this._tMode||"REST-JSON"===this._tMode?(this._tSend=!1,this._endnm=!0,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),"CUSTOM"===this._tMode&&(this._tSend=!1,this._endnm=!0,this._router=e.router)},escape:function(e){return this._utf?encodeURIComponent(e):escape(e)},enableUTFencoding:function(e){this._utf=!!e},setDataColumns:function(e){this._columns="string"==typeof e?e.split(","):e},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(e){this._endnm=!!e},enablePartialDataSend:function(e){this._changed=!!e},setUpdateMode:function(e,t){this.autoUpdate="cell"==e,this.updateMode=e,this.dnd=t},ignore:function(e,t){this._silent_mode=!0,e.call(t||window),this._silent_mode=!1},setUpdated:function(e,t,n){if(!this._silent_mode){var a=this.findRow(e);n=n||"updated";var r=this.$scheduler.getUserData(e,this.action_param);r&&"updated"==n&&(n=r),t?(this.set_invalid(e,!1),this.updatedRows[a]=e,this.$scheduler.setUserData(e,this.action_param,n),this._in_progress[e]&&(this._in_progress[e]="wait")):this.is_invalid(e)||(this.updatedRows.splice(a,1),this.$scheduler.setUserData(e,this.action_param,"")),this.markRow(e,t,n),t&&this.autoUpdate&&this.sendData(e)}},markRow:function(e,t,n){var a="",r=this.is_invalid(e);if(r&&(a=this.styles[r],t=!0),this.callEvent("onRowMark",[e,t,n,r])&&(a=this.styles[t?n:"clear"]+a,this.$scheduler[this._methods[0]](e,a),r&&r.details)){a+=this.styles[r+"_cell"];for(var i=0;i<r.details.length;i++)r.details[i]&&this.$scheduler[this._methods[1]](e,i,a)}},getActionByState:function(e){return"inserted"===e?"create":"updated"===e?"update":"deleted"===e?"delete":"update"},getState:function(e){return this.$scheduler.getUserData(e,this.action_param)},is_invalid:function(e){return this._invalid[e]},set_invalid:function(e,t,n){n&&(t={value:t,details:n,toString:function(){return this.value.toString()}}),this._invalid[e]=t},checkBeforeUpdate:function(e){return!0},sendData:function(e){return this.$scheduler.editStop&&this.$scheduler.editStop(),void 0===e||this._tSend?this.sendAllData():!this._in_progress[e]&&(this.messages=[],!(!this.checkBeforeUpdate(e)&&this.callEvent("onValidationError",[e,this.messages]))&&void this._beforeSendData(this._getRowData(e),e))},_beforeSendData:function(e,t){if(!this.callEvent("onBeforeUpdate",[t,this.getState(t),e]))return!1;this._sendData(e,t)},serialize:function(e,t){if(this._serializeAsJson)return this._serializeAsJSON(e);if("string"==typeof e)return e;if(void 0!==t)return this.serialize_one(e,"");var n=[],a=[];for(var r in e)e.hasOwnProperty(r)&&(n.push(this.serialize_one(e[r],r+this.post_delim)),a.push(r));return n.push("ids="+this.escape(a.join(","))),this.$scheduler.security_key&&n.push("dhx_security="+this.$scheduler.security_key),n.join("&")},serialize_one:function(e,t){if("string"==typeof e)return e;var n=[],a="";for(var r in e)if(e.hasOwnProperty(r)){if(("id"==r||r==this.action_param)&&"REST"==this._tMode)continue;a="string"==typeof e[r]||"number"==typeof e[r]?e[r]:JSON.stringify(e[r]),n.push(this.escape((t||"")+r)+"="+this.escape(a))}return n.join("&")},_applyPayload:function(e){var t=this.$scheduler.ajax;if(this._payload)for(var n in this._payload)e=e+t.urlSeparator(e)+this.escape(n)+"="+this.escape(this._payload[n]);return e},_sendData:function(e,t){if(e){if(!this.callEvent("onBeforeDataSending",t?[t,this.getState(t),e]:[null,null,e]))return!1;t&&(this._in_progress[t]=(new Date).valueOf());var n=this,a=this.$scheduler.ajax;if("CUSTOM"!==this._tMode){var r,i={callback:function(a){var r=[];if(t)r.push(t);else if(e)for(var i in e)r.push(i);return n.afterUpdate(n,a,r)},headers:n._headers},o=this.serverProcessor+(this._user?a.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$scheduler.getUserData(0,"version")].join("&"):""),d=this._applyPayload(o);switch(this._tMode){case"GET":r=this._cleanupArgumentsBeforeSend(e),i.url=d+a.urlSeparator(d)+this.serialize(r,t),i.method="GET";break;case"POST":r=this._cleanupArgumentsBeforeSend(e),i.url=d,i.method="POST",i.data=this.serialize(r,t);break;case"JSON":r={};var s=this._cleanupItemBeforeSend(e);for(var l in s)l!==this.action_param&&"id"!==l&&"gr_id"!==l&&(r[l]=s[l]);i.url=d,i.method="POST",i.data=JSON.stringify({id:t,action:e[this.action_param],data:r});break;case"REST":case"REST-JSON":switch(d=o.replace(/(&|\?)editing=true/,""),r="",this.getState(t)){case"inserted":i.method="POST",i.data=this.serialize(e,t);break;case"deleted":i.method="DELETE",d=d+("/"===d.slice(-1)?"":"/")+t;break;default:i.method="PUT",i.data=this.serialize(e,t),d=d+("/"===d.slice(-1)?"":"/")+t}i.url=this._applyPayload(d)}return this._waitMode++,a.query(i)}{var c=this.getState(t),_=this.getActionByState(c);delete e[this.action_param];var h=function(e){var a=c;if(e&&e.responseText&&e.setRequestHeader){200!==e.status&&(a="error");try{e=JSON.parse(e.responseText)}catch{}}a=a||"updated";var r=t,i=t;e&&(a=e.action||a,r=e.sid||r,i=e.id||e.tid||i),n.afterUpdateCallback(r,i,a,e)};const a="event";var u;if(this._router instanceof Function)u=this._router(a,_,e,t);else switch(c){case"inserted":u=this._router[a].create(e);break;case"deleted":u=this._router[a].delete(t);break;default:u=this._router[a].update(e,t)}if(u){if(!u.then&&void 0===u.id&&void 0===u.tid&&void 0===u.action)throw new Error("Incorrect router return value. A Promise or a response object is expected");u.then?u.then(h).catch(function(e){e&&e.action?h(e):h({action:"error",value:e})}):h(u)}else h(null)}}},sendAllData:function(){if(this.updatedRows.length&&"off"!==this.updateMode){this.messages=[];var e=!0;if(this._forEachUpdatedRow(function(t){e=e&&this.checkBeforeUpdate(t)}),!e&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(e){if(!this._in_progress[e]){if(this.is_invalid(e))return;this._beforeSendData(this._getRowData(e),e)}})}},_getAllData:function(e){var t={},n=!1;return this._forEachUpdatedRow(function(e){if(!this._in_progress[e]&&!this.is_invalid(e)){var a=this._getRowData(e);this.callEvent("onBeforeUpdate",[e,this.getState(e),a])&&(t[e]=a,n=!0,this._in_progress[e]=(new Date).valueOf())}}),n?t:null},findRow:function(e){var t=0;for(t=0;t<this.updatedRows.length&&e!=this.updatedRows[t];t++);return t},defineAction:function(e,t){this._uActions||(this._uActions={}),this._uActions[e]=t},afterUpdateCallback:function(e,t,n,a){if(this.$scheduler){var r=e,i="error"!==n&&"invalid"!==n;if(i||this.set_invalid(e,n),this._uActions&&this._uActions[n]&&!this._uActions[n](a))return delete this._in_progress[r];"wait"!==this._in_progress[r]&&this.setUpdated(e,!1);var o=e;switch(n){case"inserted":case"insert":t!=e&&(this.setUpdated(e,!1),this.$scheduler[this._methods[2]](e,t),e=t);break;case"delete":case"deleted":return this.$scheduler.setUserData(e,this.action_param,"true_deleted"),this.$scheduler[this._methods[3]](e,t),delete this._in_progress[r],this.callEvent("onAfterUpdate",[e,n,t,a])}"wait"!==this._in_progress[r]?(i&&this.$scheduler.setUserData(e,this.action_param,""),delete this._in_progress[r]):(delete this._in_progress[r],this.setUpdated(t,!0,this.$scheduler.getUserData(e,this.action_param))),this.callEvent("onAfterUpdate",[o,n,t,a])}},_errorResponse:function(e,t){return this.$scheduler&&this.$scheduler.callEvent&&this.$scheduler.callEvent("onSaveError",[t,e.xmlDoc]),this.cleanUpdate(t)},_setDefaultTransactionMode:function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!==this.serverProcessor.indexOf("?")?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},afterUpdate:function(e,t,n){var a=this.$scheduler.ajax;if(200===t.xmlDoc.status){var r;try{r=JSON.parse(t.xmlDoc.responseText)}catch{t.xmlDoc.responseText.length||(r={})}if(r){var i=r.action||this.getState(n)||"updated",o=r.sid||n[0],d=r.tid||n[0];return e.afterUpdateCallback(o,d,i,r),void e.finalizeUpdate()}var s=a.xmltop("data",t.xmlDoc);if(!s)return this._errorResponse(t,n);var l=a.xpath("//data/action",s);if(!l.length)return this._errorResponse(t,n);for(var c=0;c<l.length;c++){var _=l[c];i=_.getAttribute("type"),o=_.getAttribute("sid"),d=_.getAttribute("tid"),e.afterUpdateCallback(o,d,i,_)}e.finalizeUpdate()}else this._errorResponse(t,n)},cleanUpdate:function(e){if(e)for(var t=0;t<e.length;t++)delete this._in_progress[e[t]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(e){if(!this._initialized){this.$scheduler=e,this.$scheduler._dp_init&&this.$scheduler._dp_init(this),this._setDefaultTransactionMode(),this._methods=this._methods||["_set_event_text_style","","_dp_change_event_id","_dp_hook_delete"],n=this.$scheduler,a=this,n._validId=function(e){return!this._is_virtual_event||!this._is_virtual_event(e)},n.setUserData=function(e,t,n){if(e){var a=this.getEvent(e);a&&(a[t]=n)}else this._userdata[t]=n},n.getUserData=function(e,t){if(e){var n=this.getEvent(e);return n?n[t]:null}return this._userdata[t]},n._set_event_text_style=function(e,t){if(n.getEvent(e)){this.for_rendered(e,function(e){e.style.cssText+=";"+t});var a=this.getEvent(e);a._text_style=t,this.event_updated(a)}},n._update_callback=function(e,t){var a=n._xmlNodeToJSON(e.firstChild);"none"==a.rec_type&&(a.rec_pattern="none"),a.text=a.text||a._tagvalue,a.start_date=n._helpers.parseDate(a.start_date),a.end_date=n._helpers.parseDate(a.end_date),n.addEvent(a),n._add_rec_marker&&n.setCurrentView()},n._dp_change_event_id=function(e,t){n.getEvent(e)&&n.changeEventId(e,t)},n._dp_hook_delete=function(e,t){if(n.getEvent(e))return t&&e!=t&&("true_deleted"==this.getUserData(e,a.action_param)&&this.setUserData(e,a.action_param,"updated"),this.changeEventId(e,t)),this.deleteEvent(t,!0)},n.setDp=function(){this._dp=a},n.setDp();var t=new wi(this.$scheduler,this);t.attach(),this.attachEvent("onDestroy",function(){delete this._getRowData,delete this.$scheduler._dp,delete this.$scheduler._dataprocessor,delete this.$scheduler._set_event_text_style,delete this.$scheduler._dp_change_event_id,delete this.$scheduler._dp_hook_delete,delete this.$scheduler,t.detach()}),this.$scheduler.callEvent("onDataProcessorReady",[this]),this._initialized=!0,e._dataprocessor=this}var n,a},setOnAfterUpdate:function(e){this.attachEvent("onAfterUpdate",e)},setOnBeforeUpdateHandler:function(e){this.attachEvent("onBeforeDataSending",e)},setAutoUpdate:function(e,t){e=e||2e3,this._user=t||(new Date).valueOf(),this._need_update=!1,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(e,t,n,a){this.afterAutoUpdate(e,t,n,a)}),this.attachEvent("onFullSync",function(){this.fullSync()});var n=this;let a=Wr.setInterval(function(){n.loadUpdate()},e);this.attachEvent("onDestroy",function(){clearInterval(a)})},afterAutoUpdate:function(e,t,n,a){return"collision"!=t||(this._need_update=!0,!1)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(e,t){var n=this.$scheduler.ajax;if(this._update_busy)return!1;this._update_busy=!0,n.get(e,t)},_getXmlNodeValue:function(e){return e.firstChild?e.firstChild.nodeValue:""},loadUpdate:function(){var e=this,t=this.$scheduler.ajax,n=this.$scheduler.getUserData(0,"version"),a=this.serverProcessor+t.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+n].join("&");a=a.replace("editing=true&",""),this.getUpdates(a,function(n){var a=t.xpath("//userdata",n);e.$scheduler.setUserData(0,"version",e._getXmlNodeValue(a[0]));var r=t.xpath("//update",n);if(r.length){e._silent_mode=!0;for(var i=0;i<r.length;i++){var o=r[i].getAttribute("status"),d=r[i].getAttribute("id"),s=r[i].getAttribute("parent");switch(o){case"inserted":this.callEvent("insertCallback",[r[i],d,s]);break;case"updated":this.callEvent("updateCallback",[r[i],d,s]);break;case"deleted":this.callEvent("deleteCallback",[r[i],d,s])}}e._silent_mode=!1}e._update_busy=!1,e=null})},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._headers=null,this._payload=null,delete this._initialized},url:function(e){this.serverProcessor=this._serverProcessor=e},_serializeAsJSON:function(e){if("string"==typeof e)return e;var t=this.$scheduler.utils.copy(e);return"REST-JSON"===this._tMode&&(delete t.id,delete t[this.action_param]),JSON.stringify(t)},_cleanupArgumentsBeforeSend:function(e){var t;if(void 0===e[this.action_param])for(var n in t={},e)t[n]=this._cleanupArgumentsBeforeSend(e[n]);else t=this._cleanupItemBeforeSend(e);return t},_cleanupItemBeforeSend:function(e){var t=null;return e&&("deleted"===e[this.action_param]?((t={}).id=e.id,t[this.action_param]=e[this.action_param]):t=e),t},_forEachUpdatedRow:function(e){for(var t=this.updatedRows.slice(),n=0;n<t.length;n++){var a=t[n];this.$scheduler.getUserData(a,this.action_param)&&e.call(this,a)}},_prepareItemForJson(e){const t={},n=this.$scheduler,a=n.utils.copy(e);for(let e in a){let r=a[e];0!==e.indexOf("_")&&(r?r.getUTCFullYear?t[e]=n._helpers.formatDate(r):t[e]="object"==typeof r?this._prepareItemForJson(r):r:void 0!==r&&(t[e]=r))}return t[this.action_param]=n.getUserData(e.id,this.action_param),t},_prepareItemForForm(e){const t={},n=this.$scheduler,a=n.utils.copy(e);for(var r in a){let e=a[r];0!==r.indexOf("_")&&(e?e.getUTCFullYear?t[r]=n._helpers.formatDate(e):t[r]="object"==typeof e?this._prepareItemForForm(e):e:t[r]="")}return t[this.action_param]=n.getUserData(e.id,this.action_param),t},_prepareDataItem:function(e){return this._serializeAsJson?this._prepareItemForJson(e):this._prepareItemForForm(e)},_getRowData:function(e){var t=this.$scheduler.getEvent(e);return t||(t={id:e}),this._prepareDataItem(t)}};class Di{constructor(e){this._locales={};for(const t in e)this._locales[t]=e[t]}addLocale(e,t){this._locales[e]=t}getLocale(e){return this._locales[e]}}const Si=Object.freeze(Object.defineProperty({__proto__:null,ar:{date:{month_full:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],month_short:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],day_full:["الأحد","الأثنين","ألثلاثاء","الأربعاء","ألحميس","ألجمعة","السبت"],day_short:["احد","اثنين","ثلاثاء","اربعاء","خميس","جمعة","سبت"]},labels:{dhx_cal_today_button:"اليوم",day_tab:"يوم",week_tab:"أسبوع",month_tab:"شهر",new_event:"حدث جديد",icon_save:"اخزن",icon_cancel:"الغاء",icon_details:"تفاصيل",icon_edit:"تحرير",icon_delete:"حذف",confirm_closing:"التغييرات سوف تضيع, هل انت متأكد؟",confirm_deleting:"الحدث سيتم حذفها نهائيا ، هل أنت متأكد؟",section_description:"الوصف",section_time:"الفترة الزمنية",full_day:"طوال اليوم",confirm_recurring:"هل تريد تحرير مجموعة كاملة من الأحداث المتكررة؟",section_recurring:"تكرار الحدث",button_recurring:"تعطيل",button_recurring_open:"تمكين",button_edit_series:"تحرير سلسلة",button_edit_occurrence:"تعديل نسخة",button_edit_occurrence_and_following:"This and following events",grid_tab:"جدول",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"يومي",repeat_radio_week:"أسبوعي",repeat_radio_month:"شهري",repeat_radio_year:"سنوي",repeat_radio_day_type:"كل",repeat_text_day_count:"يوم",repeat_radio_day_type2:"كل يوم عمل",repeat_week:" تكرار كل",repeat_text_week_count:"أسبوع في الأيام التالية:",repeat_radio_month_type:"تكرار",repeat_radio_month_start:"في",repeat_text_month_day:"يوم كل",repeat_text_month_count:"شهر",repeat_text_month_count2_before:"كل",repeat_text_month_count2_after:"شهر",repeat_year_label:"في",select_year_day2:"من",repeat_text_year_day:"يوم",select_year_month:"شهر",repeat_radio_end:"بدون تاريخ انتهاء",repeat_text_occurrences_count:"تكرارات",repeat_radio_end2:"بعد",repeat_radio_end3:"ينتهي في",repeat_never:"أبداً",repeat_daily:"كل يوم",repeat_workdays:"كل يوم عمل",repeat_weekly:"كل أسبوع",repeat_monthly:"كل شهر",repeat_yearly:"كل سنة",repeat_custom:"تخصيص",repeat_freq_day:"يوم",repeat_freq_week:"أسبوع",repeat_freq_month:"شهر",repeat_freq_year:"سنة",repeat_on_date:"في التاريخ",repeat_ends:"ينتهي",month_for_recurring:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],day_for_recurring:["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]}},be:{date:{month_full:["Студзень","Люты","Сакавік","Красавік","Maй","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Снежань"],month_short:["Студз","Лют","Сак","Крас","Maй","Чэр","Ліп","Жнів","Вер","Каст","Ліст","Снеж"],day_full:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятніца","Субота"],day_short:["Нд","Пн","Аўт","Ср","Чцв","Пт","Сб"]},labels:{dhx_cal_today_button:"Сёння",day_tab:"Дзень",week_tab:"Тыдзень",month_tab:"Месяц",new_event:"Новая падзея",icon_save:"Захаваць",icon_cancel:"Адмяніць",icon_details:"Дэталі",icon_edit:"Змяніць",icon_delete:"Выдаліць",confirm_closing:"",confirm_deleting:"Падзея будзе выдалена незваротна, працягнуць?",section_description:"Апісанне",section_time:"Перыяд часу",full_day:"Увесь дзень",confirm_recurring:"Вы хочаце змяніць усю серыю паўтаральных падзей?",section_recurring:"Паўтарэнне",button_recurring:"Адключана",button_recurring_open:"Уключана",button_edit_series:"Рэдагаваць серыю",button_edit_occurrence:"Рэдагаваць асобнік",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Спіс",date:"Дата",description:"Апісанне",year_tab:"Год",week_agenda_tab:"Спіс",grid_tab:"Спic",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Дзень",repeat_radio_week:"Тыдзень",repeat_radio_month:"Месяц",repeat_radio_year:"Год",repeat_radio_day_type:"Кожны",repeat_text_day_count:"дзень",repeat_radio_day_type2:"Кожны працоўны дзень",repeat_week:" Паўтараць кожны",repeat_text_week_count:"тыдзень",repeat_radio_month_type:"Паўтараць",repeat_radio_month_start:"",repeat_text_month_day:" чысла кожнага",repeat_text_month_count:"месяцу",repeat_text_month_count2_before:"кожны ",repeat_text_month_count2_after:"месяц",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"дзень",select_year_month:"",repeat_radio_end:"Без даты заканчэння",repeat_text_occurrences_count:"паўтораў",repeat_radio_end2:"",repeat_radio_end3:"Да ",repeat_never:"Ніколі",repeat_daily:"Кожны дзень",repeat_workdays:"Кожны працоўны дзень",repeat_weekly:"Кожны тыдзень",repeat_monthly:"Кожны месяц",repeat_yearly:"Кожны год",repeat_custom:"Наладжвальны",repeat_freq_day:"Дзень",repeat_freq_week:"Тыдзень",repeat_freq_month:"Месяц",repeat_freq_year:"Год",repeat_on_date:"На дату",repeat_ends:"Заканчваецца",month_for_recurring:["Студзеня","Лютага","Сакавіка","Красавіка","Мая","Чэрвеня","Ліпeня","Жніўня","Верасня","Кастрычніка","Лістапада","Снежня"],day_for_recurring:["Нядзелю","Панядзелак","Аўторак","Сераду","Чацвер","Пятніцу","Суботу"]}},ca:{date:{month_full:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{dhx_cal_today_button:"Hui",day_tab:"Dia",week_tab:"Setmana",month_tab:"Mes",new_event:"Nou esdeveniment",icon_save:"Guardar",icon_cancel:"Cancel·lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrarà definitivament, continuar ?",section_description:"Descripció",section_time:"Periode de temps",full_day:"Tot el dia",confirm_recurring:"¿Desitja modificar el conjunt d'esdeveniments repetits?",section_recurring:"Repeteixca l'esdeveniment",button_recurring:"Impedit",button_recurring_open:"Permés",button_edit_series:"Edit sèrie",button_edit_occurrence:"Edita Instància",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Data",description:"Descripció",year_tab:"Any",week_agenda_tab:"Agenda",grid_tab:"Taula",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diari",repeat_radio_week:"Setmanal",repeat_radio_month:"Mensual",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada dia laborable",repeat_week:" Repetir cada",repeat_text_week_count:"setmana els dies següents:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"de",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sense data de finalització",repeat_text_occurrences_count:"ocurrències",repeat_radio_end2:"Després",repeat_radio_end3:"Finalitzar el",repeat_never:"Mai",repeat_daily:"Cada dia",repeat_workdays:"Cada dia laborable",repeat_weekly:"Cada setmana",repeat_monthly:"Cada mes",repeat_yearly:"Cada any",repeat_custom:"Personalitzat",repeat_freq_day:"Dia",repeat_freq_week:"Setmana",repeat_freq_month:"Mes",repeat_freq_year:"Any",repeat_on_date:"En la data",repeat_ends:"Finalitza",month_for_recurring:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],day_for_recurring:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]}},cn:{date:{month_full:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],day_short:["日","一","二","三","四","五","六"]},labels:{dhx_cal_today_button:"今天",day_tab:"日",week_tab:"周",month_tab:"月",new_event:"新建日程",icon_save:"保存",icon_cancel:"关闭",icon_details:"详细",icon_edit:"编辑",icon_delete:"删除",confirm_closing:"请确认是否撤销修改!",confirm_deleting:"是否删除日程?",section_description:"描述",section_time:"时间范围",full_day:"整天",confirm_recurring:"请确认是否将日程设为重复模式?",section_recurring:"重复周期",button_recurring:"禁用",button_recurring_open:"启用",button_edit_series:"编辑系列",button_edit_occurrence:"编辑实例",button_edit_occurrence_and_following:"This and following events",agenda_tab:"议程",date:"日期",description:"说明",year_tab:"今年",week_agenda_tab:"议程",grid_tab:"电网",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"按天",repeat_radio_week:"按周",repeat_radio_month:"按月",repeat_radio_year:"按年",repeat_radio_day_type:"每",repeat_text_day_count:"天",repeat_radio_day_type2:"每个工作日",repeat_week:" 重复 每",repeat_text_week_count:"星期的:",repeat_radio_month_type:"重复",repeat_radio_month_start:"在",repeat_text_month_day:"日 每",repeat_text_month_count:"月",repeat_text_month_count2_before:"每",repeat_text_month_count2_after:"月",repeat_year_label:"在",select_year_day2:"的",repeat_text_year_day:"日",select_year_month:"月",repeat_radio_end:"无结束日期",repeat_text_occurrences_count:"次结束",repeat_radio_end2:"重复",repeat_radio_end3:"结束于",repeat_never:"从不",repeat_daily:"每天",repeat_workdays:"每个工作日",repeat_weekly:"每周",repeat_monthly:"每月",repeat_yearly:"每年",repeat_custom:"自定义",repeat_freq_day:"天",repeat_freq_week:"周",repeat_freq_month:"月",repeat_freq_year:"年",repeat_on_date:"在日期",repeat_ends:"结束",month_for_recurring:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],day_for_recurring:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]}},cs:{date:{month_full:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],month_short:["Led","Ún","Bře","Dub","Kvě","Čer","Čec","Srp","Září","Říj","List","Pro"],day_full:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],day_short:["Ne","Po","Út","St","Čt","Pá","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"Den",week_tab:"Týden",month_tab:"Měsíc",new_event:"Nová událost",icon_save:"Uložit",icon_cancel:"Zpět",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Událost bude trvale smazána, opravdu?",section_description:"Poznámky",section_time:"Doba platnosti",confirm_recurring:"Přejete si upravit celou řadu opakovaných událostí?",section_recurring:"Opakování události",button_recurring:"Vypnuto",button_recurring_open:"Zapnuto",button_edit_series:"Edit series",button_edit_occurrence:"Upravit instance",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Program",date:"Datum",description:"Poznámka",year_tab:"Rok",full_day:"Full day",week_agenda_tab:"Program",grid_tab:"Mřížka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denně",repeat_radio_week:"Týdně",repeat_radio_month:"Měsíčně",repeat_radio_year:"Ročně",repeat_radio_day_type:"každý",repeat_text_day_count:"Den",repeat_radio_day_type2:"pracovní dny",repeat_week:"Opakuje každých",repeat_text_week_count:"Týdnů na:",repeat_radio_month_type:"u každého",repeat_radio_month_start:"na",repeat_text_month_day:"Den každého",repeat_text_month_count:"Měsíc",repeat_text_month_count2_before:"každý",repeat_text_month_count2_after:"Měsíc",repeat_year_label:"na",select_year_day2:"v",repeat_text_year_day:"Den v",select_year_month:"",repeat_radio_end:"bez data ukončení",repeat_text_occurrences_count:"Události",repeat_radio_end2:"po",repeat_radio_end3:"Konec",repeat_never:"Nikdy",repeat_daily:"Každý den",repeat_workdays:"Každý pracovní den",repeat_weekly:"Každý týden",repeat_monthly:"Každý měsíc",repeat_yearly:"Každý rok",repeat_custom:"Vlastní",repeat_freq_day:"Den",repeat_freq_week:"Týden",repeat_freq_month:"Měsíc",repeat_freq_year:"Rok",repeat_on_date:"Na datum",repeat_ends:"Končí",month_for_recurring:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],day_for_recurring:["Neděle ","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"]}},da:{date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uge",month_tab:"Måned",new_event:"Ny begivenhed",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil gå tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du tilrette hele serien af gentagne begivenheder?",section_recurring:"Gentag begivenhed",button_recurring:"Frakoblet",button_recurring_open:"Tilkoblet",button_edit_series:"Rediger serien",button_edit_occurrence:"Rediger en kopi",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Dagsorden",date:"Dato",description:"Beskrivelse",year_tab:"År",week_agenda_tab:"Dagsorden",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ugenlig",repeat_radio_month:"Månedlig",repeat_radio_year:"Årlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"På hver arbejdsdag",repeat_week:" Gentager sig hver",repeat_text_week_count:"uge på følgende dage:",repeat_radio_month_type:"Hver den",repeat_radio_month_start:"Den",repeat_text_month_day:" i hver",repeat_text_month_count:"måned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"måned",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen slutdato",repeat_text_occurrences_count:"gentagelse",repeat_radio_end2:"Efter",repeat_radio_end3:"Slut",repeat_never:"Aldrig",repeat_daily:"Hver dag",repeat_workdays:"Hver hverdag",repeat_weekly:"Hver uge",repeat_monthly:"Hver måned",repeat_yearly:"Hvert år",repeat_custom:"Brugerdefineret",repeat_freq_day:"Dag",repeat_freq_week:"Uge",repeat_freq_month:"Måned",repeat_freq_year:"År",repeat_on_date:"På dato",repeat_ends:"Slutter",month_for_recurring:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]}},de:{date:{month_full:[" Januar"," Februar"," März "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{dhx_cal_today_button:"Heute",day_tab:"Tag",week_tab:"Woche",month_tab:"Monat",new_event:"neuer Eintrag",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"Ändern",icon_delete:"Löschen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gelöscht",section_description:"Beschreibung",section_time:"Zeitspanne",full_day:"Ganzer Tag",confirm_recurring:"Wollen Sie alle Einträge bearbeiten oder nur diesen einzelnen Eintrag?",section_recurring:"Wiederholung",button_recurring:"Aus",button_recurring_open:"An",button_edit_series:"Bearbeiten Sie die Serie",button_edit_occurrence:"Bearbeiten Sie eine Kopie",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Datum",description:"Beschreibung",year_tab:"Jahre",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Täglich",repeat_radio_week:"Wöchentlich",repeat_radio_month:"Monatlich",repeat_radio_year:"Jährlich",repeat_radio_day_type:"jeden",repeat_text_day_count:"Tag",repeat_radio_day_type2:"an jedem Arbeitstag",repeat_week:" Wiederholt sich jede",repeat_text_week_count:"Woche am:",repeat_radio_month_type:"an jedem",repeat_radio_month_start:"am",repeat_text_month_day:"Tag eines jeden",repeat_text_month_count:"Monats",repeat_text_month_count2_before:"jeden",repeat_text_month_count2_after:"Monats",repeat_year_label:"am",select_year_day2:"im",repeat_text_year_day:"Tag im",select_year_month:"",repeat_radio_end:"kein Enddatum",repeat_text_occurrences_count:"Ereignissen",repeat_radio_end3:"Schluß",repeat_radio_end2:"nach",repeat_never:"Nie",repeat_daily:"Jeden Tag",repeat_workdays:"Jeden Werktag",repeat_weekly:"Jede Woche",repeat_monthly:"Jeden Monat",repeat_yearly:"Jedes Jahr",repeat_custom:"Benutzerdefiniert",repeat_freq_day:"Tag",repeat_freq_week:"Woche",repeat_freq_month:"Monat",repeat_freq_year:"Jahr",repeat_on_date:"Am Datum",repeat_ends:"Endet",month_for_recurring:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},el:{date:{month_full:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάϊος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],month_short:["ΙΑΝ","ΦΕΒ","ΜΑΡ","ΑΠΡ","ΜΑΙ","ΙΟΥΝ","ΙΟΥΛ","ΑΥΓ","ΣΕΠ","ΟΚΤ","ΝΟΕ","ΔΕΚ"],day_full:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],day_short:["ΚΥ","ΔΕ","ΤΡ","ΤΕ","ΠΕ","ΠΑ","ΣΑ"]},labels:{dhx_cal_today_button:"Σήμερα",day_tab:"Ημέρα",week_tab:"Εβδομάδα",month_tab:"Μήνας",new_event:"Νέο έργο",icon_save:"Αποθήκευση",icon_cancel:"Άκυρο",icon_details:"Λεπτομέρειες",icon_edit:"Επεξεργασία",icon_delete:"Διαγραφή",confirm_closing:"",confirm_deleting:"Το έργο θα διαγραφεί οριστικά. Θέλετε να συνεχίσετε;",section_description:"Περιγραφή",section_time:"Χρονική περίοδος",full_day:"Πλήρης Ημέρα",confirm_recurring:"Θέλετε να επεξεργασθείτε ολόκληρη την ομάδα των επαναλαμβανόμενων έργων;",section_recurring:"Επαναλαμβανόμενο έργο",button_recurring:"Ανενεργό",button_recurring_open:"Ενεργό",button_edit_series:"Επεξεργαστείτε τη σειρά",button_edit_occurrence:"Επεξεργασία ένα αντίγραφο",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Ημερήσια Διάταξη",date:"Ημερομηνία",description:"Περιγραφή",year_tab:"Έτος",week_agenda_tab:"Ημερήσια Διάταξη",grid_tab:"Πλέγμα",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Ημερησίως",repeat_radio_week:"Εβδομαδιαίως",repeat_radio_month:"Μηνιαίως",repeat_radio_year:"Ετησίως",repeat_radio_day_type:"Κάθε",repeat_text_day_count:"ημέρα",repeat_radio_day_type2:"Κάθε εργάσιμη",repeat_week:" Επανάληψη κάθε",repeat_text_week_count:"εβδομάδα τις επόμενες ημέρες:",repeat_radio_month_type:"Επανάληψη",repeat_radio_month_start:"Την",repeat_text_month_day:"ημέρα κάθε",repeat_text_month_count:"μήνα",repeat_text_month_count2_before:"κάθε",repeat_text_month_count2_after:"μήνα",repeat_year_label:"Την",select_year_day2:"του",repeat_text_year_day:"ημέρα",select_year_month:"μήνα",repeat_radio_end:"Χωρίς ημερομηνία λήξεως",repeat_text_occurrences_count:"επαναλήψεις",repeat_radio_end3:"Λήγει την",repeat_radio_end2:"Μετά από",repeat_never:"Ποτέ",repeat_daily:"Κάθε μέρα",repeat_workdays:"Κάθε εργάσιμη μέρα",repeat_weekly:"Κάθε εβδομάδα",repeat_monthly:"Κάθε μήνα",repeat_yearly:"Κάθε χρόνο",repeat_custom:"Προσαρμοσμένο",repeat_freq_day:"Ημέρα",repeat_freq_week:"Εβδομάδα",repeat_freq_month:"Μήνας",repeat_freq_year:"Χρόνος",repeat_on_date:"Σε ημερομηνία",repeat_ends:"Λήγει",month_for_recurring:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάϊος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],day_for_recurring:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]}},en:{date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Edit recurring event",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"All events",button_edit_occurrence:"This event",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daily",repeat_radio_week:"Weekly",repeat_radio_month:"Monthly",repeat_radio_year:"Yearly",repeat_radio_day_type:"Every",repeat_text_day_count:"day",repeat_radio_day_type2:"Every workday",repeat_week:" Repeat every",repeat_text_week_count:"week next days:",repeat_radio_month_type:"Repeat",repeat_radio_month_start:"On",repeat_text_month_day:"day every",repeat_text_month_count:"month",repeat_text_month_count2_before:"every",repeat_text_month_count2_after:"month",repeat_year_label:"On",select_year_day2:"of",repeat_text_year_day:"day",select_year_month:"month",repeat_radio_end:"No end date",repeat_text_occurrences_count:"occurrences",repeat_radio_end2:"After",repeat_radio_end3:"End by",repeat_never:"Never",repeat_daily:"Every day",repeat_workdays:"Every weekday",repeat_weekly:"Every week",repeat_monthly:"Every month",repeat_yearly:"Every year",repeat_custom:"Custom",repeat_freq_day:"Day",repeat_freq_week:"Week",repeat_freq_month:"Month",repeat_freq_year:"Year",repeat_on_date:"On date",repeat_ends:"Ends",month_for_recurring:["January","February","March","April","May","June","July","August","September","October","November","December"],day_for_recurring:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},es:{date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],day_short:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},labels:{dhx_cal_today_button:"Hoy",day_tab:"Día",week_tab:"Semana",month_tab:"Mes",new_event:"Nuevo evento",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrará definitivamente, ¿continuar?",section_description:"Descripción",section_time:"Período",full_day:"Todo el día",confirm_recurring:"¿Desea modificar el conjunto de eventos repetidos?",section_recurring:"Repita el evento",button_recurring:"Impedido",button_recurring_open:"Permitido",button_edit_series:"Editar la serie",button_edit_occurrence:"Editar este evento",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Día",date:"Fecha",description:"Descripción",year_tab:"Año",week_agenda_tab:"Día",grid_tab:"Reja",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diariamente",repeat_radio_week:"Semanalmente",repeat_radio_month:"Mensualmente",repeat_radio_year:"Anualmente",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada jornada de trabajo",repeat_week:" Repetir cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repita",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada ",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"del",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sin fecha de finalización",repeat_text_occurrences_count:"ocurrencias",repeat_radio_end3:"Fin",repeat_radio_end2:"Después de",repeat_never:"Nunca",repeat_daily:"Cada día",repeat_workdays:"Cada día laborable",repeat_weekly:"Cada semana",repeat_monthly:"Cada mes",repeat_yearly:"Cada año",repeat_custom:"Personalizado",repeat_freq_day:"Día",repeat_freq_week:"Semana",repeat_freq_month:"Mes",repeat_freq_year:"Año",repeat_on_date:"En la fecha",repeat_ends:"Termina",month_for_recurring:["Enero","Febrero","Маrzo","Аbril","Mayo","Junio","Julio","Аgosto","Setiembre","Octubre","Noviembre","Diciembre"],day_for_recurring:["Domingo","Lunes","Martes","Miércoles","Jeuves","Viernes","Sabado"]}},fi:{date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{dhx_cal_today_button:"Tänään",day_tab:"Päivä",week_tab:"Viikko",month_tab:"Kuukausi",new_event:"Uusi tapahtuma",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",full_day:"Koko päivä",confirm_recurring:"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?",section_recurring:"Toista tapahtuma",button_recurring:"Ei k&auml;yt&ouml;ss&auml;",button_recurring_open:"K&auml;yt&ouml;ss&auml;",button_edit_series:"Muokkaa sarja",button_edit_occurrence:"Muokkaa kopio",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Esityslista",date:"Päivämäärä",description:"Kuvaus",year_tab:"Vuoden",week_agenda_tab:"Esityslista",grid_tab:"Ritilä",drag_to_create:"Luo uusi vetämällä",drag_to_move:"Siirrä vetämällä",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"P&auml;ivitt&auml;in",repeat_radio_week:"Viikoittain",repeat_radio_month:"Kuukausittain",repeat_radio_year:"Vuosittain",repeat_radio_day_type:"Joka",repeat_text_day_count:"p&auml;iv&auml;",repeat_radio_day_type2:"Joka arkip&auml;iv&auml;",repeat_week:"Toista joka",repeat_text_week_count:"viikko n&auml;in&auml; p&auml;ivin&auml;:",repeat_radio_month_type:"Toista",repeat_radio_month_start:"",repeat_text_month_day:"p&auml;iv&auml;n&auml; joka",repeat_text_month_count:"kuukausi",repeat_text_month_count2_before:"joka",repeat_text_month_count2_after:"kuukausi",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"p&auml;iv&auml;",select_year_month:"kuukausi",repeat_radio_end:"Ei loppumisaikaa",repeat_text_occurrences_count:"Toiston j&auml;lkeen",repeat_radio_end3:"Loppuu",repeat_radio_end2:"",repeat_never:"Ei koskaan",repeat_daily:"Joka päivä",repeat_workdays:"Joka arkipäivä",repeat_weekly:"Joka viikko",repeat_monthly:"Joka kuukausi",repeat_yearly:"Joka vuosi",repeat_custom:"Mukautettu",repeat_freq_day:"Päivä",repeat_freq_week:"Viikko",repeat_freq_month:"Kuukausi",repeat_freq_year:"Vuosi",repeat_on_date:"Tiettynä päivänä",repeat_ends:"Päättyy",month_for_recurring:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],day_for_recurring:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]}},fr:{date:{month_full:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],month_short:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Aoû","Sep","Oct","Nov","Déc"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{dhx_cal_today_button:"Aujourd'hui",day_tab:"Jour",week_tab:"Semaine",month_tab:"Mois",new_event:"Nouvel événement",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"Détails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'événement sera effacé sans appel, êtes-vous sûr ?",section_description:"Description",section_time:"Période",full_day:"Journée complète",confirm_recurring:"Voulez-vous éditer toute une série d'évènements répétés?",section_recurring:"Périodicité",button_recurring:"Désactivé",button_recurring_open:"Activé",button_edit_series:"Modifier la série",button_edit_occurrence:"Modifier une copie",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Jour",date:"Date",description:"Description",year_tab:"Année",week_agenda_tab:"Jour",grid_tab:"Grille",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidienne",repeat_radio_week:"Hebdomadaire",repeat_radio_month:"Mensuelle",repeat_radio_year:"Annuelle",repeat_radio_day_type:"Chaque",repeat_text_day_count:"jour",repeat_radio_day_type2:"Chaque journée de travail",repeat_week:" Répéter toutes les",repeat_text_week_count:"semaine:",repeat_radio_month_type:"Répéter",repeat_radio_month_start:"Le",repeat_text_month_day:"jour chaque",repeat_text_month_count:"mois",repeat_text_month_count2_before:"chaque",repeat_text_month_count2_after:"mois",repeat_year_label:"Le",select_year_day2:"du",repeat_text_year_day:"jour",select_year_month:"mois",repeat_radio_end:"Pas de date d&quot;achèvement",repeat_text_occurrences_count:"occurrences",repeat_radio_end3:"Fin",repeat_radio_end2:"Après",repeat_never:"Jamais",repeat_daily:"Chaque jour",repeat_workdays:"Chaque jour ouvrable",repeat_weekly:"Chaque semaine",repeat_monthly:"Chaque mois",repeat_yearly:"Chaque année",repeat_custom:"Personnalisé",repeat_freq_day:"Jour",repeat_freq_week:"Semaine",repeat_freq_month:"Mois",repeat_freq_year:"Année",repeat_on_date:"À la date",repeat_ends:"Se termine",month_for_recurring:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],day_for_recurring:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},he:{date:{month_full:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],month_short:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],day_full:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],day_short:["א","ב","ג","ד","ה","ו","ש"]},labels:{dhx_cal_today_button:"היום",day_tab:"יום",week_tab:"שבוע",month_tab:"חודש",new_event:"ארוע חדש",icon_save:"שמור",icon_cancel:"בטל",icon_details:"פרטים",icon_edit:"ערוך",icon_delete:"מחק",confirm_closing:"",confirm_deleting:"ארוע ימחק סופית.להמשיך?",section_description:"תיאור",section_time:"תקופה",confirm_recurring:"האם ברצונך לשנות כל סדרת ארועים מתמשכים?",section_recurring:"להעתיק ארוע",button_recurring:"לא פעיל",button_recurring_open:"פעיל",full_day:"יום שלם",button_edit_series:"ערוך את הסדרה",button_edit_occurrence:"עריכת עותק",button_edit_occurrence_and_following:"This and following events",agenda_tab:"סדר יום",date:"תאריך",description:"תיאור",year_tab:"לשנה",week_agenda_tab:"סדר יום",grid_tab:"סורג",drag_to_create:"Drag to create",drag_to_move:"גרור כדי להזיז",message_ok:"OK",message_cancel:"בטל",next:"הבא",prev:"הקודם",year:"שנה",month:"חודש",day:"יום",hour:"שעה",minute:"דקה",repeat_radio_day:"יומי",repeat_radio_week:"שבועי",repeat_radio_month:"חודשי",repeat_radio_year:"שנתי",repeat_radio_day_type:"חזור כל",repeat_text_day_count:"ימים",repeat_radio_day_type2:"חזור כל יום עבודה",repeat_week:" חזור כל",repeat_text_week_count:"שבוע לפי ימים:",repeat_radio_month_type:"חזור כל",repeat_radio_month_start:"כל",repeat_text_month_day:"ימים כל",repeat_text_month_count:"חודשים",repeat_text_month_count2_before:"חזור כל",repeat_text_month_count2_after:"חודש",repeat_year_label:"כל",select_year_day2:"בחודש",repeat_text_year_day:"ימים",select_year_month:"חודש",repeat_radio_end:"לעולם לא מסתיים",repeat_text_occurrences_count:"אירועים",repeat_radio_end3:"מסתיים ב",repeat_radio_end2:"אחרי",repeat_never:"אף פעם",repeat_daily:"כל יום",repeat_workdays:"כל יום עבודה",repeat_weekly:"כל שבוע",repeat_monthly:"כל חודש",repeat_yearly:"כל שנה",repeat_custom:"מותאם אישית",repeat_freq_day:"יום",repeat_freq_week:"שבוע",repeat_freq_month:"חודש",repeat_freq_year:"שנה",repeat_on_date:"בתאריך",repeat_ends:"מסתיים",month_for_recurring:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],day_for_recurring:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"]}},hu:{date:{month_full:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],month_short:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vasárnap","Hétfõ","Kedd","Szerda","Csütörtök","Péntek","szombat"],day_short:["Va","Hé","Ke","Sze","Csü","Pé","Szo"]},labels:{dhx_cal_today_button:"Ma",day_tab:"Nap",week_tab:"Hét",month_tab:"Hónap",new_event:"Új esemény",icon_save:"Mentés",icon_cancel:"Mégse",icon_details:"Részletek",icon_edit:"Szerkesztés",icon_delete:"Törlés",confirm_closing:"",confirm_deleting:"Az esemény törölve lesz, biztosan folytatja?",section_description:"Leírás",section_time:"Idõszak",full_day:"Egesz napos",confirm_recurring:"Biztosan szerkeszteni akarod az összes ismétlõdõ esemény beállítását?",section_recurring:"Esemény ismétlése",button_recurring:"Tiltás",button_recurring_open:"Engedélyezés",button_edit_series:"Edit series",button_edit_occurrence:"Szerkesztés bíróság",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Napirend",date:"Dátum",description:"Leírás",year_tab:"Év",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Napi",repeat_radio_week:"Heti",repeat_radio_month:"Havi",repeat_radio_year:"Éves",repeat_radio_day_type:"Minden",repeat_text_day_count:"nap",repeat_radio_day_type2:"Minden munkanap",repeat_week:" Ismételje meg minden",repeat_text_week_count:"héten a következő napokon:",repeat_radio_month_type:"Ismétlés",repeat_radio_month_start:"Ekkor",repeat_text_month_day:"nap minden",repeat_text_month_count:"hónapban",repeat_text_month_count2_before:"minden",repeat_text_month_count2_after:"hónapban",repeat_year_label:"Ekkor",select_year_day2:"-án/-én",repeat_text_year_day:"nap",select_year_month:"hónap",repeat_radio_end:"Nincs befejezési dátum",repeat_text_occurrences_count:"esemény",repeat_radio_end2:"Után",repeat_radio_end3:"Befejező dátum",repeat_never:"Soha",repeat_daily:"Minden nap",repeat_workdays:"Minden munkanap",repeat_weekly:"Minden héten",repeat_monthly:"Minden hónapban",repeat_yearly:"Minden évben",repeat_custom:"Egyedi",repeat_freq_day:"Nap",repeat_freq_week:"Hét",repeat_freq_month:"Hónap",repeat_freq_year:"Év",repeat_on_date:"Dátum szerint",repeat_ends:"Befejeződik",month_for_recurring:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],day_for_recurring:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"]}},id:{date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{dhx_cal_today_button:"Hari Ini",day_tab:"Hari",week_tab:"Minggu",month_tab:"Bulan",new_event:"Acara Baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",full_day:"Hari penuh",confirm_recurring:"Apakah acara ini akan berulang?",section_recurring:"Acara Rutin",button_recurring:"Tidak Difungsikan",button_recurring_open:"Difungsikan",button_edit_series:"Mengedit seri",button_edit_occurrence:"Mengedit salinan",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Tanggal",description:"Keterangan",year_tab:"Tahun",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Harian",repeat_radio_week:"Mingguan",repeat_radio_month:"Bulanan",repeat_radio_year:"Tahunan",repeat_radio_day_type:"Setiap",repeat_text_day_count:"hari",repeat_radio_day_type2:"Setiap hari kerja",repeat_week:" Ulangi setiap",repeat_text_week_count:"minggu pada hari berikut:",repeat_radio_month_type:"Ulangi",repeat_radio_month_start:"Pada",repeat_text_month_day:"hari setiap",repeat_text_month_count:"bulan",repeat_text_month_count2_before:"setiap",repeat_text_month_count2_after:"bulan",repeat_year_label:"Pada",select_year_day2:"dari",repeat_text_year_day:"hari",select_year_month:"bulan",repeat_radio_end:"Tanpa tanggal akhir",repeat_text_occurrences_count:"kejadian",repeat_radio_end2:"Setelah",repeat_radio_end3:"Berakhir pada",repeat_never:"Tidak pernah",repeat_daily:"Setiap hari",repeat_workdays:"Setiap hari kerja",repeat_weekly:"Setiap minggu",repeat_monthly:"Setiap bulan",repeat_yearly:"Setiap tahun",repeat_custom:"Kustom",repeat_freq_day:"Hari",repeat_freq_week:"Minggu",repeat_freq_month:"Bulan",repeat_freq_year:"Tahun",repeat_on_date:"Pada tanggal",repeat_ends:"Berakhir",month_for_recurring:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],day_for_recurring:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]}},it:{date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{dhx_cal_today_button:"Oggi",day_tab:"Giorno",week_tab:"Settimana",month_tab:"Mese",new_event:"Nuovo evento",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"L'evento sarà eliminato, siete sicuri?",section_description:"Descrizione",section_time:"Periodo di tempo",full_day:"Intera giornata",confirm_recurring:"Vuoi modificare l'intera serie di eventi?",section_recurring:"Ripetere l'evento",button_recurring:"Disattivato",button_recurring_open:"Attivato",button_edit_series:"Modificare la serie",button_edit_occurrence:"Modificare una copia",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Data",description:"Descrizione",year_tab:"Anno",week_agenda_tab:"Agenda",grid_tab:"Griglia",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidiano",repeat_radio_week:"Settimanale",repeat_radio_month:"Mensile",repeat_radio_year:"Annuale",repeat_radio_day_type:"Ogni",repeat_text_day_count:"giorno",repeat_radio_day_type2:"Ogni giornata lavorativa",repeat_week:" Ripetere ogni",repeat_text_week_count:"settimana:",repeat_radio_month_type:"Ripetere",repeat_radio_month_start:"Il",repeat_text_month_day:"giorno ogni",repeat_text_month_count:"mese",repeat_text_month_count2_before:"ogni",repeat_text_month_count2_after:"mese",repeat_year_label:"Il",select_year_day2:"del",repeat_text_year_day:"giorno",select_year_month:"mese",repeat_radio_end:"Senza data finale",repeat_text_occurrences_count:"occorenze",repeat_radio_end3:"Fine",repeat_radio_end2:"Dopo",repeat_never:"Mai",repeat_daily:"Ogni giorno",repeat_workdays:"Ogni giorno feriale",repeat_weekly:"Ogni settimana",repeat_monthly:"Ogni mese",repeat_yearly:"Ogni anno",repeat_custom:"Personalizzato",repeat_freq_day:"Giorno",repeat_freq_week:"Settimana",repeat_freq_month:"Mese",repeat_freq_year:"Anno",repeat_on_date:"Alla data",repeat_ends:"Finisce",month_for_recurring:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Jiugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],day_for_recurring:["Domenica","Lunedì","Martedì","Mercoledì","Jovedì","Venerdì","Sabato"]}},jp:{date:{month_full:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],day_short:["日","月","火","水","木","金","土"]},labels:{dhx_cal_today_button:"今日",day_tab:"日",week_tab:"週",month_tab:"月",new_event:"新イベント",icon_save:"保存",icon_cancel:"キャンセル",icon_details:"詳細",icon_edit:"編集",icon_delete:"削除",confirm_closing:"",confirm_deleting:"イベント完全に削除されます、宜しいですか？",section_description:"デスクリプション",section_time:"期間",confirm_recurring:"繰り返されているイベントを全て編集しますか？",section_recurring:"イベントを繰り返す",button_recurring:"無効",button_recurring_open:"有効",full_day:"終日",button_edit_series:"シリーズを編集します",button_edit_occurrence:"コピーを編集",button_edit_occurrence_and_following:"This and following events",agenda_tab:"議題は",date:"日付",description:"説明",year_tab:"今年",week_agenda_tab:"議題は",grid_tab:"グリッド",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"毎日",repeat_radio_week:"毎週",repeat_radio_month:"毎月",repeat_radio_year:"毎年",repeat_radio_day_type:"毎",repeat_text_day_count:"日",repeat_radio_day_type2:"毎営業日",repeat_week:" 繰り返し毎",repeat_text_week_count:"週 次の日:",repeat_radio_month_type:"繰り返し",repeat_radio_month_start:"オン",repeat_text_month_day:"日毎",repeat_text_month_count:"月",repeat_text_month_count2_before:"毎",repeat_text_month_count2_after:"月",repeat_year_label:"オン",select_year_day2:"の",repeat_text_year_day:"日",select_year_month:"月",repeat_radio_end:"終了日なし",repeat_text_occurrences_count:"回数",repeat_radio_end2:"後",repeat_radio_end3:"終了日まで",repeat_never:"決して",repeat_daily:"毎日",repeat_workdays:"毎営業日",repeat_weekly:"毎週",repeat_monthly:"毎月",repeat_yearly:"毎年",repeat_custom:"カスタム",repeat_freq_day:"日",repeat_freq_week:"週",repeat_freq_month:"月",repeat_freq_year:"年",repeat_on_date:"日にち",repeat_ends:"終了",month_for_recurring:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_for_recurring:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]}},nb:{date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Mon","Tir","Ons","Tor","Fre","Lør"]},labels:{dhx_cal_today_button:"I dag",day_tab:"Dag",week_tab:"Uke",month_tab:"Måned",new_event:"Ny hendelse",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du forandre hele dette settet av repeterende hendelser?",section_recurring:"Repeter hendelsen",button_recurring:"Av",button_recurring_open:"På",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"År",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"Månedlig",repeat_radio_year:"Årlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Alle hverdager",repeat_week:" Gjentas hver",repeat_text_week_count:"uke på:",repeat_radio_month_type:"På hver",repeat_radio_month_start:"På",repeat_text_month_day:"dag hver",repeat_text_month_count:"måned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"måned",repeat_year_label:"på",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen sluttdato",repeat_text_occurrences_count:"forekomst",repeat_radio_end3:"Stop den",repeat_radio_end2:"Etter",repeat_never:"Aldri",repeat_daily:"Hver dag",repeat_workdays:"Hver ukedag",repeat_weekly:"Hver uke",repeat_monthly:"Hver måned",repeat_yearly:"Hvert år",repeat_custom:"Tilpasset",repeat_freq_day:"Dag",repeat_freq_week:"Uke",repeat_freq_month:"Måned",repeat_freq_year:"År",repeat_on_date:"På dato",repeat_ends:"Slutter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Sondag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]}},nl:{date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{dhx_cal_today_button:"Vandaag",day_tab:"Dag",week_tab:"Week",month_tab:"Maand",new_event:"Nieuw item",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",full_day:"Hele dag",confirm_recurring:"Wilt u alle terugkerende items bijwerken?",section_recurring:"Item herhalen",button_recurring:"Uit",button_recurring_open:"Aan",button_edit_series:"Bewerk de serie",button_edit_occurrence:"Bewerk een kopie",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Datum",description:"Omschrijving",year_tab:"Jaar",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagelijks",repeat_radio_week:"Wekelijks",repeat_radio_month:"Maandelijks",repeat_radio_year:"Jaarlijks",repeat_radio_day_type:"Elke",repeat_text_day_count:"dag(en)",repeat_radio_day_type2:"Elke werkdag",repeat_week:" Herhaal elke",repeat_text_week_count:"week op de volgende dagen:",repeat_radio_month_type:"Herhaal",repeat_radio_month_start:"Op",repeat_text_month_day:"dag iedere",repeat_text_month_count:"maanden",repeat_text_month_count2_before:"iedere",repeat_text_month_count2_after:"maanden",repeat_year_label:"Op",select_year_day2:"van",repeat_text_year_day:"dag",select_year_month:"maand",repeat_radio_end:"Geen eind datum",repeat_text_occurrences_count:"keren",repeat_radio_end3:"Eindigd per",repeat_radio_end2:"Na",repeat_never:"Nooit",repeat_daily:"Elke dag",repeat_workdays:"Elke werkdag",repeat_weekly:"Elke week",repeat_monthly:"Elke maand",repeat_yearly:"Elk jaar",repeat_custom:"Aangepast",repeat_freq_day:"Dag",repeat_freq_week:"Week",repeat_freq_month:"Maand",repeat_freq_year:"Jaar",repeat_on_date:"Op datum",repeat_ends:"Eindigt",month_for_recurring:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],day_for_recurring:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"]}},no:{date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uke",month_tab:"Måned",new_event:"Ny",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppføringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",full_day:"Full dag",confirm_recurring:"Vil du endre hele settet med repeterende oppføringer?",section_recurring:"Repeterende oppføring",button_recurring:"Ikke aktiv",button_recurring_open:"Aktiv",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"År",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"Månedlig",repeat_radio_year:"Årlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Hver arbeidsdag",repeat_week:" Gjenta hver",repeat_text_week_count:"uke neste dager:",repeat_radio_month_type:"Gjenta",repeat_radio_month_start:"På",repeat_text_month_day:"dag hver",repeat_text_month_count:"måned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"måned",repeat_year_label:"På",select_year_day2:"av",repeat_text_year_day:"dag",select_year_month:"måned",repeat_radio_end:"Ingen sluttdato",repeat_text_occurrences_count:"forekomster",repeat_radio_end2:"Etter",repeat_radio_end3:"Slutt innen",repeat_never:"Aldri",repeat_daily:"Hver dag",repeat_workdays:"Hver ukedag",repeat_weekly:"Hver uke",repeat_monthly:"Hver måned",repeat_yearly:"Hvert år",repeat_custom:"Tilpasset",repeat_freq_day:"Dag",repeat_freq_week:"Uke",repeat_freq_month:"Måned",repeat_freq_year:"År",repeat_on_date:"På dato",repeat_ends:"Slutter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]}},pl:{date:{month_full:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],day_full:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],day_short:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"]},labels:{dhx_cal_today_button:"Dziś",day_tab:"Dzień",week_tab:"Tydzień",month_tab:"Miesiąc",new_event:"Nowe zdarzenie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczegóły",icon_edit:"Edytuj",icon_delete:"Usuń",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usunięte na zawsze, kontynuować?",section_description:"Opis",section_time:"Okres czasu",full_day:"Cały dzień",confirm_recurring:"Czy chcesz edytować cały zbiór powtarzających się zdarzeń?",section_recurring:"Powtórz zdarzenie",button_recurring:"Nieaktywne",button_recurring_open:"Aktywne",button_edit_series:"Edytuj serię",button_edit_occurrence:"Edytuj kopię",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Data",description:"Opis",year_tab:"Rok",week_agenda_tab:"Agenda",grid_tab:"Tabela",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Codziennie",repeat_radio_week:"Co tydzie",repeat_radio_month:"Co miesic",repeat_radio_year:"Co rok",repeat_radio_day_type:"Kadego",repeat_text_day_count:"dnia",repeat_radio_day_type2:"Kadego dnia roboczego",repeat_week:" Powtarzaj kadego",repeat_text_week_count:"tygodnia w dni:",repeat_radio_month_type:"Powtrz",repeat_radio_month_start:"W",repeat_text_month_day:"dnia kadego",repeat_text_month_count:"miesica",repeat_text_month_count2_before:"kadego",repeat_text_month_count2_after:"miesica",repeat_year_label:"W",select_year_day2:"miesica",repeat_text_year_day:"dnia miesica",select_year_month:"",repeat_radio_end:"Bez daty kocowej",repeat_text_occurrences_count:"wystpieniu/ach",repeat_radio_end3:"Zakocz w",repeat_radio_end2:"Po",repeat_never:"Nigdy",repeat_daily:"Codziennie",repeat_workdays:"Każdy dzień roboczy",repeat_weekly:"Co tydzień",repeat_monthly:"Co miesiąc",repeat_yearly:"Co rok",repeat_custom:"Niestandardowy",repeat_freq_day:"Dzień",repeat_freq_week:"Tydzień",repeat_freq_month:"Miesiąc",repeat_freq_year:"Rok",repeat_on_date:"W dniu",repeat_ends:"Kończy się",month_for_recurring:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernka","Listopada","Grudnia"],day_for_recurring:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]}},pt:{date:{month_full:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{dhx_cal_today_button:"Hoje",day_tab:"Dia",week_tab:"Semana",month_tab:"Mês",new_event:"Novo evento",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Deletar",confirm_closing:"",confirm_deleting:"Tem certeza que deseja excluir?",section_description:"Descrição",section_time:"Período de tempo",full_day:"Dia inteiro",confirm_recurring:"Deseja editar todos esses eventos repetidos?",section_recurring:"Repetir evento",button_recurring:"Desabilitar",button_recurring_open:"Habilitar",button_edit_series:"Editar a série",button_edit_occurrence:"Editar uma cópia",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Dia",date:"Data",description:"Descrição",year_tab:"Ano",week_agenda_tab:"Dia",grid_tab:"Grade",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diário",repeat_radio_week:"Semanal",repeat_radio_month:"Mensal",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia(s)",repeat_radio_day_type2:"Cada trabalho diário",repeat_week:" Repita cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"Em",repeat_text_month_day:"todo dia",repeat_text_month_count:"mês",repeat_text_month_count2_before:"todo",repeat_text_month_count2_after:"mês",repeat_year_label:"Em",select_year_day2:"of",repeat_text_year_day:"dia",select_year_month:"mês",repeat_radio_end:"Sem data final",repeat_text_occurrences_count:"ocorrências",repeat_radio_end3:"Fim",repeat_radio_end2:"Depois",repeat_never:"Nunca",repeat_daily:"Todos os dias",repeat_workdays:"Todos os dias úteis",repeat_weekly:"Toda semana",repeat_monthly:"Todo mês",repeat_yearly:"Todo ano",repeat_custom:"Personalizado",repeat_freq_day:"Dia",repeat_freq_week:"Semana",repeat_freq_month:"Mês",repeat_freq_year:"Ano",repeat_on_date:"Na data",repeat_ends:"Termina",month_for_recurring:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],day_for_recurring:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]}},ro:{date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{dhx_cal_today_button:"Astazi",day_tab:"Zi",week_tab:"Saptamana",month_tab:"Luna",new_event:"Eveniment nou",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",full_day:"Toata ziua",confirm_recurring:"Vrei sa editezi toata seria de evenimente repetate?",section_recurring:"Repetare",button_recurring:"Dezactivata",button_recurring_open:"Activata",button_edit_series:"Editeaza serie",button_edit_occurrence:"Editeaza doar intrare",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Agenda",date:"Data",description:"Descriere",year_tab:"An",week_agenda_tab:"Agenda",grid_tab:"Lista",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Zilnic",repeat_radio_week:"Saptamanal",repeat_radio_month:"Lunar",repeat_radio_year:"Anual",repeat_radio_day_type:"La fiecare",repeat_text_day_count:"zi(le)",repeat_radio_day_type2:"Fiecare zi lucratoare",repeat_week:" Repeta la fiecare",repeat_text_week_count:"saptamana in urmatoarele zile:",repeat_radio_month_type:"Repeta in",repeat_radio_month_start:"In a",repeat_text_month_day:"zi la fiecare",repeat_text_month_count:"luni",repeat_text_month_count2_before:"la fiecare",repeat_text_month_count2_after:"luni",repeat_year_label:"In",select_year_day2:"a lunii",repeat_text_year_day:"zi a lunii",select_year_month:"",repeat_radio_end:"Fara data de sfarsit",repeat_text_occurrences_count:"evenimente",repeat_radio_end3:"La data",repeat_radio_end2:"Dupa",repeat_never:"Niciodată",repeat_daily:"În fiecare zi",repeat_workdays:"În fiecare zi lucrătoare",repeat_weekly:"În fiecare săptămână",repeat_monthly:"În fiecare lună",repeat_yearly:"În fiecare an",repeat_custom:"Personalizat",repeat_freq_day:"Zi",repeat_freq_week:"Săptămână",repeat_freq_month:"Lună",repeat_freq_year:"An",repeat_on_date:"La data",repeat_ends:"Se termină",month_for_recurring:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],day_for_recurring:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"]}},ru:{date:{month_full:["Январь","Февраль","Март","Апрель","Maй","Июнь","Июль","Август","Сентябрь","Oктябрь","Ноябрь","Декабрь"],month_short:["Янв","Фев","Maр","Aпр","Maй","Июн","Июл","Aвг","Сен","Окт","Ноя","Дек"],day_full:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],day_short:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},labels:{dhx_cal_today_button:"Сегодня",day_tab:"День",week_tab:"Неделя",month_tab:"Месяц",new_event:"Новое событие",icon_save:"Сохранить",icon_cancel:"Отменить",icon_details:"Детали",icon_edit:"Изменить",icon_delete:"Удалить",confirm_closing:"",confirm_deleting:"Событие будет удалено безвозвратно, продолжить?",section_description:"Описание",section_time:"Период времени",full_day:"Весь день",confirm_recurring:"Вы хотите изменить всю серию повторяющихся событий?",section_recurring:"Повторение",button_recurring:"Отключено",button_recurring_open:"Включено",button_edit_series:"Редактировать серию",button_edit_occurrence:"Редактировать экземпляр",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Список",date:"Дата",description:"Описание",year_tab:"Год",week_agenda_tab:"Список",grid_tab:"Таблица",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"День",repeat_radio_week:"Неделя",repeat_radio_month:"Месяц",repeat_radio_year:"Год",repeat_radio_day_type:"Каждый",repeat_text_day_count:"день",repeat_radio_day_type2:"Каждый рабочий день",repeat_week:" Повторять каждую",repeat_text_week_count:"неделю , в:",repeat_radio_month_type:"Повторять",repeat_radio_month_start:"",repeat_text_month_day:" числа каждый ",repeat_text_month_count:"месяц",repeat_text_month_count2_before:"каждый ",repeat_text_month_count2_after:"месяц",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"день",select_year_month:"",repeat_radio_end:"Без даты окончания",repeat_text_occurrences_count:"повторений",repeat_radio_end3:"До ",repeat_radio_end2:"",repeat_never:"Никогда",repeat_daily:"Каждый день",repeat_workdays:"Каждый будний день",repeat_weekly:"Каждую неделю",repeat_monthly:"Каждый месяц",repeat_yearly:"Каждый год",repeat_custom:"Настроить",repeat_freq_day:"День",repeat_freq_week:"Неделя",repeat_freq_month:"Месяц",repeat_freq_year:"Год",repeat_on_date:"В дату",repeat_ends:"Заканчивается",month_for_recurring:["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],day_for_recurring:["Воскресенье","Понедельник","Вторник","Среду","Четверг","Пятницу","Субботу"]}},si:{date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},labels:{dhx_cal_today_button:"Danes",day_tab:"Dan",week_tab:"Teden",month_tab:"Mesec",new_event:"Nov dogodek",icon_save:"Shrani",icon_cancel:"Prekliči",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbriši",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. Želite nadaljevati?",section_description:"Opis",section_time:"Časovni okvir",full_day:"Ves dan",confirm_recurring:"Želite urediti celoten set ponavljajočih dogodkov?",section_recurring:"Ponovi dogodek",button_recurring:"Onemogočeno",button_recurring_open:"Omogočeno",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Zadeva",date:"Datum",description:"Opis",year_tab:"Leto",week_agenda_tab:"Zadeva",grid_tab:"Miza",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dnevno",repeat_radio_week:"Tedensko",repeat_radio_month:"Mesečno",repeat_radio_year:"Letno",repeat_radio_day_type:"Vsak",repeat_text_day_count:"dan",repeat_radio_day_type2:"Vsak delovni dan",repeat_week:" Ponavljaj vsak",repeat_text_week_count:"teden na naslednje dni:",repeat_radio_month_type:"Ponavljaj",repeat_radio_month_start:"Na",repeat_text_month_day:"dan vsak",repeat_text_month_count:"mesec",repeat_text_month_count2_before:"vsak",repeat_text_month_count2_after:"mesec",repeat_year_label:"Na",select_year_day2:"od",repeat_text_year_day:"dan",select_year_month:"mesec",repeat_radio_end:"Brez končnega datuma",repeat_text_occurrences_count:"pojavitve",repeat_radio_end2:"Po",repeat_radio_end3:"Končaj do",repeat_never:"Nikoli",repeat_daily:"Vsak dan",repeat_workdays:"Vsak delovni dan",repeat_weekly:"Vsak teden",repeat_monthly:"Vsak mesec",repeat_yearly:"Vsako leto",repeat_custom:"Po meri",repeat_freq_day:"Dan",repeat_freq_week:"Teden",repeat_freq_month:"Mesec",repeat_freq_year:"Leto",repeat_on_date:"Na datum",repeat_ends:"Konča se",month_for_recurring:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],day_for_recurring:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]}},sk:{date:{month_full:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],month_short:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","Št","Pi","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"Deň",week_tab:"Týždeň",month_tab:"Mesiac",new_event:"Nová udalosť",icon_save:"Uložiť",icon_cancel:"Späť",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmazať",confirm_closing:"Vaše zmeny nebudú uložené. Skutočne?",confirm_deleting:"Udalosť bude natrvalo vymazaná. Skutočne?",section_description:"Poznámky",section_time:"Doba platnosti",confirm_recurring:"Prajete si upraviť celú radu opakovaných udalostí?",section_recurring:"Opakovanie udalosti",button_recurring:"Vypnuté",button_recurring_open:"Zapnuté",button_edit_series:"Upraviť opakovania",button_edit_occurrence:"Upraviť inštancie",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Program",date:"Dátum",description:"Poznámka",year_tab:"Rok",full_day:"Celý deň",week_agenda_tab:"Program",grid_tab:"Mriežka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denne",repeat_radio_week:"Týždenne",repeat_radio_month:"Mesaène",repeat_radio_year:"Roène",repeat_radio_day_type:"Každý",repeat_text_day_count:"deò",repeat_radio_day_type2:"Každý prac. deò",repeat_week:"Opakova každý",repeat_text_week_count:"týždeò v dòoch:",repeat_radio_month_type:"Opakova",repeat_radio_month_start:"On",repeat_text_month_day:"deò každý",repeat_text_month_count:"mesiac",repeat_text_month_count2_before:"každý",repeat_text_month_count2_after:"mesiac",repeat_year_label:"On",select_year_day2:"poèas",repeat_text_year_day:"deò",select_year_month:"mesiac",repeat_radio_end:"Bez dátumu ukonèenia",repeat_text_occurrences_count:"udalostiach",repeat_radio_end3:"Ukonèi",repeat_radio_end2:"Po",repeat_never:"Nikdy",repeat_daily:"Každý deň",repeat_workdays:"Každý pracovný deň",repeat_weekly:"Každý týždeň",repeat_monthly:"Každý mesiac",repeat_yearly:"Každý rok",repeat_custom:"Vlastné",repeat_freq_day:"Deň",repeat_freq_week:"Týždeň",repeat_freq_month:"Mesiac",repeat_freq_year:"Rok",repeat_on_date:"Na dátum",repeat_ends:"Koniec",month_for_recurring:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],day_for_recurring:["Nede¾a","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]}},sv:{date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],day_short:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Vecka",month_tab:"Månad",new_event:"Ny händelse",icon_save:"Spara",icon_cancel:"Ångra",icon_details:"Detaljer",icon_edit:"Ändra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"Är du säker på att du vill ta bort händelsen permanent?",section_description:"Beskrivning",section_time:"Tid",full_day:"Hela dagen",confirm_recurring:"Vill du redigera hela serien med repeterande händelser?",section_recurring:"Upprepa händelse",button_recurring:"Inaktiverat",button_recurring_open:"Aktiverat",button_edit_series:"Redigera serien",button_edit_occurrence:"Redigera en kopia",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Dagordning",date:"Datum",description:"Beskrivning",year_tab:"År",week_agenda_tab:"Dagordning",grid_tab:"Galler",drag_to_create:"Dra för att skapa ny",drag_to_move:"Dra för att flytta",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagligen",repeat_radio_week:"Veckovis",repeat_radio_month:"Månadsvis",repeat_radio_year:"Årligen",repeat_radio_day_type:"Var",repeat_text_day_count:"dag",repeat_radio_day_type2:"Varje arbetsdag",repeat_week:" Upprepa var",repeat_text_week_count:"vecka dessa dagar:",repeat_radio_month_type:"Upprepa",repeat_radio_month_start:"Den",repeat_text_month_day:"dagen var",repeat_text_month_count:"månad",repeat_text_month_count2_before:"var",repeat_text_month_count2_after:"månad",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"månad",repeat_radio_end:"Inget slutdatum",repeat_text_occurrences_count:"upprepningar",repeat_radio_end3:"Sluta efter",repeat_radio_end2:"Efter",repeat_never:"Aldrig",repeat_daily:"Varje dag",repeat_workdays:"Varje vardag",repeat_weekly:"Varje vecka",repeat_monthly:"Varje månad",repeat_yearly:"Varje år",repeat_custom:"Anpassad",repeat_freq_day:"Dag",repeat_freq_week:"Vecka",repeat_freq_month:"Månad",repeat_freq_year:"År",repeat_on_date:"På datum",repeat_ends:"Slutar",month_for_recurring:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],day_for_recurring:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]}},tr:{date:{month_full:["Ocak","Þubat","Mart","Nisan","Mayýs","Haziran","Temmuz","Aðustos","Eylül","Ekim","Kasým","Aralýk"],month_short:["Oca","Þub","Mar","Nis","May","Haz","Tem","Aðu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartes,","Salý","Çarþamba","Perþembe","Cuma","Cumartesi"],day_short:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},labels:{dhx_cal_today_button:"Bugün",day_tab:"Gün",week_tab:"Hafta",month_tab:"Ay",new_event:"Uygun",icon_save:"Kaydet",icon_cancel:"Ýptal",icon_details:"Detaylar",icon_edit:"Düzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Etkinlik silinecek, devam?",section_description:"Açýklama",section_time:"Zaman aralýðý",full_day:"Tam gün",confirm_recurring:"Tüm tekrar eden etkinlikler silinecek, devam?",section_recurring:"Etkinliði tekrarla",button_recurring:"Pasif",button_recurring_open:"Aktif",button_edit_series:"Dizi düzenleme",button_edit_occurrence:"Bir kopyasını düzenleyin",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Ajanda",date:"Tarih",description:"Açýklama",year_tab:"Yýl",week_agenda_tab:"Ajanda",grid_tab:"Izgara",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Günlük",repeat_radio_week:"Haftalık",repeat_radio_month:"Aylık",repeat_radio_year:"Yıllık",repeat_radio_day_type:"Her",repeat_text_day_count:"gün",repeat_radio_day_type2:"Her iş günü",repeat_week:" Tekrar her",repeat_text_week_count:"hafta şu günlerde:",repeat_radio_month_type:"Tekrar et",repeat_radio_month_start:"Tarihinde",repeat_text_month_day:"gün her",repeat_text_month_count:"ay",repeat_text_month_count2_before:"her",repeat_text_month_count2_after:"ay",repeat_year_label:"Tarihinde",select_year_day2:"ayın",repeat_text_year_day:"günü",select_year_month:"ay",repeat_radio_end:"Bitiş tarihi yok",repeat_text_occurrences_count:"olay",repeat_radio_end2:"Sonra",repeat_radio_end3:"Tarihinde bitir",repeat_never:"Asla",repeat_daily:"Her gün",repeat_workdays:"Her iş günü",repeat_weekly:"Her hafta",repeat_monthly:"Her ay",repeat_yearly:"Her yıl",repeat_custom:"Özel",repeat_freq_day:"Gün",repeat_freq_week:"Hafta",repeat_freq_month:"Ay",repeat_freq_year:"Yıl",repeat_on_date:"Tarihinde",repeat_ends:"Biter",month_for_recurring:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],day_for_recurring:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]}},ua:{date:{month_full:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],month_short:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],day_full:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],day_short:["Нед","Пон","Вів","Сер","Чет","Птн","Суб"]},labels:{dhx_cal_today_button:"Сьогодні",day_tab:"День",week_tab:"Тиждень",month_tab:"Місяць",new_event:"Нова подія",icon_save:"Зберегти",icon_cancel:"Відміна",icon_details:"Деталі",icon_edit:"Редагувати",icon_delete:"Вилучити",confirm_closing:"",confirm_deleting:"Подія вилучиться назавжди. Ви впевнені?",section_description:"Опис",section_time:"Часовий проміжок",full_day:"Весь день",confirm_recurring:"Хочете редагувати весь перелік повторюваних подій?",section_recurring:"Повторювана подія",button_recurring:"Відключено",button_recurring_open:"Включено",button_edit_series:"Редагувати серію",button_edit_occurrence:"Редагувати примірник",button_edit_occurrence_and_following:"This and following events",agenda_tab:"Перелік",date:"Дата",description:"Опис",year_tab:"Рік",week_agenda_tab:"Перелік",grid_tab:"Таблиця",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"День",repeat_radio_week:"Тиждень",repeat_radio_month:"Місяць",repeat_radio_year:"Рік",repeat_radio_day_type:"Кожний",repeat_text_day_count:"день",repeat_radio_day_type2:"Кожний робочий день",repeat_week:" Повторювати кожен",repeat_text_week_count:"тиждень , по:",repeat_radio_month_type:"Повторювати",repeat_radio_month_start:"",repeat_text_month_day:" числа кожний ",repeat_text_month_count:"місяць",repeat_text_month_count2_before:"кожен ",repeat_text_month_count2_after:"місяць",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"день",select_year_month:"",repeat_radio_end:"Без дати закінчення",repeat_text_occurrences_count:"повторень",repeat_radio_end3:"До ",repeat_radio_end2:"",repeat_never:"Ніколи",repeat_daily:"Щодня",repeat_workdays:"Щодня в робочі дні",repeat_weekly:"Щотижня",repeat_monthly:"Щомісяця",repeat_yearly:"Щороку",repeat_custom:"Налаштоване",repeat_freq_day:"День",repeat_freq_week:"Тиждень",repeat_freq_month:"Місяць",repeat_freq_year:"Рік",repeat_on_date:"На дату",repeat_ends:"Закінчується",month_for_recurring:["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"],day_for_recurring:["Неділям","Понеділкам","Вівторкам","Середам","Четвергам","П'ятницям","Суботам"]}}},Symbol.toStringTag,{value:"Module"}));class Ai{constructor(e,t,n={}){this.state={date:new Date,modes:["days","months","years"],currentRange:[],eventDates:[],filterDays:null,currentModeIndex:0,...n},this.container=null,this.element=null,this.onStateChangeHandlers=[],this.scheduler=e,this._domEvents=e._createDomEventScope(),this.state=this.getState(),ii(this),t&&(this.container=t,this.render(this.container)),this.onStateChange((e,t)=>{this.callEvent("onStateChange",[t,e])})}getState(){return{...this.state,mode:this.state.modes[this.state.currentModeIndex]}}setState(e){const t={...this.state};e.mode&&(e.currentModeIndex=this.state.modes.indexOf(e.mode)),this.state={...this.state,...e},this._notifyStateChange(t,this.state),this.container&&this.render(this.container)}onStateChange(e){return this.onStateChangeHandlers.push(e),()=>{const t=this.onStateChangeHandlers.indexOf(e);-1!==t&&this.onStateChangeHandlers.splice(t,1)}}_notifyStateChange(e,t){this.onStateChangeHandlers.forEach(n=>n(e,t))}_adjustDate(e){const{mode:t,date:n}=this.getState(),a=new Date(n);"days"===t?a.setMonth(n.getMonth()+e):"months"===t?a.setFullYear(n.getFullYear()+e):a.setFullYear(n.getFullYear()+10*e),this.setState({date:a})}_toggleMode(){const e=(this.state.currentModeIndex+1)%this.state.modes.length;this.setState({currentModeIndex:e})}_renderCalendarHeader(e){const{mode:t,date:n}=this.getState(),a=document.createElement("div");a.classList.add("dhx_cal_datepicker_header");const r=document.createElement("button");r.classList.add("dhx_cal_datepicker_arrow","scheduler_icon","arrow_left"),a.appendChild(r);const i=document.createElement("div");if(i.classList.add("dhx_cal_datepicker_title"),"days"===t)i.innerText=n.toLocaleString("default",{month:"long"})+" "+n.getFullYear();else if("months"===t)i.innerText=n.getFullYear();else{const e=10*Math.floor(n.getFullYear()/10);i.innerText=`${e} - ${e+9}`}this._domEvents.attach(i,"click",this._toggleMode.bind(this)),a.appendChild(i);const o=document.createElement("button");o.classList.add("dhx_cal_datepicker_arrow","scheduler_icon","arrow_right"),a.appendChild(o),e.appendChild(a),this._domEvents.attach(r,"click",this._adjustDate.bind(this,-1)),this._domEvents.attach(o,"click",this._adjustDate.bind(this,1))}render(e){this._domEvents.detachAll(),this.container=e||this.container,this.container.innerHTML="",this.element||(this.element=document.createElement("div"),this.element.classList.add("dhx_cal_datepicker")),this.element.innerHTML="",this.container.appendChild(this.element),this._renderCalendarHeader(this.element);const t=document.createElement("div");t.classList.add("dhx_cal_datepicker_data"),this.element.appendChild(t);const{mode:n}=this.getState();"days"===n?this._renderDayGrid(t):"months"===n?this._renderMonthGrid(t):this._renderYearGrid(t)}_renderDayGridHeader(e){const{date:t,filterDays:n}=this.getState(),a=this.scheduler;let r=a.date.week_start(new Date(t));const i=a.date.add(a.date.week_start(new Date(t)),1,"week");e.classList.add("dhx_cal_datepicker_days");const o=a.date.date_to_str("%D");for(;r.valueOf()<i.valueOf();){if(!n||!n(r)){const t=o(r),n=document.createElement("div");n.setAttribute("data-day",r.getDay()),n.classList.add("dhx_cal_datepicker_dayname"),n.innerText=t,e.appendChild(n)}r=a.date.add(r,1,"day")}}_weeksBetween(e,t){const n=this.scheduler;let a=0,r=new Date(e);for(;r.valueOf()<t.valueOf();)a+=1,r=n.date.week_start(n.date.add(r,1,"week"));return a}_renderDayGrid(e){const{date:t,currentRange:n,eventDates:a,minWeeks:r,filterDays:i}=this.getState();let o=n[0],d=n[1];const s=a.reduce((e,t)=>(e[this.scheduler.date.day_start(new Date(t)).valueOf()]=!0,e),{}),l=document.createElement("div");this._renderDayGridHeader(l);const c=l.children.length;e.appendChild(l),7!==c&&e.style.setProperty("--dhx-scheduler-week-length",c);const _=this.scheduler,h=_.date.week_start(_.date.month_start(new Date(t))),u=_.date.month_start(new Date(t)),p=_.date.add(_.date.month_start(new Date(t)),1,"month");let f=_.date.add(_.date.month_start(new Date(t)),1,"month");const v=_.date.date_part(_._currentDate());0!==f.getDay()&&(f=_.date.add(_.date.week_start(f),1,"week"));let g=this._weeksBetween(h,f);r&&g<r&&(f=_.date.add(f,r-g,"week"));let m=h;const x=document.createElement("div");for(x.classList.add("dhx_cal_datepicker_days"),this._domEvents.attach(x,"click",e=>{const t=e.target.closest("[data-cell-date]"),n=new Date(t.getAttribute("data-cell-date"));this.callEvent("onDateClick",[n,e])});m.valueOf()<f.valueOf();){if(!i||!i(m)){const e=document.createElement("div");e.setAttribute("data-cell-date",_.templates.format_date(m)),e.setAttribute("data-day",m.getDay()),e.innerHTML=_.templates.month_day(m),m.valueOf()<u.valueOf()?e.classList.add("dhx_before"):m.valueOf()>=p.valueOf()&&e.classList.add("dhx_after"),0!==m.getDay()&&6!==m.getDay()||e.classList.add("dhx_cal_datepicker_weekend"),m.valueOf()==v.valueOf()&&e.classList.add("dhx_now"),o&&d&&m.valueOf()>=o.valueOf()&&m.valueOf()<d.valueOf()&&e.classList.add("dhx_cal_datepicker_current"),s[m.valueOf()]&&e.classList.add("dhx_cal_datepicker_event"),e.classList.add("dhx_cal_datepicker_date"),x.appendChild(e)}m=_.date.add(m,1,"day")}e.appendChild(x)}_renderMonthGrid(e){const{date:t}=this.getState(),n=document.createElement("div");n.classList.add("dhx_cal_datepicker_months");const a=[];for(let e=0;e<12;e++)a.push(new Date(t.getFullYear(),e,1));const r=this.scheduler.date.date_to_str("%M");a.forEach(e=>{const a=document.createElement("div");a.classList.add("dhx_cal_datepicker_month"),t.getMonth()===e.getMonth()&&a.classList.add("dhx_cal_datepicker_current"),a.setAttribute("data-month",e.getMonth()),a.innerHTML=r(e),this._domEvents.attach(a,"click",()=>{const t=new Date(e);this.setState({date:t,mode:"days"})}),n.appendChild(a)}),e.appendChild(n);const i=document.createElement("div");i.classList.add("dhx_cal_datepicker_done");const o=document.createElement("button");o.innerText="Done",o.classList.add("dhx_cal_datepicker_done_btn"),this._domEvents.attach(o,"click",()=>{this.setState({mode:"days"})}),i.appendChild(o),e.appendChild(i)}_renderYearGrid(e){const{date:t}=this.getState(),n=10*Math.floor(t.getFullYear()/10),a=document.createElement("div");a.classList.add("dhx_cal_datepicker_years");for(let e=n-1;e<=n+10;e++){const n=document.createElement("div");n.innerText=e,n.classList.add("dhx_cal_datepicker_year"),n.setAttribute("data-year",e),t.getFullYear()===e&&n.classList.add("dhx_cal_datepicker_current"),this._domEvents.attach(n,"click",()=>{this.setState({date:new Date(e,t.getMonth(),1),mode:"months"})}),a.appendChild(n)}e.appendChild(a);const r=document.createElement("div");r.classList.add("dhx_cal_datepicker_done");const i=document.createElement("button");i.innerText="Done",i.classList.add("dhx_cal_datepicker_done_btn"),this._domEvents.attach(i,"click",()=>{this.setState({mode:"months"})}),r.appendChild(i),e.appendChild(r)}destructor(){this.onStateChangeHandlers=[],this.element&&(this.element.innerHTML="",this.element.remove()),this._domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents(),this.scheduler=null}}function Mi(e){const t={version:"7.2.8"};var n,a,r;t.$stateProvider=function(){const e={};return{getState:function(t){if(e[t])return e[t].method();{const t={};for(const n in e)e[n].internal||ni.mixin(t,e[n].method(),!0);return t}},registerProvider:function(t,n,a){e[t]={method:n,internal:a}},unregisterProvider:function(t){delete e[t]}}}(),t.getState=t.$stateProvider.getState,a={agenda:"https://docs.dhtmlx.com/scheduler/agenda_view.html",grid:"https://docs.dhtmlx.com/scheduler/grid_view.html",map:"https://docs.dhtmlx.com/scheduler/map_view.html",unit:"https://docs.dhtmlx.com/scheduler/units_view.html",timeline:"https://docs.dhtmlx.com/scheduler/timeline_view.html",week_agenda:"https://docs.dhtmlx.com/scheduler/weekagenda_view.html",year:"https://docs.dhtmlx.com/scheduler/year_view.html",anythingElse:"https://docs.dhtmlx.com/scheduler/views.html"},r={agenda:"scheduler.plugins({ agenda_view: true })",grid:"scheduler.plugins({ grid_view: true })",map:"scheduler.plugins({ map_view: true })",unit:"scheduler.plugins({ units: true })",timeline:"scheduler.plugins({ timeline: true, treetimeline: true, daytimeline: true})",week_agenda:"scheduler.plugins({ week_agenda: true })",year:"scheduler.plugins({ year_view: true })",limit:"scheduler.plugins({ limit: true })"},(n=t)._commonErrorMessages={unknownView:function(e){var t=r[e]?"You're probably missing "+r[e]+".":"";return"`"+e+"` view is not defined. \nPlease check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \nRelated docs: "+(a[e]||a.anythingElse)+"\n"+(t?t+"\n":"")},collapsedContainer:function(e){return"Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. \nMake sure that the container has some initial height or use different units. For example:\n<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> \n"}},n.createTimelineView=function(){throw new Error("scheduler.createTimelineView is not implemented. Be sure to add the required extension: "+r.timeline+"\nRelated docs: "+a.timeline)},n.createUnitsView=function(){throw new Error("scheduler.createUnitsView is not implemented. Be sure to add the required extension: "+r.unit+"\nRelated docs: "+a.unit)},n.createGridView=function(){throw new Error("scheduler.createGridView is not implemented. Be sure to add the required extension: "+r.grid+"\nRelated docs: "+a.grid)},n.addMarkedTimespan=function(){throw new Error("scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: scheduler.plugins({ limit: true })\nRelated docs: https://docs.dhtmlx.com/scheduler/limits.html")},n.renderCalendar=function(){throw new Error("scheduler.renderCalendar is not implemented. Be sure to add the required extension: scheduler.plugins({ minical: true })\nhttps://docs.dhtmlx.com/scheduler/minicalendar.html")},n.exportToPNG=function(){throw new Error(["scheduler.exportToPNG is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join("\n"))},n.exportToPDF=function(){throw new Error(["scheduler.exportToPDF is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join("\n"))},function(e){var t,n=(t=function(e,n){e=e||oi.event,n=n||oi.eventRemove;var a=[],r={attach:function(t,n,r,i){a.push({element:t,event:n,callback:r,capture:i}),e(t,n,r,i)},detach:function(e,t,r,i){n(e,t,r,i);for(var o=0;o<a.length;o++){var d=a[o];d.element===e&&d.event===t&&d.callback===r&&d.capture===i&&(a.splice(o,1),o--)}},detachAll:function(){for(var e=a.slice(),t=0;t<e.length;t++){var n=e[t];r.detach(n.element,n.event,n.callback,n.capture),r.detach(n.element,n.event,n.callback,void 0),r.detach(n.element,n.event,n.callback,!1),r.detach(n.element,n.event,n.callback,!0)}a.splice(0,a.length)},extend:function(){return t(this.event,this.eventRemove)}};return r})();e.event=n.attach,e.eventRemove=n.detach,e._eventRemoveAll=n.detachAll,e._createDomEventScope=n.extend,e._trim=function(e){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(e)},e._isDate=function(e){return!(!e||"object"!=typeof e||!(e.getFullYear&&e.getMonth&&e.getDate))},e._isObject=function(e){return e&&"object"==typeof e}}(t),function(e){ii(e),ai(e),e._detachDomEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},e._init_once=function(){(function(e){function t(e){return void 0!==e.isConnected?e.isConnected:document.body.contains(e)}function n(e){return{w:e.innerWidth||document.documentElement.clientWidth,h:e.innerHeight||document.documentElement.clientHeight}}function a(e,a){var i,o=n(a);e.event(a,"resize",function(){clearTimeout(i),i=setTimeout(function(){if(t(e.$container)&&!e.$destroyed){var i,d,s=n(a);d=s,((i=o).w!=d.w||i.h!=d.h)&&(o=s,r(e))}},150)})}function r(e){e.$initialized&&!e.$destroyed&&e.$root&&t(e.$root)&&e.callEvent("onSchedulerResize",[])&&(e.updateView(),e.callEvent("onAfterSchedulerResize",[]))}!function(e){var t,n,i,o=e.$container;if("static"==window.getComputedStyle(o).getPropertyValue("position")&&(o.style.position="relative"),window.ResizeObserver){let t=!0;const n=new ResizeObserver(function(n){t?t=!1:r(e)});n.observe(o),e.attachEvent("onDestroy",function(){n.unobserve(o)})}else{var d=document.createElement("iframe");d.className="scheduler_container_resize_watcher",d.tabIndex=-1,e.config.wai_aria_attributes&&(d.setAttribute("role","none"),d.setAttribute("aria-hidden",!0)),window.Sfdc||window.$A||window.Aura?(n=(t=e).$root.offsetHeight,i=t.$root.offsetWidth,function e(){t.$destroyed||(t.$root&&(t.$root.offsetHeight==n&&t.$root.offsetWidth==i||r(t),n=t.$root.offsetHeight,i=t.$root.offsetWidth),setTimeout(e,200))}()):(o.appendChild(d),d.contentWindow?a(e,d.contentWindow):(o.removeChild(d),a(e,window)))}}(e)})(e),e._init_once=function(){}};const t=function(t){return e._init_nav_bar(t)},n=function(e){const t=document.createElement("div");return t.className="dhx_cal_header",t},a=function(e){const t=document.createElement("div");return t.className="dhx_cal_data",t};function r(e){return!!(e.querySelector(".dhx_cal_header")&&e.querySelector(".dhx_cal_data")&&e.querySelector(".dhx_cal_navline"))}e.init=function(i,o,d){if(!this.$destroyed){if(o=o||e._currentDate(),d=d||"week",this._obj&&this.unset_actions(),this._obj="string"==typeof i?document.getElementById(i):i,this.$container=this._obj,this.$root=this._obj,!this.$container.offsetHeight&&this.$container.offsetWidth&&"100%"===this.$container.style.height&&window.console.error(e._commonErrorMessages.collapsedContainer(),this.$container),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&this.$container.setAttribute("role","application"),this.config.header||r(this.$container)||(this.config.header=function(e){const t=["day","week","month"];if(e.matrix)for(const n in e.matrix)t.push(n);if(e._props)for(const n in e._props)t.push(n);if(e._grid&&e._grid.names)for(const n in e._grid.names)t.push(n);return["map","agenda","week_agenda","year"].forEach(function(n){e[n+"_view"]&&t.push(n)}),t.concat(["date"]).concat(["prev","today","next"])}(this),window.console.log(["Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.","Using a default header configuration: ","scheduler.config.header = "+JSON.stringify(this.config.header,null,2),"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html"].join("\n"))),this.config.header)this.$container.innerHTML="",this.$container.classList.add("dhx_cal_container"),this.config.header.height&&(this.xy.nav_height=this.config.header.height),this.$container.appendChild(t(this.config.header)),this.$container.appendChild(n()),this.$container.appendChild(a());else if(!r(this.$container))throw new Error(["Required DOM elements are missing from the scheduler container.","Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup","Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig"].join("\n"));this.config.rtl&&(this.$container.className+=" dhx_cal_container_rtl"),this._skin_init&&e._skin_init(),e.date.init(),this._scroll=!0,this._els=[],this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),e.callEvent("onSchedulerReady",[]),e.$initialized=!0,this.setCurrentView(o,d)}},e.xy={min_event_height:20,bar_height:24,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22,event_header_height:14},e.keys={edit_save:13,edit_cancel:27},e.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},e.set_sizes=function(){var t=this._x=this._obj.clientWidth-this.xy.margin_left,n=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,a=this.$container.querySelector(".dhx_cal_scale_placeholder");e._is_material_skin()?(a||((a=document.createElement("div")).className="dhx_cal_scale_placeholder",this.$container.insertBefore(a,this._els.dhx_cal_header[0])),a.style.display="block",this.set_xy(a,t,this.xy.scale_height+1,0,this._els.dhx_cal_header[0].offsetTop)):a&&a.parentNode.removeChild(a),this._lightbox&&(e.$container.offsetWidth<1200||this._setLbPosition(document.querySelector(".dhx_cal_light"))),this._data_width=t-n,this._els.dhx_cal_navline[0].style.width=t+"px";const r=this._els.dhx_cal_header[0];this.set_xy(r,this._data_width,this.xy.scale_height),r.style.left="",r.style.right="",this._table_view?this.config.rtl?r.style.right="-1px":r.style.left="-1px":this.config.rtl?r.style.right=`${this.xy.scale_width}px`:r.style.left=`${this.xy.scale_width}px`},e.set_xy=function(e,t,n,a,r){function i(e){let t=e;return isNaN(Number(t))||(t=Math.max(0,t)+"px"),t}var o="left";void 0!==t&&(e.style.width=i(t)),void 0!==n&&(e.style.height=i(n)),arguments.length>3&&(void 0!==a&&(this.config.rtl&&(o="right"),e.style[o]=a+"px"),void 0!==r&&(e.style.top=r+"px"))},e.get_elements=function(){const t=this._obj.getElementsByTagName("DIV");for(let n=0;n<t.length;n++){let a=e._getClassName(t[n]);const r=t[n].getAttribute("data-tab")||t[n].getAttribute("name")||"";a&&(a=a.split(" ")[0]),this._els[a]||(this._els[a]=[]),this._els[a].push(t[n]);let i=e.locale.labels[r+"_tab"]||e.locale.labels[r||a];"string"!=typeof i&&r&&!t[n].innerHTML&&(i=r.split("_")[0]),i&&(this._waiAria.labelAttr(t[n],i),t[n].innerHTML=i)}};const i=e._createDomEventScope();function o(e,t){const n=new Date(e),a=(new Date(t).getTime()-n.getTime())/864e5;return Math.abs(a)}e.unset_actions=function(){i.detachAll()},e.set_actions=function(){for(const e in this._els)if(this._click[e])for(let t=0;t<this._els[e].length;t++){const n=this._els[e][t],a=this._click[e].bind(n);i.attach(n,"click",a)}i.attach(this._obj,"selectstart",function(e){return e.preventDefault(),!1}),i.attach(this._obj,"mousemove",function(t){e._temp_touch_block||e._on_mouse_move(t)}),i.attach(this._obj,"mousedown",function(t){e._ignore_next_click||e._on_mouse_down(t)}),i.attach(this._obj,"mouseup",function(t){e._ignore_next_click||e._on_mouse_up(t)}),i.attach(this._obj,"dblclick",function(t){e._on_dbl_click(t)}),i.attach(this._obj,"contextmenu",function(t){return e.checkEvent("onContextMenu")&&t.preventDefault(),e.callEvent("onContextMenu",[e._locate_event(t.target),t])})},e.select=function(t){this._select_id!=t&&(e._close_not_saved(),this.editStop(!1),this._select_id&&this.unselect(),this._select_id=t,this.updateEvent(t),this.callEvent("onEventSelected",[t]))},e.unselect=function(e){if(e&&e!=this._select_id)return;const t=this._select_id;this._select_id=null,t&&this.getEvent(t)&&this.updateEvent(t),this.callEvent("onEventUnselected",[t])},e.$stateProvider.registerProvider("global",function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}}.bind(e)),e._click={dhx_cal_data:function(t){if(e._ignore_next_click)return t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,e._ignore_next_click=!1,!1;const n=e._locate_event(t.target);if(n){if(!e.callEvent("onClick",[n,t])||e.config.readonly)return}else e.callEvent("onEmptyClick",[e.getActionData(t).date,t]);if(n&&e.config.select){e.select(n);const a=t.target.closest(".dhx_menu_icon"),r=e._getClassName(a);-1!=r.indexOf("_icon")&&e._click.buttons[r.split(" ")[1].replace("icon_","")](n)}else e._close_not_saved(),e.getState().select_id&&(new Date).valueOf()-(e._new_event||0)>500&&e.unselect()},dhx_cal_prev_button:function(){e._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(t,n){let a=1;e.config.rtl&&(n=-n,a=-a),e.setCurrentView(e.date.add(e.date[e._mode+"_start"](new Date(e._date)),n||a,e._mode))},dhx_cal_today_button:function(){e.callEvent("onBeforeTodayDisplayed",[])&&e.setCurrentView(e._currentDate())},dhx_cal_tab:function(){const t=this.getAttribute("data-tab"),n=this.getAttribute("name"),a=t||n.substring(0,n.search("_tab"));e.setCurrentView(e._date,a)},buttons:{delete:function(t){const n=e.locale.labels.confirm_deleting;e._delete_event_confirm({event:e.getEvent(t),message:n,title:e.locale.labels.title_confirm_deleting,callback:function(){e.deleteEvent(t)},config:{ok:e.locale.labels.icon_delete}})},edit:function(t){e.edit(t)},save:function(t){e.editStop(!0)},details:function(t){e.showLightbox(t)},form:function(t){e.showLightbox(t)},cancel:function(t){e.editStop(!1)}}},e._dhtmlx_confirm=function({message:t,title:n,callback:a,config:r}){if(!t)return a();r=r||{};const i={...r,text:t};n&&(i.title=n),a&&(i.callback=function(e){e&&a()}),e.confirm(i)},e.addEventNow=function(t,n,a){let r={};e._isObject(t)&&!e._isDate(t)&&(r=t,t=null);const i=6e4*(this.config.event_duration||this.config.time_step);t||(t=r.start_date||Math.round(e._currentDate().valueOf()/i)*i);let o=new Date(t);if(!n){let e=this.config.first_hour;e>o.getHours()&&(o.setHours(e),t=o.valueOf()),n=t.valueOf()+i}let d=new Date(n);o.valueOf()==d.valueOf()&&d.setTime(d.valueOf()+i),r.start_date=r.start_date||o,r.end_date=r.end_date||d,r.text=r.text||this.locale.labels.new_event,r.id=this._drag_id=r.id||this.uid(),this._drag_mode="new-size",this._loading=!0;const s=this.addEvent(r);return this.callEvent("onEventCreated",[this._drag_id,a]),this._loading=!1,this._drag_event={},this._on_mouse_up(a),s},e._on_dbl_click=function(t,n){if(n=n||t.target,this.config.readonly)return;const a=e._getClassName(n).split(" ")[0];switch(a){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!e.config.dblclick_create)break;this.addEventNow(this.getActionData(t).date,null,t);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_cal_agenda_event_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":{const e=this._locate_event(n);if(!this.callEvent("onDblClick",[e,t]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(e)._timed||!this.config.select?this.showLightbox(e):this.edit(e);break}case"dhx_time_block":case"dhx_cal_container":return;default:{const r=this["dblclick_"+a];if(r)r.call(this,t);else if(n.parentNode&&n!=this)return e._on_dbl_click(t,n.parentNode);break}}},e._get_column_index=function(e){let t=0;if(this._cols){let n=0,a=0;for(;n+this._cols[a]<e&&a<this._cols.length;)n+=this._cols[a],a++;if(t=a+(this._cols[a]?(e-n)/this._cols[a]:0),this._ignores&&t>=this._cols.length)for(;t>=1&&this._ignores[Math.floor(t)];)t--}return t},e._week_indexes_from_pos=function(e){if(this._cols){const t=this._get_column_index(e.x);return e.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(t)-1)),e.y=Math.max(0,Math.ceil(60*e.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),e}return e},e._mouse_coords=function(t){let n;const a=document.body,r=document.documentElement;n=this.$env.isIE||!t.pageX&&!t.pageY?{x:t.clientX+(a.scrollLeft||r.scrollLeft||0)-a.clientLeft,y:t.clientY+(a.scrollTop||r.scrollTop||0)-a.clientTop}:{x:t.pageX,y:t.pageY},this.config.rtl&&this._colsS?(n.x=this.$container.querySelector(".dhx_cal_data").offsetWidth-n.x,n.x+=this.$domHelpers.getAbsoluteLeft(this._obj),"month"!==this._mode&&(n.x-=this.xy.scale_width)):n.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);const i=this.$container.querySelector(".dhx_cal_data");n.y-=this.$domHelpers.getAbsoluteTop(i)-this._els.dhx_cal_data[0].scrollTop,n.ev=t;const o=this["mouse_"+this._mode];if(o)n=o.call(this,n);else if(this._table_view){const t=this._get_column_index(n.x);if(!this._cols||!this._colsS)return n;let a=0;for(a=1;a<this._colsS.heights.length&&!(this._colsS.heights[a]>n.y);a++);n.y=Math.ceil(24*(Math.max(0,t)+7*Math.max(0,a-1))*60/this.config.time_step),(e._drag_mode||"month"==this._mode)&&(n.y=24*(Math.max(0,Math.ceil(t)-1)+7*Math.max(0,a-1))*60/this.config.time_step),"move"==this._drag_mode&&e._ignores_detected&&e.config.preserve_length&&(n._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),n.x=0}else n=this._week_indexes_from_pos(n);return n.timestamp=+new Date,n},e._close_not_saved=function(){if((new Date).valueOf()-(e._new_event||0)>500&&e._edit_id){const t=e.locale.labels.confirm_closing;e._dhtmlx_confirm({message:t,title:e.locale.labels.title_confirm_closing,callback:function(){e.editStop(e.config.positive_closing)}}),t&&(this._drag_id=this._drag_pos=this._drag_mode=null)}},e._correct_shift=function(t,n){return t-6e4*(new Date(e._min_date).getTimezoneOffset()-new Date(t).getTimezoneOffset())*(n?-1:1)},e._is_pos_changed=function(e,t){function n(e,t,n){return Math.abs(e-t)>n}return!e||!this._drag_pos||!!(this._drag_pos.has_moved||!this._drag_pos.timestamp||t.timestamp-this._drag_pos.timestamp>100||n(e.ev.clientX,t.ev.clientX,5)||n(e.ev.clientY,t.ev.clientY,5))},e._correct_drag_start_date=function(t){let n;e.matrix&&(n=e.matrix[e._mode]),n=n||{x_step:1,x_unit:"day"},t=new Date(t);let a=1;return(n._start_correction||n._end_correction)&&(a=60*(n.last_hour||0)-(60*t.getHours()+t.getMinutes())||1),1*t+(e._get_fictional_event_length(t,a,n)-a)},e._correct_drag_end_date=function(t,n){let a;e.matrix&&(a=e.matrix[e._mode]),a=a||{x_step:1,x_unit:"day"};const r=1*t+e._get_fictional_event_length(t,n,a);return new Date(1*r-(e._get_fictional_event_length(r,-1,a,-1)+1))},e._on_mouse_move=function(t){if(this._drag_mode){var n=this._mouse_coords(t);if(this._is_pos_changed(this._drag_pos,n)){var a,r;if(this._edit_id!=this._drag_id&&this._close_not_saved(),!this._drag_mode)return;var i=null;if(this._drag_pos&&!this._drag_pos.has_moved&&((i=this._drag_pos).has_moved=!0),this._drag_pos=n,this._drag_pos.has_moved=!0,"create"==this._drag_mode){if(i&&(n=i),this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,a=this._get_date_from_pos(n).valueOf(),!this._drag_start)return this.callEvent("onBeforeEventCreated",[t,this._drag_id])?(this._loading=!1,void(this._drag_start=a)):void(this._loading=!1);r=a,this._drag_start;var o=new Date(this._drag_start),d=new Date(r);"day"!=this._mode&&"week"!=this._mode||o.getHours()!=d.getHours()||o.getMinutes()!=d.getMinutes()||(d=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(o,d,this.locale.labels.new_event,this._drag_id,n.fields),this.callEvent("onEventCreated",[this._drag_id,t]),this._loading=!1,this._drag_mode="new-size"}var s,l=this.config.time_step,c=this.getEvent(this._drag_id);if(e.matrix&&(s=e.matrix[e._mode]),s=s||{x_step:1,x_unit:"day"},"move"==this._drag_mode)a=this._min_date.valueOf()+6e4*(n.y*this.config.time_step+24*n.x*60),!n.custom&&this._table_view&&(a+=1e3*this.date.time_part(c.start_date)),!this._table_view&&this._dragEventBody&&void 0===this._drag_event._move_event_shift&&(this._drag_event._move_event_shift=a-c.start_date),this._drag_event._move_event_shift&&(a-=this._drag_event._move_event_shift),a=this._correct_shift(a),n._ignores&&this.config.preserve_length&&this._table_view&&s?(a=e._correct_drag_start_date(a),r=e._correct_drag_end_date(a,this._drag_event._event_length)):r=c.end_date.valueOf()-(c.start_date.valueOf()-a);else{if(a=c.start_date.valueOf(),r=c.end_date.valueOf(),this._table_view){var _=this._min_date.valueOf()+n.y*this.config.time_step*6e4+(n.custom?0:864e5);if("month"==this._mode)if(_=this._correct_shift(_,!1),this._drag_from_start){var h=864e5;_<=e.date.date_part(new Date(r+h-1)).valueOf()&&(a=_-h)}else r=_;else if(this.config.preserve_length){if(n.resize_from_start)a=e._correct_drag_start_date(_),s.round_position&&s.first_hour&&s.last_hour&&"day"==s.x_unit&&(a=new Date(1*a+s._start_correction));else if(r=e._correct_drag_end_date(_,0),s.round_position&&s.first_hour&&s.last_hour&&"day"==s.x_unit&&(r=e.date.date_part(new Date(r)),r=new Date(1*r-s._end_correction)),s.round_position&&e["ignore_"+e._mode]&&"day"==s.x_unit){const t=this["ignore_"+this._mode];let n=e.date.add(new Date(r),-s.x_step,s.x_unit);t(n)&&(r=n)}}else n.resize_from_start?a=_:r=_}else{var u=this.date.date_part(new Date(c.end_date.valueOf()-1)).valueOf(),p=new Date(u),f=this.config.first_hour,v=60/l*(this.config.last_hour-f);this.config.time_step=1;var g=this._mouse_coords(t);this.config.time_step=l;var m=n.y*l*6e4,x=Math.min(n.y+1,v)*l*6e4,b=6e4*g.y;r=Math.abs(m-b)>Math.abs(x-b)?u+x:u+m,r+=6e4*(new Date(r).getTimezoneOffset()-p.getTimezoneOffset()),this._els.dhx_cal_data[0].style.cursor="s-resize","week"!=this._mode&&"day"!=this._mode||(r=this._correct_shift(r))}if("new-size"==this._drag_mode)if(r<=this._drag_start){var y=n.shift||(this._table_view&&!n.custom?864e5:0);a=r-(n.shift?0:y),r=this._drag_start+(y||6e4*l)}else a=this._drag_start;else r<=a&&(r=s&&s.round_position?"hour"==s.x_unit||"minute"==s.x_unit?e.date.add(a,s.x_step,s.x_unit):e.date.add(e.date.date_part(new Date(a)),1,s.x_unit):a+6e4*l)}var w=new Date(r-1),k=new Date(a);if("move"==this._drag_mode&&e.config.limit_drag_out&&(+k<+e._min_date||+r>+e._max_date)){if(+c.start_date<+e._min_date||+c.end_date>+e._max_date)k=new Date(c.start_date),r=new Date(c.end_date);else{var E=r-k;+k<+e._min_date?(k=new Date(e._min_date),n._ignores&&this.config.preserve_length&&this._table_view?(k=new Date(e._correct_drag_start_date(k)),s._start_correction&&(k=new Date(k.valueOf()+s._start_correction)),r=new Date(1*k+this._get_fictional_event_length(k,this._drag_event._event_length,s))):r=new Date(+k+E)):(r=new Date(e._max_date),n._ignores&&this.config.preserve_length&&this._table_view?(s._end_correction&&(r=new Date(r.valueOf()-s._end_correction)),r=new Date(1*r-this._get_fictional_event_length(r,0,s,!0)),k=new Date(1*r-this._get_fictional_event_length(r,this._drag_event._event_length,s,!0)),this._ignores_detected&&(k=e.date.add(k,s.x_step,s.x_unit),r=new Date(1*r-this._get_fictional_event_length(r,0,s,!0)),r=e.date.add(r,s.x_step,s.x_unit))):k=new Date(+r-E))}w=new Date(r-1)}if(!this._table_view&&this._dragEventBody&&!e.config.all_timed&&(!e._get_section_view()&&n.x!=this._get_event_sday({start_date:new Date(a),end_date:new Date(a)})||new Date(a).getHours()<this.config.first_hour)&&(E=r-k,"move"==this._drag_mode&&(h=this._min_date.valueOf()+24*n.x*60*6e4,(k=new Date(h)).setHours(this.config.first_hour),+k<=+c.start_date?r=new Date(+k+E):k=new Date(+r-E))),this._table_view||e.config.all_timed||!(!e.getView()&&n.x!=this._get_event_sday({start_date:new Date(r),end_date:new Date(r)})||new Date(r).getHours()>=this.config.last_hour)||(E=r-k,h=this._min_date.valueOf()+24*n.x*60*6e4,(r=e.date.date_part(new Date(h))).setHours(this.config.last_hour),w=new Date(r-1),"move"==this._drag_mode&&(+k<=+c.start_date?r=new Date(+k+E):k=new Date(+r-E))),!this._table_view&&e.config.all_timed){let t=this._min_date.valueOf()+24*n.x*60*6e4;new Date(e._drag_start).getDay()!=new Date(t)&&(t=new Date(e._drag_start));let a=new Date(t).setHours(this.config.last_hour);e._drag_start&&"new-size"==this._drag_mode&&a<new Date(r)&&((r=e.date.date_part(new Date(t))).setHours(this.config.last_hour),w=new Date(r-1))}if(this._table_view&&e["ignore_"+this._mode]&&("resize"==this._drag_mode||"new-size"==this._drag_mode)&&+r>+e._max_date){r=new Date(e._max_date);const t=this["ignore_"+this._mode];for(;t(r);)r=e.date.add(r,-s.x_step,s.x_unit);r=e.date.add(r,s.x_step,s.x_unit)}if(this._table_view||w.getDate()==k.getDate()&&w.getHours()<this.config.last_hour||e._allow_dnd)if(c.start_date=k,c.end_date=new Date(r),this.config.update_render){var D=e._els.dhx_cal_data[0].scrollTop;this.update_view(),e._els.dhx_cal_data[0].scrollTop=D}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function(e){e.className+=" dhx_in_move dhx_cal_event_drag"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,t])}}else if(e.checkEvent("onMouseMove")){var S=this._locate_event(t.target||t.srcElement);this.callEvent("onMouseMove",[S,t])}},e._on_mouse_down=function(t,n){if(2!=t.button&&!this.config.readonly&&!this._drag_mode){n=n||t.target||t.srcElement;var a=e._getClassName(n).split(" ")[0];switch(this.config.drag_event_body&&"dhx_body"==a&&n.parentNode&&-1===n.parentNode.className.indexOf("dhx_cal_select_menu")&&(a="dhx_event_move",this._dragEventBody=!0),a){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",e._getClassName(n).indexOf("dhx_event_resize_end")<0?e._drag_from_start=!0:e._drag_from_start=!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(n.parentNode)return e._on_mouse_down(t,n.parentNode);break;default:if((!e.checkEvent("onMouseDown")||e.callEvent("onMouseDown",[a,t]))&&n.parentNode&&n!=this&&"dhx_body"!=a)return e._on_mouse_down(t,n.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var r=this._locate_event(n);if(this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[r,this._drag_mode,t])){if(this._drag_id=r,(this._edit_id!=this._drag_id||this._edit_id&&"create"==this._drag_mode)&&this._close_not_saved(),!this._drag_mode)return;this._drag_event=e._lame_clone(this.getEvent(this._drag_id)||{}),this._drag_pos=this._mouse_coords(t)}else this._drag_mode=this._drag_id=0}this._drag_start=null}},e._get_private_properties=function(e){var t={};for(var n in e)0===n.indexOf("_")&&(t[n]=!0);return t},e._clear_temporary_properties=function(e,t){var n=this._get_private_properties(e),a=this._get_private_properties(t);for(var r in a)n[r]||delete t[r]},e._on_mouse_up=function(t){if(!t||2!=t.button||!this._mobile){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var n=this._drag_id,a=this._drag_mode,r=!this._drag_pos||this._drag_pos.has_moved;delete this._drag_event._move_event_shift;var i=this.getEvent(this._drag_id);if(r&&(this._drag_event._dhx_changed||!this._drag_event.start_date||i.start_date.valueOf()!=this._drag_event.start_date.valueOf()||i.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var o="new-size"==this._drag_mode;if(this.callEvent("onBeforeEventChanged",[i,t,o,this._drag_event]))if(this._drag_id=this._drag_mode=null,o&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,i.$new=!0,this._table_view||this.config.details_on_create||!this.config.select||!this.isOneDayEvent(this.getEvent(n)))return e.callEvent("onDragEnd",[n,a,t]),this.showLightbox(n);this._drag_pos=!0,this._select_id=this._edit_id=n}else this._new_event||this.callEvent(o?"onEventAdded":"onEventChanged",[n,this.getEvent(n)]);else o?this.deleteEvent(i.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(i,this._drag_event),e._lame_copy(i,this._drag_event),this.updateEvent(i.id))}this._drag_pos&&(this._drag_pos.has_moved||!0===this._drag_pos)&&(this._drag_id=this._drag_mode=null,this.render_view_data()),e.callEvent("onDragEnd",[n,a,t])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._drag_event=null,this._drag_from_start=null}},e._trigger_dyn_loading=function(){return!(!this._load_mode||!this._load()||(this._render_wait=!0,0))},e.update_view=function(){this._reset_ignores(),this._update_nav_bar(this.config.header,this.$container.querySelector(".dhx_cal_navline"));var e=this[this._mode+"_view"];if(e?e.call(this,!0):this._reset_scale(),this._trigger_dyn_loading())return!0;this.render_view_data()},e.isViewExists=function(t){return!!(e[t+"_view"]||e.date[t+"_start"]&&e.templates[t+"_date"]&&e.templates[t+"_scale_date"])},e._set_aria_buttons_attrs=function(){for(var e=["dhx_cal_next_button","dhx_cal_prev_button","dhx_cal_tab","dhx_cal_today_button"],t=0;t<e.length;t++)for(var n=this._els[e[t]],a=0;n&&a<n.length;a++){var r=n[a].getAttribute("data-tab")||n[a].getAttribute("name"),i=this.locale.labels[e[t]];r&&(i=this.locale.labels[r+"_tab"]||this.locale.labels[r]||i),"dhx_cal_next_button"==e[t]?i=this.locale.labels.next:"dhx_cal_prev_button"==e[t]&&(i=this.locale.labels.prev),this._waiAria.headerButtonsAttributes(n[a],i||"")}},e.updateView=function(e,t){if(!this.$container)throw new Error("The scheduler is not initialized. \n **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**");e=e||this._date,t=t||this._mode;var n="dhx_cal_data";this.locale.labels.icon_form||(this.locale.labels.icon_form=this.locale.labels.icon_edit);var a=this._obj,r="dhx_scheduler_"+this._mode,i="dhx_scheduler_"+t;this._mode&&-1!=a.className.indexOf(r)?a.className=a.className.replace(r,i):a.className+=" "+i;var o,d="dhx_multi_day",s=!(this._mode!=t||!this.config.preserve_scroll)&&this._els[n][0].scrollTop;this._els[d]&&this._els[d][0]&&(o=this._els[d][0].scrollTop),this[this._mode+"_view"]&&t&&this._mode!=t&&this[this._mode+"_view"](!1),this._close_not_saved(),this._els[d]&&(this._els[d][0].parentNode.removeChild(this._els[d][0]),this._els[d]=null),this._mode=t,this._date=e,this._table_view="month"==this._mode,this._dy_shift=0,this.update_view(),this._set_aria_buttons_attrs();var l=this._els.dhx_cal_tab;if(l)for(var c=0;c<l.length;c++){var _=l[c];_.getAttribute("data-tab")==this._mode||_.getAttribute("name")==this._mode+"_tab"?(_.classList.add("active"),this._waiAria.headerToggleState(_,!0)):(_.classList.remove("active"),this._waiAria.headerToggleState(_,!1))}"number"==typeof s&&(this._els[n][0].scrollTop=s),"number"==typeof o&&this._els[d]&&this._els[d][0]&&(this._els[d][0].scrollTop=o)},e.setCurrentView=function(e,t){this.callEvent("onBeforeViewChange",[this._mode,this._date,t||this._mode,e||this._date])&&(this.updateView(e,t),this.callEvent("onViewChange",[this._mode,this._date]))},e.render=function(t,n){e.setCurrentView(t,n)},e._render_x_header=function(e,t,n,a,r){r=r||0;var i=document.createElement("div");i.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(i.className+=" "+this.templates[this._mode+"_scalex_class"](n));var o=this._cols[e];"month"==this._mode&&0===e&&this.config.left_border&&(i.className+=" dhx_scale_bar_border",t+=1),this.set_xy(i,o,this.xy.scale_height-1,t,r);var d=this.templates[this._mode+"_scale_date"](n,this._mode);i.innerHTML=d,this._waiAria.dayHeaderAttr(i,d),a.appendChild(i)},e._get_columns_num=function(t,n){var a=7;if(!e._table_view){var r=e.date["get_"+e._mode+"_end"];r&&(n=r(t)),a=Math.round((n.valueOf()-t.valueOf())/864e5)}return a},e._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},e._get_view_end=function(){var t=this._get_timeunit_start(),n=e.date.add(t,1,this._mode);if(!e._table_view){var a=e.date["get_"+e._mode+"_end"];a&&(n=a(t))}return n},e._calc_scale_sizes=function(e,t,n){var a=this.config.rtl,r=e,i=this._get_columns_num(t,n);this._process_ignores(t,i,"day",1);for(var o=i-this._ignores_detected,d=0;d<i;d++)this._ignores[d]?(this._cols[d]=0,o++):this._cols[d]=Math.floor(r/(o-d)),r-=this._cols[d],this._colsS[d]=(this._cols[d-1]||0)+(this._colsS[d-1]||(this._table_view?0:a?this.xy.scroll_width:this.xy.scale_width));this._colsS.col_length=i,this._colsS[i]=this._cols[i-1]+this._colsS[i-1]||0},e._set_scale_col_size=function(e,t,n){var a=this.config;this.set_xy(e,t,a.hour_size_px*(a.last_hour-a.first_hour),n+this.xy.scale_width+1,0)},e._render_scales=function(t,n){var a=new Date(e._min_date),r=new Date(e._max_date),i=this.date.date_part(e._currentDate()),o=parseInt(t.style.width,10)-1,d=new Date(this._min_date),s=this._get_columns_num(a,r);this._calc_scale_sizes(o,a,r);var l=0;t.innerHTML="";for(var c=0;c<s;c++){if(this._ignores[c]||this._render_x_header(c,l,d,t),!this._table_view){var _=document.createElement("div"),h="dhx_scale_holder";d.valueOf()==i.valueOf()&&(h+=" dhx_scale_holder_now"),_.setAttribute("data-column-index",c),this._ignores_detected&&this._ignores[c]&&(h+=" dhx_scale_ignore");for(let e=1*this.config.first_hour;e<this.config.last_hour;e++){const t=document.createElement("div");t.className="dhx_scale_time_slot dhx_scale_time_slot_hour_start",t.style.height=this.config.hour_size_px/2+"px";let n=new Date(d.getFullYear(),d.getMonth(),d.getDate(),e,0);t.setAttribute("data-slot-date",this.templates.format_date(n));let a=this.templates.time_slot_text(n);a&&(t.innerHTML=a);let r=this.templates.time_slot_class(n);r&&t.classList.add(r),_.appendChild(t);const i=document.createElement("div");i.className="dhx_scale_time_slot",n=new Date(d.getFullYear(),d.getMonth(),d.getDate(),e,30),i.setAttribute("data-slot-date",this.templates.format_date(n)),i.style.height=this.config.hour_size_px/2+"px",a=this.templates.time_slot_text(n),a&&(i.innerHTML=a),r=this.templates.time_slot_class(n),r&&i.classList.add(r),_.appendChild(i)}_.className=h+" "+this.templates.week_date_class(d,i),this._waiAria.dayColumnAttr(_,d),this._set_scale_col_size(_,this._cols[c],l),n.appendChild(_),this.callEvent("onScaleAdd",[_,d])}l+=this._cols[c],d=this.date.add(d,1,"day"),d=this.date.day_start(d)}},e._getNavDateElement=function(){return this.$container.querySelector(".dhx_cal_date")},e._reset_scale=function(){if(this.templates[this._mode+"_date"]){var t=this._els.dhx_cal_header[0],n=this._els.dhx_cal_data[0],a=this.config;t.innerHTML="",n.innerHTML="";var r,i,o=(a.readonly||!a.drag_resize?" dhx_resize_denied":"")+(a.readonly||!a.drag_move?" dhx_move_denied":"");n.className="dhx_cal_data"+o,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var d=this._get_timeunit_start(),s=e._get_view_end();r=i=this._table_view?e.date.week_start(d):d,this._min_date=r;var l=this.templates[this._mode+"_date"](d,s,this._mode),c=this._getNavDateElement();if(c&&(c.innerHTML=l,this._waiAria.navBarDateAttr(c,l)),this._max_date=s,e._render_scales(t,n),this._table_view)this._reset_month_scale(n,d,i);else if(this._reset_hours_scale(n,d,i),a.multi_day){var _="dhx_multi_day";this._els[_]&&(this._els[_][0].parentNode.removeChild(this._els[_][0]),this._els[_]=null);var h=document.createElement("div");h.className=_,h.style.visibility="hidden",h.style.display="none";var u=this._colsS[this._colsS.col_length],p=a.rtl?this.xy.scale_width:this.xy.scroll_width,f=Math.max(u+p,0);this.set_xy(h,f,0,0),n.parentNode.insertBefore(h,n);var v=h.cloneNode(!0);v.className=_+"_icon",v.style.visibility="hidden",v.style.display="none",this.set_xy(v,this.xy.scale_width+1,0,0),h.appendChild(v),this._els[_]=[h,v],e.event(this._els[_][0],"click",this._click.dhx_cal_data)}}},e._reset_hours_scale=function(t,n,a){var r=document.createElement("div");r.className="dhx_scale_holder";for(var i=new Date(1980,1,1,this.config.first_hour,0,0),o=1*this.config.first_hour;o<this.config.last_hour;o++){var d=document.createElement("div");d.className="dhx_scale_hour",d.style.height=this.config.hour_size_px+"px";var s=this.xy.scale_width;this.config.left_border&&(d.className+=" dhx_scale_hour_border"),d.style.width=s+"px";var l=e.templates.hour_scale(i);d.innerHTML=l,this._waiAria.hourScaleAttr(d,l),r.appendChild(d),i=this.date.add(i,1,"hour")}t.appendChild(r),this.config.scroll_hour&&(t.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},e._currentDate=function(){return e.config.now_date?new Date(e.config.now_date):new Date},e._reset_ignores=function(){this._ignores={},this._ignores_detected=0},e._process_ignores=function(t,n,a,r,i){this._reset_ignores();var o=e["ignore_"+this._mode];if(o)for(var d=new Date(t),s=0;s<n;s++)o(d)&&(this._ignores_detected+=1,this._ignores[s]=!0,i&&n++),d=e.date.add(d,r,a),e.date[a+"_start"]&&(d=e.date[a+"_start"](d))},e._render_month_scale=function(t,n,a,r){var i=e.date.add(n,1,"month"),o=new Date(a),d=e._currentDate();d=this.date.date_part(d),a=this.date.date_part(a),r=r||Math.ceil(Math.round((i.valueOf()-a.valueOf())/864e5)/7);for(var s=[],l=0;l<=7;l++){var c=this._cols[l]||0;isNaN(Number(c))||(c+="px"),s[l]=c}function _(t){var n=e._colsS.height;return void 0!==e._colsS.heights[t+1]&&(n=e._colsS.heights[t+1]-(e._colsS.heights[t]||0)),n}var h=0;const u=document.createElement("div");for(u.classList.add("dhx_cal_month_table"),l=0;l<r;l++){var p=document.createElement("div");p.classList.add("dhx_cal_month_row"),p.style.height=_(l)+"px",u.appendChild(p);for(var f=0;f<7;f++){var v=document.createElement("div");p.appendChild(v);var g="dhx_cal_month_cell";a<n?g+=" dhx_before":a>=i?g+=" dhx_after":a.valueOf()==d.valueOf()&&(g+=" dhx_now"),this._ignores_detected&&this._ignores[f]&&(g+=" dhx_scale_ignore"),v.className=g+" "+this.templates.month_date_class(a,d),v.setAttribute("data-cell-date",e.templates.format_date(a));var m="dhx_month_body",x="dhx_month_head";if(0===f&&this.config.left_border&&(m+=" dhx_month_body_border",x+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[f])v.appendChild(document.createElement("div")),v.appendChild(document.createElement("div"));else{v.style.width=s[f],this._waiAria.monthCellAttr(v,a);var b=document.createElement("div");b.style.height=e.xy.month_head_height+"px",b.className=x,b.innerHTML=this.templates.month_day(a),v.appendChild(b);var y=document.createElement("div");y.className=m,v.appendChild(y)}var w=a.getDate();(a=this.date.add(a,1,"day")).getDate()-w>1&&(a=new Date(a.getFullYear(),a.getMonth(),w+1,12,0))}e._colsS.heights[l]=h,h+=_(l)}return this._min_date=o,this._max_date=a,t.innerHTML="",t.appendChild(u),this._scales={},t.querySelectorAll("[data-cell-date]").forEach(t=>{const n=e.templates.parse_date(t.getAttribute("data-cell-date")),a=t.querySelector(".dhx_month_body");this._scales[+n]=a,this.callEvent("onScaleAdd",[this._scales[+n],n])}),this._max_date},e._reset_month_scale=function(t,n,a,r){var i=e.date.add(n,1,"month");a=this.date.date_part(a),r=r||Math.ceil(Math.round((i.valueOf()-a.valueOf())/864e5)/7);var o=Math.floor(t.clientHeight/r)-this.xy.month_head_height;return this._colsS.height=o+this.xy.month_head_height,this._colsS.heights=[],e._render_month_scale(t,n,a,r)},e.getView=function(t){return t||(t=e.getState().mode),e.matrix&&e.matrix[t]?e.matrix[t]:e._props&&e._props[t]?e._props[t]:null},e.getLabel=function(e,t){for(var n=this.config.lightbox.sections,a=0;a<n.length;a++)if(n[a].map_to==e)for(var r=n[a].options,i=0;i<r.length;i++)if(r[i].key==t)return r[i].label;return""},e.updateCollection=function(t,n){var a=e.serverList(t);return!!a&&(a.splice(0,a.length),a.push.apply(a,n||[]),e.callEvent("onOptionsLoad",[]),e.resetLightbox(),e.hideCover(),!0)},e._lame_clone=function(t,n){var a,r,i;for(n=n||[],a=0;a<n.length;a+=2)if(t===n[a])return n[a+1];if(t&&"object"==typeof t){for(i=Object.create(t),r=[Array,Date,Number,String,Boolean],a=0;a<r.length;a++)t instanceof r[a]&&(i=a?new r[a](t):new r[a]);for(a in n.push(t,i),t)Object.prototype.hasOwnProperty.apply(t,[a])&&(i[a]=e._lame_clone(t[a],n))}return i||t},e._lame_copy=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},e._get_date_from_pos=function(e){var t=this._min_date.valueOf()+6e4*(e.y*this.config.time_step+24*(this._table_view?0:e.x)*60);return new Date(this._correct_shift(t))},e.getActionData=function(e){var t=this._mouse_coords(e);return{date:this._get_date_from_pos(t),section:t.section}},e._focus=function(e,t){if(e&&e.focus)if(this._mobile)window.setTimeout(function(){e.focus()},10);else try{t&&e.select&&e.offsetWidth&&e.select(),e.focus()}catch{}},e._get_real_event_length=function(t,n,a){var r,i=n-t,d=this["ignore_"+this._mode],s=0;a.render?(s=this._get_date_index(a,t),r=this._get_date_index(a,n),t.valueOf()<e.getState().min_date.valueOf()&&(s=-o(t,e.getState().min_date)),n.valueOf()>e.getState().max_date.valueOf()&&(r+=o(n,e.getState().max_date))):r=Math.round(i/60/60/1e3/24);for(var l=!0;s<r;){var c=e.date.add(n,-a.x_step,a.x_unit);if(d&&d(n)&&(!l||l&&d(c)))i-=n-c;else{let e=0;const r=new Date(Math.max(c.valueOf(),t.valueOf())),o=n,d=new Date(r.getFullYear(),r.getMonth(),r.getDate(),a.first_hour||0),s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),a.last_hour||24),_=new Date(n.getFullYear(),n.getMonth(),n.getDate(),a.first_hour||0),h=new Date(n.getFullYear(),n.getMonth(),n.getDate(),a.last_hour||24);o.valueOf()>h.valueOf()&&(e+=o-h),o.valueOf()>_.valueOf()?e+=a._start_correction:e+=60*o.getHours()*60*1e3+60*o.getMinutes()*1e3,r.valueOf()<=s.valueOf()&&(e+=a._end_correction),r.valueOf()<d.valueOf()&&(e+=d.valueOf()-r.valueOf()),i-=e,l=!1}n=c,r--}return i},e._get_fictional_event_length=function(t,n,a,r){var i=new Date(t),o=r?-1:1;if(a._start_correction||a._end_correction){var d;d=r?60*i.getHours()+i.getMinutes()-60*(a.first_hour||0):60*(a.last_hour||0)-(60*i.getHours()+i.getMinutes());var s=60*(a.last_hour-a.first_hour),l=Math.ceil((n/6e4-d)/s);l<0&&(l=0),n+=l*(1440-s)*60*1e3}var c,_=new Date(1*t+n*o),h=this["ignore_"+this._mode],u=0;for(a.render?(u=this._get_date_index(a,i),c=this._get_date_index(a,_)):c=Math.round(n/60/60/1e3/24);"day"===a.x_unit?u*o<c*o:u*o<=c*o;){var p=e.date.add(i,a.x_step*o,a.x_unit);h&&h(i)&&(n+=(p-i)*o,c+=o),i=p,u+=o}return n},e._get_section_view=function(){return this.getView()},e._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},e._is_initialized=function(){var e=this.getState();return this._obj&&e.date&&e.mode},e._is_lightbox_open=function(){var e=this.getState();return null!==e.lightbox_id&&void 0!==e.lightbox_id}}(t),function(e){!function(){var t=new RegExp("<(?:.|\n)*?>","gm"),n=new RegExp(" +","gm");function a(e){return(e+"").replace(t," ").replace(n," ")}var r=new RegExp("'","gm");function i(e){return(e+"").replace(r,"&#39;")}for(var o in e._waiAria={getAttributeString:function(e){var t=[" "];for(var n in e)if("function"!=typeof e[n]&&"object"!=typeof e[n]){var r=i(a(e[n]));t.push(n+"='"+r+"'")}return t.push(" "),t.join(" ")},setAttributes:function(e,t){for(var n in t)e.setAttribute(n,a(t[n]));return e},labelAttr:function(e,t){return this.setAttributes(e,{"aria-label":t})},label:function(t){return e._waiAria.getAttributeString({"aria-label":t})},hourScaleAttr:function(e,t){this.labelAttr(e,t)},monthCellAttr:function(t,n){this.labelAttr(t,e.templates.day_date(n))},navBarDateAttr:function(e,t){this.labelAttr(e,t)},dayHeaderAttr:function(e,t){this.labelAttr(e,t)},dayColumnAttr:function(t,n){this.dayHeaderAttr(t,e.templates.day_date(n))},headerButtonsAttributes:function(e,t){return this.setAttributes(e,{role:"button","aria-label":t})},headerToggleState:function(e,t){return this.setAttributes(e,{"aria-pressed":t?"true":"false"})},getHeaderCellAttr:function(t){return e._waiAria.getAttributeString({"aria-label":t})},eventAttr:function(e,t){this._eventCommonAttr(e,t)},_eventCommonAttr:function(t,n){n.setAttribute("aria-label",a(e.templates.event_text(t.start_date,t.end_date,t))),e.config.readonly&&n.setAttribute("aria-readonly",!0),t.$dataprocessor_class&&n.setAttribute("aria-busy",!0),n.setAttribute("aria-selected",e.getState().select_id==t.id?"true":"false")},setEventBarAttr:function(e,t){this._eventCommonAttr(e,t)},_getAttributes:function(e,t){var n={setAttribute:function(e,t){this[e]=t}};return e.apply(this,[t,n]),n},eventBarAttrString:function(e){return this.getAttributeString(this._getAttributes(this.setEventBarAttr,e))},agendaHeadAttrString:function(){return this.getAttributeString({role:"row"})},agendaHeadDateString:function(e){return this.getAttributeString({role:"columnheader","aria-label":e})},agendaHeadDescriptionString:function(e){return this.agendaHeadDateString(e)},agendaDataAttrString:function(){return this.getAttributeString({role:"grid"})},agendaEventAttrString:function(e){var t=this._getAttributes(this._eventCommonAttr,e);return t.role="row",this.getAttributeString(t)},agendaDetailsBtnString:function(){return this.getAttributeString({role:"button","aria-label":e.locale.labels.icon_details})},gridAttrString:function(){return this.getAttributeString({role:"grid"})},gridRowAttrString:function(e){return this.agendaEventAttrString(e)},gridCellAttrString:function(e,t,n){return this.getAttributeString({role:"gridcell","aria-label":[void 0===t.label?t.id:t.label,": ",n]})},mapAttrString:function(){return this.gridAttrString()},mapRowAttrString:function(e){return this.gridRowAttrString(e)},mapDetailsBtnString:function(){return this.agendaDetailsBtnString()},minicalHeader:function(e,t){this.setAttributes(e,{id:t+"","aria-live":"assertice","aria-atomic":"true"})},minicalGrid:function(e,t){this.setAttributes(e,{"aria-labelledby":t+"",role:"grid"})},minicalRow:function(e){this.setAttributes(e,{role:"row"})},minicalDayCell:function(t,n){var a=n.valueOf()<e._max_date.valueOf()&&n.valueOf()>=e._min_date.valueOf();this.setAttributes(t,{role:"gridcell","aria-label":e.templates.day_date(n),"aria-selected":a?"true":"false"})},minicalHeadCell:function(e){this.setAttributes(e,{role:"columnheader"})},weekAgendaDayCell:function(t,n){var a=t.querySelector(".dhx_wa_scale_bar"),r=t.querySelector(".dhx_wa_day_data"),i=e.uid()+"";this.setAttributes(a,{id:i}),this.setAttributes(r,{"aria-labelledby":i})},weekAgendaEvent:function(e,t){this.eventAttr(t,e)},lightboxHiddenAttr:function(e){e.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},lightboxSectionButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},yearHeader:function(e,t){this.setAttributes(e,{id:t+""})},yearGrid:function(e,t){this.minicalGrid(e,t)},yearHeadCell:function(e){return this.minicalHeadCell(e)},yearRow:function(e){return this.minicalRow(e)},yearDayCell:function(e){this.setAttributes(e,{role:"gridcell"})},lightboxAttr:function(e){e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(t){return this.getAttributeString({role:"button","aria-label":e.locale.labels[t],tabindex:"0"})},eventMenuAttrString:function(t){return this.getAttributeString({role:"button","aria-label":e.locale.labels[t]})},lightboxHeader:function(e,t){e.setAttribute("aria-label",t)},lightboxSelectAttrString:function(t){var n="";switch(t){case"%Y":n=e.locale.labels.year;break;case"%m":n=e.locale.labels.month;break;case"%d":n=e.locale.labels.day;break;case"%H:%i":n=e.locale.labels.hour+" "+e.locale.labels.minute}return e._waiAria.getAttributeString({"aria-label":n})},messageButtonAttrString:function(e){return"tabindex='0' role='button' aria-label='"+e+"'"},messageInfoAttr:function(e){e.setAttribute("role","alert")},messageModalAttr:function(e,t){e.setAttribute("role","dialog"),t&&e.setAttribute("aria-labelledby",t)},quickInfoAttr:function(e){e.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(e,t){e.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(t){return e._waiAria.getAttributeString({role:"button","aria-label":t,tabindex:"0"})},tooltipAttr:function(e){e.setAttribute("role","tooltip")},tooltipVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(e){e.setAttribute("aria-hidden","true")}},e._waiAria)e._waiAria[o]=function(t){return function(){return e.config.wai_aria_attributes?t.apply(this,arguments):" "}}(e._waiAria[o])}()}(t),t.utils=ni,t.$domHelpers=fi,t.utils.dom=fi,t.uid=ni.uid,t.mixin=ni.mixin,t.defined=ni.defined,t.assert=function(e){return function(t,n){t||e.config.show_errors&&!1!==e.callEvent("onError",[n])&&(e.message?e.message({type:"error",text:n,expire:-1}):console.log(n))}}(t),t.copy=ni.copy,t._createDatePicker=function(e,n){return new Ai(t,e,n)},t._getFocusableNodes=fi.getFocusableNodes,t._getClassName=fi.getClassName,t._locate_css=fi.locateCss;const i=Ei(t);var o,d,s;t.utils.mixin(t,i),t.env=t.$env=xi,t.Promise=Promise,function(e){e.destructor=function(){for(var t in e.callEvent("onDestroy",[]),this.clearAll(),this.$container&&(this.$container.innerHTML=""),this._eventRemoveAll&&this._eventRemoveAll(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.detachAllEvents(),this)0===t.indexOf("$")&&delete this[t];e.$destroyed=!0}}(t),function(e){function t(e,t){var n={method:e};if(0===t.length)throw new Error("Arguments list of query is wrong.");if(1===t.length)return"string"==typeof t[0]?(n.url=t[0],n.async=!0):(n.url=t[0].url,n.async=t[0].async||!0,n.callback=t[0].callback,n.headers=t[0].headers),t[0].data?"string"!=typeof t[0].data?n.data=bi(t[0].data):n.data=t[0].data:n.data="",n;switch(n.url=t[0],e){case"GET":case"DELETE":n.callback=t[1],n.headers=t[2];break;case"POST":case"PUT":t[1]?"string"!=typeof t[1]?n.data=bi(t[1]):n.data=t[1]:n.data="",n.callback=t[2],n.headers=t[3]}return n}e.Promise=window.Promise,e.ajax={cache:!0,method:"get",serializeRequestParams:bi,parse:function(t){return"string"!=typeof t?t:(t=t.replace(/^[\s]+/,""),typeof DOMParser>"u"||e.$env.isIE?void 0!==window.ActiveXObject&&((n=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t)):n=(new DOMParser).parseFromString(t,"text/xml"),n);var n},xmltop:function(t,n,a){if(void 0===n.status||n.status<400){var r=n.responseXML?n.responseXML||n:this.parse(n.responseText||n);if(r&&null!==r.documentElement&&!r.getElementsByTagName("parsererror").length)return r.getElementsByTagName(t)[0]}return-1!==a&&e.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],a]),document.createElement("DIV")},xpath:function(t,n){if(n.nodeName||(n=n.responseXML||n),e.$env.isIE)return n.selectNodes(t)||[];for(var a,r=[],i=(n.ownerDocument||n).evaluate(t,n,null,XPathResult.ANY_TYPE,null);a=i.iterateNext();)r.push(a);return r},query:function(e){return this._call(e.method||"GET",e.url,e.data||"",e.async||!0,e.callback,e.headers)},get:function(e,n,a){var r=t("GET",arguments);return this.query(r)},getSync:function(e,n){var a=t("GET",arguments);return a.async=!1,this.query(a)},put:function(e,n,a,r){var i=t("PUT",arguments);return this.query(i)},del:function(e,n,a){var r=t("DELETE",arguments);return this.query(r)},post:function(e,n,a,r){1==arguments.length?n="":2==arguments.length&&"function"==typeof n&&(a=n,n="");var i=t("POST",arguments);return this.query(i)},postSync:function(e,n,a){n=null===n?"":String(n);var r=t("POST",arguments);return r.async=!1,this.query(r)},_call:function(t,n,a,r,i,o){return new e.Promise(function(d,s){var l=void 0===typeof XMLHttpRequest||e.$env.isIE?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,c=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);if(r&&l.addEventListener("readystatechange",function(){if(4==l.readyState||c&&3==l.readyState){if((200!=l.status||""===l.responseText)&&!e.callEvent("onAjaxError",[l]))return;setTimeout(function(){"function"==typeof i&&i.apply(window,[{xmlDoc:l,filePath:n}]),d(l),"function"==typeof i&&(i=null,l=null)},0)}}),"GET"!=t||this.cache||(n+=(n.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),l.open(t,n,r),o)for(var _ in o)l.setRequestHeader(_,o[_]);else"POST"==t.toUpperCase()||"PUT"==t||"DELETE"==t?l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==t&&(a=null);if(l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.send(a),!r)return{xmlDoc:l,filePath:n}}.bind(this))},urlSeparator:function(e){return-1!=e.indexOf("?")?"&":"?"}},e.$ajax=e.ajax}(t),function(e){var t=function(e,t){for(var n="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",a=e.match(/%[a-zA-Z]/g),r=0;r<a.length;r++)switch(a[r]){case"%j":case"%d":n+="set[2]=temp["+r+"]||1;";break;case"%n":case"%m":n+="set[1]=(temp["+r+"]||1)-1;";break;case"%y":n+="set[0]=temp["+r+"]*1+(temp["+r+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":n+="set[3]=temp["+r+"]||0;";break;case"%i":n+="set[4]=temp["+r+"]||0;";break;case"%Y":n+="set[0]=temp["+r+"]||0;";break;case"%a":case"%A":n+="set[3]=set[3]%12+((temp["+r+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":n+="set[5]=temp["+r+"]||0;";break;case"%M":n+="set[1]=this.locale.date.month_short_hash[temp["+r+"]]||0;";break;case"%F":n+="set[1]=this.locale.date.month_full_hash[temp["+r+"]]||0;"}var i="set[0],set[1],set[2],set[3],set[4],set[5]";return t&&(i=" Date.UTC("+i+")"),new Function("date","var set=[0,0,1,0,0,0]; "+n+" return new Date("+i+");")},n=function(t,n){const a=t.match(/%[a-zA-Z]/g);return function(t){for(var r=[0,0,1,0,0,0],i=t.match(/[a-zA-Z]+|[0-9]+/g),o=0;o<a.length;o++)switch(a[o]){case"%j":case"%d":r[2]=i[o]||1;break;case"%n":case"%m":r[1]=(i[o]||1)-1;break;case"%y":r[0]=1*i[o]+(i[o]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":r[3]=i[o]||0;break;case"%i":r[4]=i[o]||0;break;case"%Y":r[0]=i[o]||0;break;case"%a":case"%A":r[3]=r[3]%12+("am"==(i[o]||"").toLowerCase()?0:12);break;case"%s":r[5]=i[o]||0;break;case"%M":r[1]=e.locale.date.month_short_hash[i[o]]||0;break;case"%F":r[1]=e.locale.date.month_full_hash[i[o]]||0}return n?new Date(Date.UTC(r[0],r[1],r[2],r[3],r[4],r[5])):new Date(r[0],r[1],r[2],r[3],r[4],r[5])}};let a;function r(){var t=!1;return"auto"===e.config.csp?(void 0===a&&(a=function(){try{new Function("cspEnabled = false;"),a=!1}catch{a=!0}return a}()),t=a):t=e.config.csp,t}e.date={init:function(){for(var t=e.locale.date.month_short,n=e.locale.date.month_short_hash={},a=0;a<t.length;a++)n[t[a]]=a;for(t=e.locale.date.month_full,n=e.locale.date.month_full_hash={},a=0;a<t.length;a++)n[t[a]]=a},date_part:function(e){const t=new Date(e);var n=new Date(t);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getHours()&&(t.getDate()<n.getDate()||t.getMonth()<n.getMonth()||t.getFullYear()<n.getFullYear())&&t.setTime(t.getTime()+36e5*(24-t.getHours())),t},time_part:function(e){return(e.valueOf()/1e3-60*e.getTimezoneOffset())%86400},week_start:function(t){var n=t.getDay();return e.config.start_on_monday&&(0===n?n=6:n--),this.date_part(this.add(t,-1*n,"day"))},month_start:function(e){const t=new Date(e);return t.setDate(1),this.date_part(t)},year_start:function(e){const t=new Date(e);return t.setMonth(0),this.month_start(t)},day_start:function(e){const t=new Date(e);return this.date_part(t)},_add_days:function(e,t){var n=new Date(e.valueOf());if(n.setDate(n.getDate()+t),t==Math.round(t)&&t>0){var a=(+n-+e)%864e5;if(a&&e.getTimezoneOffset()==n.getTimezoneOffset()){var r=a/36e5;n.setTime(n.getTime()+60*(24-r)*60*1e3)}}return t>=0&&!e.getHours()&&n.getHours()&&(n.getDate()<e.getDate()||n.getMonth()<e.getMonth()||n.getFullYear()<e.getFullYear())&&n.setTime(n.getTime()+36e5*(24-n.getHours())),n},add:function(t,n,a){var r=new Date(t.valueOf());switch(a){case"day":r=e.date._add_days(r,n);break;case"week":r=e.date._add_days(r,7*n);break;case"month":r.setMonth(r.getMonth()+n);break;case"year":r.setYear(r.getFullYear()+n);break;case"hour":r.setTime(r.getTime()+60*n*60*1e3);break;case"minute":r.setTime(r.getTime()+60*n*1e3);break;default:return e.date["add_"+a](t,n,a)}return r},to_fixed:function(e){return e<10?"0"+e:e},copy:function(e){return new Date(e.valueOf())},date_to_str:function(t,n){return r()?(a=t,i=n,function(t){return a.replace(/%[a-zA-Z]/g,function(n){switch(n){case"%d":return i?e.date.to_fixed(t.getUTCDate()):e.date.to_fixed(t.getDate());case"%m":return i?e.date.to_fixed(t.getUTCMonth()+1):e.date.to_fixed(t.getMonth()+1);case"%j":return i?t.getUTCDate():t.getDate();case"%n":return i?t.getUTCMonth()+1:t.getMonth()+1;case"%y":return i?e.date.to_fixed(t.getUTCFullYear()%100):e.date.to_fixed(t.getFullYear()%100);case"%Y":return i?t.getUTCFullYear():t.getFullYear();case"%D":return i?e.locale.date.day_short[t.getUTCDay()]:e.locale.date.day_short[t.getDay()];case"%l":return i?e.locale.date.day_full[t.getUTCDay()]:e.locale.date.day_full[t.getDay()];case"%M":return i?e.locale.date.month_short[t.getUTCMonth()]:e.locale.date.month_short[t.getMonth()];case"%F":return i?e.locale.date.month_full[t.getUTCMonth()]:e.locale.date.month_full[t.getMonth()];case"%h":return i?e.date.to_fixed((t.getUTCHours()+11)%12+1):e.date.to_fixed((t.getHours()+11)%12+1);case"%g":return i?(t.getUTCHours()+11)%12+1:(t.getHours()+11)%12+1;case"%G":return i?t.getUTCHours():t.getHours();case"%H":return i?e.date.to_fixed(t.getUTCHours()):e.date.to_fixed(t.getHours());case"%i":return i?e.date.to_fixed(t.getUTCMinutes()):e.date.to_fixed(t.getMinutes());case"%a":return i?t.getUTCHours()>11?"pm":"am":t.getHours()>11?"pm":"am";case"%A":return i?t.getUTCHours()>11?"PM":"AM":t.getHours()>11?"PM":"AM";case"%s":return i?e.date.to_fixed(t.getUTCSeconds()):e.date.to_fixed(t.getSeconds());case"%W":return i?e.date.to_fixed(e.date.getUTCISOWeek(t)):e.date.to_fixed(e.date.getISOWeek(t));default:return n}})}):(t=t.replace(/%[a-zA-Z]/g,function(e){switch(e){case"%d":return'"+this.date.to_fixed(date.getDate())+"';case"%m":return'"+this.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+this.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+this.locale.date.day_short[date.getDay()]+"';case"%l":return'"+this.locale.date.day_full[date.getDay()]+"';case"%M":return'"+this.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+this.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+this.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+this.date.to_fixed(date.getHours())+"';case"%i":return'"+this.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+this.date.to_fixed(date.getSeconds())+"';case"%W":return'"+this.date.to_fixed(this.date.getISOWeek(date))+"';default:return e}}),n&&(t=t.replace(/date\.get/g,"date.getUTC")),new Function("date",'return "'+t+'";').bind(e));var a,i},str_to_date:function(a,i,o){var d=r()?n:t,s=d(a,i),l=/^[0-9]{4}(\-|\/)[0-9]{2}(\-|\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,c=/^[0-9]{2}\/[0-9]{2}\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/,_=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,h=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,u=d("%Y-%m-%d %H:%i:%s",i),p=d("%m/%d/%Y %H:%i:%s",i),f=d("%d-%m-%Y %H:%i:%s",i);return function(t){if(!o&&!e.config.parse_exact_format){if(t&&t.getISOWeek)return new Date(t);if("number"==typeof t)return new Date(t);if(a=t,l.test(String(a)))return u(t);if(n=t,c.test(String(n)))return p(t);if(function(e){return _.test(String(e))}(t))return f(t);if(function(e){return h.test(e)}(t))return new Date(t)}var n,a;return s.call(e,t)}},getISOWeek:function(e){if(!e)return!1;var t=(e=this.date_part(new Date(e))).getDay();0===t&&(t=7);var n=new Date(e.valueOf());n.setDate(e.getDate()+(4-t));var a=n.getFullYear(),r=Math.round((n.getTime()-new Date(a,0,1).getTime())/864e5);return 1+Math.floor(r/7)},getUTCISOWeek:function(e){return this.getISOWeek(this.convert_to_utc(e))},convert_to_utc:function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}}}(t),function(e){e.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D %j",hour_date:"%H:%i",month_day:"%d",date_format:"%Y-%m-%d %H:%i",api_date:"%d-%m-%Y %H:%i",parse_exact_format:!1,preserve_length:!0,time_step:5,displayed_event_color:"#ff4a4a",displayed_event_text_color:"#ffef80",wide_form:0,day_column_padding:8,use_select_menu_space:!0,fix_tab_position:!0,start_on_monday:!0,first_hour:0,last_hour:24,readonly:!1,drag_resize:!0,drag_move:!0,drag_create:!0,drag_event_body:!0,dblclick_create:!0,details_on_dblclick:!0,edit_on_create:!0,details_on_create:!0,header:null,hour_size_px:44,resize_month_events:!1,resize_month_timed:!1,responsive_lightbox:!1,separate_short_events:!0,rtl:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:200,drag_lightbox:!0,preserve_scroll:!0,select:!0,undo_deleted:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,touch_swipe_dates:!1,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_right:["dhx_save_btn","dhx_cancel_btn"],buttons_left:["dhx_delete_btn"],lightbox:{sections:[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1,ajax_error:"alert",delay_render:0,timeline_swap_resize:!0,wai_aria_attributes:!0,wai_aria_application_role:!0,csp:"auto",event_attribute:"data-event-id",show_errors:!0},e.config.buttons_left.$initial=e.config.buttons_left.join(),e.config.buttons_right.$initial=e.config.buttons_right.join(),e._helpers={parseDate:function(t){return(e.templates.xml_date||e.templates.parse_date)(t)},formatDate:function(t){return(e.templates.xml_format||e.templates.format_date)(t)}},e.templates={},e.init_templates=function(){var t=e.date.date_to_str,n=e.config;(function(e,t){for(var n in t)e[n]||(e[n]=t[n])})(e.templates,{day_date:t(n.default_date),month_date:t(n.month_date),week_date:function(t,a){return n.rtl?e.templates.day_date(e.date.add(a,-1,"day"))+" &ndash; "+e.templates.day_date(t):e.templates.day_date(t)+" &ndash; "+e.templates.day_date(e.date.add(a,-1,"day"))},day_scale_date:t(n.default_date),time_slot_text:function(e){return""},time_slot_class:function(e){return""},month_scale_date:t(n.week_date),week_scale_date:t(n.day_date),hour_scale:t(n.hour_date),time_picker:t(n.hour_date),event_date:t(n.hour_date),month_day:t(n.month_day),load_format:t(n.load_date),format_date:t(n.date_format,n.server_utc),parse_date:e.date.str_to_date(n.date_format,n.server_utc),api_date:e.date.str_to_date(n.api_date,!1,!1),event_header:function(t,n,a){return"small"===a._mode||"smallest"===a._mode?e.templates.event_date(t):e.templates.event_date(t)+" - "+e.templates.event_date(n)},event_text:function(e,t,n){return n.text},event_class:function(e,t,n){return""},month_date_class:function(e){return""},week_date_class:function(e){return""},event_bar_date:function(t,n,a){return e.templates.event_date(t)},event_bar_text:function(e,t,n){return n.text},month_events_link:function(e,t){return"<a>View more("+t+" events)</a>"},drag_marker_class:function(e,t,n){return""},drag_marker_content:function(e,t,n){return""},tooltip_date_format:e.date.date_to_str("%Y-%m-%d %H:%i"),tooltip_text:function(t,n,a){return"<b>Event:</b> "+a.text+"<br/><b>Start date:</b> "+e.templates.tooltip_date_format(t)+"<br/><b>End date:</b> "+e.templates.tooltip_date_format(n)},calendar_month:t("%F %Y"),calendar_scale_date:t("%D"),calendar_date:t("%d"),calendar_time:t("%d-%m-%Y")}),this.callEvent("onTemplatesReady",[])}}(t),function(e){e._events={},e.clearAll=function(){this._events={},this._loaded={},this._edit_id=null,this._select_id=null,this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._new_event=null,this.clear_view(),this.callEvent("onClearAll",[])},e.addEvent=function(t,n,a,r,i){if(!arguments.length)return this.addEventNow();var o=t;1!=arguments.length&&((o=i||{}).start_date=t,o.end_date=n,o.text=a,o.id=r),o.id=o.id||e.uid(),o.text=o.text||"","string"==typeof o.start_date&&(o.start_date=this.templates.api_date(o.start_date)),"string"==typeof o.end_date&&(o.end_date=this.templates.api_date(o.end_date));var d=6e4*(this.config.event_duration||this.config.time_step);new Date(o.end_date).valueOf()-new Date(o.start_date).valueOf()<=d&&o.end_date.setTime(o.start_date.valueOf()+d),o.start_date.setMilliseconds(0),o.end_date.setMilliseconds(0),o._timed=this.isOneDayEvent(o);var s=!this._events[o.id];return this._events[o.id]=o,this.event_updated(o),this._loading||this.callEvent(s?"onEventAdded":"onEventChanged",[o.id,o]),o.id},e.deleteEvent=function(t,n){var a=this._events[t];(n||this.callEvent("onBeforeEventDelete",[t,a])&&this.callEvent("onConfirmedBeforeEventDelete",[t,a]))&&(a&&(e.getState().select_id==t&&e.unselect(),delete this._events[t],this.event_updated(a),this._drag_id==a.id&&(this._drag_id=null,this._drag_mode=null,this._drag_pos=null)),this.callEvent("onEventDeleted",[t,a]))},e.getEvent=function(e){return this._events[e]},e.setEvent=function(e,t){t.id||(t.id=e),this._events[e]=t},e.for_rendered=function(e,t){for(var n=this._rendered.length-1;n>=0;n--)this._rendered[n].getAttribute(this.config.event_attribute)==e&&t(this._rendered[n],n)},e.changeEventId=function(t,n){if(t!=n){var a=this._events[t];a&&(a.id=n,this._events[n]=a,delete this._events[t]),this.for_rendered(t,function(t){t.setAttribute("event_id",n),t.setAttribute(e.config.event_attribute,n)}),this._select_id==t&&(this._select_id=n),this._edit_id==t&&(this._edit_id=n),this.callEvent("onEventIdChange",[t,n])}},function(){for(var t=["text","Text","start_date","StartDate","end_date","EndDate"],n=function(t){return function(n){return e.getEvent(n)[t]}},a=function(t){return function(n,a){var r=e.getEvent(n);r[t]=a,r._changed=!0,r._timed=this.isOneDayEvent(r),e.event_updated(r,!0)}},r=0;r<t.length;r+=2)e["getEvent"+t[r+1]]=n(t[r]),e["setEvent"+t[r+1]]=a(t[r])}(),e.event_updated=function(e,t){this.is_visible_events(e)?this.render_view_data():this.clear_event(e.id)},e.is_visible_events=function(e){if(!this._min_date||!this._max_date)return!1;if(e.start_date.valueOf()<this._max_date.valueOf()&&this._min_date.valueOf()<e.end_date.valueOf()){var t=e.start_date.getHours(),n=e.end_date.getHours()+e.end_date.getMinutes()/60,a=this.config.last_hour,r=this.config.first_hour;return!(!this._table_view&&(n>a||n<=r)&&(t>=a||t<r)&&!((e.end_date.valueOf()-e.start_date.valueOf())/36e5>24-(this.config.last_hour-this.config.first_hour)||t<a&&n>r))}return!1},e.isOneDayEvent=function(e){var t=new Date(e.end_date.valueOf()-1);return e.start_date.getFullYear()===t.getFullYear()&&e.start_date.getMonth()===t.getMonth()&&e.start_date.getDate()===t.getDate()&&e.end_date.valueOf()-e.start_date.valueOf()<864e5},e.get_visible_events=function(e){var t=[];for(var n in this._events)this.is_visible_events(this._events[n])&&(e&&!this._events[n]._timed||this.filter_event(n,this._events[n])&&t.push(this._events[n]));return t},e.filter_event=function(e,t){var n=this["filter_"+this._mode];return!n||n(e,t)},e._is_main_area_event=function(e){return!!e._timed},e.render_view_data=function(t,n){var a=!1;if(!t){if(a=!0,this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),t=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var r=0,i=t.length;r<i;r++)this._recalculate_timed(t[r]);if(this.config.multi_day&&!this._table_view){var o=[],d=[];for(r=0;r<t.length;r++)this._is_main_area_event(t[r])?o.push(t[r]):d.push(t[r]);if(!this._els.dhx_multi_day){var s=e._commonErrorMessages.unknownView(this._mode);throw new Error(s)}this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(d,n),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(o,n)}else{var l=document.createDocumentFragment(),c=this._els.dhx_cal_data[0];this._rendered_location=l,this.render_data(t,n),c.appendChild(l),this._rendered_location=c}a&&this.callEvent("onDataRender",[])},e._view_month_day=function(t){var n=e.getActionData(t).date;e.callEvent("onViewMoreClick",[n])&&e.setCurrentView(n,"day")},e._render_month_link=function(t){for(var n=this._rendered_location,a=this._lame_clone(t),r=t._sday;r<t._eday;r++){a._sday=r,a._eday=r+1;var i=e.date,o=e._min_date;o=i.add(o,a._sweek,"week"),o=i.add(o,a._sday,"day");var d=e.getEvents(o,i.add(o,1,"day")).length,s=this._get_event_bar_pos(a),l=s.x2-s.x,c=document.createElement("div");e.event(c,"click",function(t){e._view_month_day(t)}),c.className="dhx_month_link",c.style.top=s.y+"px",c.style.left=s.x+"px",c.style.width=l+"px",c.innerHTML=e.templates.month_events_link(o,d),this._rendered.push(c),n.appendChild(c)}},e._recalculate_timed=function(t){var n;t&&(n="object"!=typeof t?this._events[t]:t)&&(n._timed=e.isOneDayEvent(n))},e.attachEvent("onEventChanged",e._recalculate_timed),e.attachEvent("onEventAdded",e._recalculate_timed),e.render_data=function(t,n){t=this._pre_render_events(t,n);for(var a={},r=0;r<t.length;r++)if(this._table_view)if("month"!=e._mode)this.render_event_bar(t[r]);else{var i=e.config.max_month_events;i!==1*i||t[r]._sorder<i?this.render_event_bar(t[r]):void 0!==i&&t[r]._sorder==i&&e._render_month_link(t[r])}else{var o=t[r],d=e.locate_holder(o._sday);if(!d)continue;a[o._sday]||(a[o._sday]={real:d,buffer:document.createDocumentFragment(),width:d.clientWidth});var s=a[o._sday];this.render_event(o,s.buffer,s.width)}for(var r in a)(s=a[r]).real&&s.buffer&&s.real.appendChild(s.buffer)},e._get_first_visible_cell=function(e){for(var t=0;t<e.length;t++)if(-1==(e[t].className||"").indexOf("dhx_scale_ignore"))return e[t];return e[0]},e._pre_render_events=function(t,n){var a=this.xy.bar_height,r=this._colsS.heights,i=this._colsS.heights=[0,0,0,0,0,0,0],o=this._els.dhx_cal_data[0];if(t=this._table_view?this._pre_render_events_table(t,n):this._pre_render_events_line(t,n),this._table_view)if(n)this._colsS.heights=r;else{var d=o.querySelectorAll(".dhx_cal_month_row");if(d.length){for(var s=0;s<d.length;s++){i[s]++;var l=d[s].querySelectorAll(".dhx_cal_month_cell"),c=this._colsS.height-this.xy.month_head_height;if(i[s]*a>c){var _=c;1*this.config.max_month_events!==this.config.max_month_events||i[s]<=this.config.max_month_events?_=i[s]*a:(this.config.max_month_events+1)*a>c&&(_=(this.config.max_month_events+1)*a),d[s].style.height=_+this.xy.month_head_height+"px"}i[s]=(i[s-1]||0)+e._get_first_visible_cell(l).offsetHeight}i.unshift(0);const t=this.$container.querySelector(".dhx_cal_data");if(t.offsetHeight<t.scrollHeight&&!e._colsS.scroll_fix&&e.xy.scroll_width){var h=e._colsS,u=h[h.col_length],p=h.heights.slice();u-=e.xy.scroll_width||0,this._calc_scale_sizes(u,this._min_date,this._max_date),e._colsS.heights=p,this.set_xy(this._els.dhx_cal_header[0],u),e._render_scales(this._els.dhx_cal_header[0]),e._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),h.scroll_fix=!0}}else if(t.length||"visible"!=this._els.dhx_multi_day[0].style.visibility||(i[0]=-1),t.length||-1==i[0]){var f=(i[0]+1)*a+4,v=f,g=f+"px";this.config.multi_day_height_limit&&(g=(v=Math.min(f,this.config.multi_day_height_limit))+"px");var m=this._els.dhx_multi_day[0];m.style.height=g,m.style.visibility=-1==i[0]?"hidden":"visible",m.style.display=-1==i[0]?"none":"";var x=this._els.dhx_multi_day[1];x.style.height=g,x.style.visibility=-1==i[0]?"hidden":"visible",x.style.display=-1==i[0]?"none":"",x.className=i[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(i[0]+1)*a,this.config.multi_day_height_limit&&(this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift)),i[0]=0,v!=f&&(m.style.overflowY="auto",x.style.position="fixed",x.style.top="",x.style.left="")}}return t},e._get_event_sday=function(e){var t=this.date.day_start(new Date(e.start_date));return Math.round((t.valueOf()-this._min_date.valueOf())/864e5)},e._get_event_mapped_end_date=function(e){var t=e.end_date;if(this.config.separate_short_events){var n=(e.end_date-e.start_date)/6e4;n<this._min_mapped_duration&&(t=this.date.add(t,this._min_mapped_duration-n,"minute"))}return t},e._pre_render_events_line=function(e,t){e.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e.id>t.id?1:-1:e.start_date>t.start_date?1:-1});var n=[],a=[];this._min_mapped_duration=Math.floor(60*this.xy.min_event_height/this.config.hour_size_px);for(var r=0;r<e.length;r++){var i=e[r],o=i.start_date,d=i.end_date,s=o.getHours(),l=d.getHours();if(i._sday=this._get_event_sday(i),this._ignores[i._sday])e.splice(r,1),r--;else{if(n[i._sday]||(n[i._sday]=[]),!t){i._inner=!1;for(var c=n[i._sday];c.length;){var _=c[c.length-1];if(!(this._get_event_mapped_end_date(_).valueOf()<=i.start_date.valueOf()))break;c.splice(c.length-1,1)}for(var h=c.length,u=!1,p=0;p<c.length;p++)if(_=c[p],this._get_event_mapped_end_date(_).valueOf()<=i.start_date.valueOf()){u=!0,i._sorder=_._sorder,h=p,i._inner=!0;break}if(c.length&&(c[c.length-1]._inner=!0),!u)if(c.length)if(c.length<=c[c.length-1]._sorder){if(c[c.length-1]._sorder)for(p=0;p<c.length;p++){for(var f=!1,v=0;v<c.length;v++)if(c[v]._sorder==p){f=!0;break}if(!f){i._sorder=p;break}}else i._sorder=0;i._inner=!0}else{var g=c[0]._sorder;for(p=1;p<c.length;p++)c[p]._sorder>g&&(g=c[p]._sorder);i._sorder=g+1,i._inner=!1}else i._sorder=0;c.splice(h,h==c.length?0:1,i),c.length>(c.max_count||0)?(c.max_count=c.length,i._count=c.length):i._count=i._count?i._count:1}(s<this.config.first_hour||l>=this.config.last_hour)&&(a.push(i),e[r]=i=this._copy_event(i),s<this.config.first_hour&&(i.start_date.setHours(this.config.first_hour),i.start_date.setMinutes(0)),l>=this.config.last_hour&&(i.end_date.setMinutes(0),i.end_date.setHours(this.config.last_hour)),i.start_date>i.end_date||s==this.config.last_hour)&&(e.splice(r,1),r--)}}if(!t){for(r=0;r<e.length;r++)e[r]._count=n[e[r]._sday].max_count;for(r=0;r<a.length;r++)a[r]._count=n[a[r]._sday].max_count}return e},e._time_order=function(e){e.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e._timed&&!t._timed?1:!e._timed&&t._timed?-1:e.id>t.id?1:-1:e.start_date>t.start_date?1:-1})},e._is_any_multiday_cell_visible=function(t,n,a){var r=this._cols.length,i=!1,o=t,d=!0,s=new Date(n);for(e.date.day_start(new Date(n)).valueOf()!=n.valueOf()&&(s=e.date.day_start(s),s=e.date.add(s,1,"day"));o<s;){d=!1;var l=this.locate_holder_day(o,!1,a)%r;if(!this._ignores[l]){i=!0;break}o=e.date.add(o,1,"day")}return d||i},e._pre_render_events_table=function(t,n){this._time_order(t);for(var a,r=[],i=[[],[],[],[],[],[],[]],o=this._colsS.heights,d=this._cols.length,s={},l=0;l<t.length;l++){var c=t[l],_=c.id;s[_]||(s[_]={first_chunk:!0,last_chunk:!0});var h=s[_],u=a||c.start_date,p=c.end_date;u<this._min_date&&(h.first_chunk=!1,u=this._min_date),p>this._max_date&&(h.last_chunk=!1,p=this._max_date);var f=this.locate_holder_day(u,!1,c);if(c._sday=f%d,!this._ignores[c._sday]||!c._timed){var v=this.locate_holder_day(p,!0,c)||d;if(c._eday=v%d||d,c._length=v-f,c._sweek=Math.floor((this._correct_shift(u.valueOf(),1)-this._min_date.valueOf())/(864e5*d)),e._is_any_multiday_cell_visible(u,p,c)){var g,m=i[c._sweek];for(g=0;g<m.length&&!(m[g]._eday<=c._sday);g++);if(c._sorder&&n||(c._sorder=g),c._sday+c._length<=d)a=null,r.push(c),m[g]=c,o[c._sweek]=m.length-1,c._first_chunk=h.first_chunk,c._last_chunk=h.last_chunk;else{var x=this._copy_event(c);x.id=c.id,x._length=d-c._sday,x._eday=d,x._sday=c._sday,x._sweek=c._sweek,x._sorder=c._sorder,x.end_date=this.date.add(u,x._length,"day"),x._first_chunk=h.first_chunk,h.first_chunk&&(h.first_chunk=!1),r.push(x),m[g]=x,a=x.end_date,o[c._sweek]=m.length-1,l--}}else a=null}}return r},e._copy_dummy=function(){var e=new Date(this.start_date),t=new Date(this.end_date);this.start_date=e,this.end_date=t},e._copy_event=function(e){return this._copy_dummy.prototype=e,new this._copy_dummy},e._rendered=[],e.clear_view=function(){for(var e=0;e<this._rendered.length;e++){var t=this._rendered[e];t.parentNode&&t.parentNode.removeChild(t)}this._rendered=[]},e.updateEvent=function(e){var t=this.getEvent(e);this.clear_event(e),t&&this.is_visible_events(t)&&this.filter_event(e,t)&&(this._table_view||this.config.multi_day||t._timed)&&(this.config.update_render?this.render_view_data():"month"!=this.getState().mode||this.getState().drag_id||this.isOneDayEvent(t)?this.render_view_data([t],!0):this.render_view_data())},e.clear_event=function(t){this.for_rendered(t,function(t,n){t.parentNode&&t.parentNode.removeChild(t),e._rendered.splice(n,1)})},e._y_from_date=function(e){var t=60*e.getHours()+e.getMinutes();return Math.round((60*t*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},e._calc_event_y=function(t,n){n=n||0;var a=60*t.start_date.getHours()+t.start_date.getMinutes(),r=60*t.end_date.getHours()+t.end_date.getMinutes()||60*e.config.last_hour;return{top:this._y_from_date(t.start_date),height:Math.max(n,(r-a)*this.config.hour_size_px/60)}},e.render_event=function(t,n,a){var r=e.xy.menu_width,i=this.config.use_select_menu_space?0:r;if(!(t._sday<0)){var o=e.locate_holder(t._sday);if(o){n=n||o;var d=this._calc_event_y(t,e.xy.min_event_height),s=d.top,l=d.height,c=t._count||1,_=t._sorder||0;a=a||o.clientWidth,this.config.day_column_padding&&(a-=this.config.day_column_padding);var h=Math.floor((a-i)/c),u=_*h+1;if(t._inner||(h*=c-_),this.config.cascade_event_display){const e=this.config.cascade_event_count,n=this.config.cascade_event_margin;let r,o=(c-_-1)%e*n,d=_%e*n;c*n<a-this.config.day_column_padding?r=t._inner?o/2:0:(r=t._inner?o/3:0,u=d/3,c*n/2>a-this.config.day_column_padding&&(r=t._inner?o/e:0,u=d/e)),h=Math.floor(a-i-u-r)}t._mode=l<30?"smallest":l<42?"small":null;var p=this._render_v_bar(t,i+u,s,h,l,t._text_style,e.templates.event_header(t.start_date,t.end_date,t),e.templates.event_text(t.start_date,t.end_date,t));if("smallest"===t._mode?p.classList.add("dhx_cal_event--xsmall"):"small"===t._mode&&p.classList.add("dhx_cal_event--small"),this._waiAria.eventAttr(t,p),this._rendered.push(p),n.appendChild(p),u=u+parseInt(this.config.rtl?o.style.right:o.style.left,10)+i,this._edit_id==t.id){p.style.zIndex=1,h=Math.max(h,e.xy.editor_width),(p=document.createElement("div")).setAttribute("event_id",t.id),p.setAttribute(this.config.event_attribute,t.id),this._waiAria.eventAttr(t,p),p.className="dhx_cal_event dhx_cal_editor",this.config.rtl&&u++,this.set_xy(p,h,l,u,s),t.color&&p.style.setProperty("--dhx-scheduler-event-background",t.color);var f=e.templates.event_class(t.start_date,t.end_date,t);f&&(p.className+=" "+f);var v=document.createElement("div");v.style.cssText+="overflow:hidden;height:100%",p.appendChild(v),this._els.dhx_cal_data[0].appendChild(p),this._rendered.push(p),v.innerHTML="<textarea class='dhx_cal_editor'>"+t.text+"</textarea>",this._editor=v.querySelector("textarea"),e.event(this._editor,"keydown",function(t){if(t.shiftKey)return!0;var n=t.keyCode;n==e.keys.edit_save&&e.editStop(!0),n==e.keys.edit_cancel&&e.editStop(!1),n!=e.keys.edit_save&&n!=e.keys.edit_cancel||t.preventDefault&&t.preventDefault()}),e.event(this._editor,"selectstart",function(e){return e.cancelBubble=!0,!0}),e._focus(this._editor,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(0!==this.xy.menu_width&&this._select_id==t.id){this.config.cascade_event_display&&this._drag_mode&&(p.style.zIndex=1);for(var g,m=this.config["icons_"+(this._edit_id==t.id?"edit":"select")],x="",b=0;b<m.length;b++){const e=m[b];g=this._waiAria.eventMenuAttrString(e),x+=`<div class='dhx_menu_icon ${e}' title='${this.locale.labels[e]}' ${g}></div>`}var y=this._render_v_bar(t,u-r-1,s,r,null,"","<div class='dhx_menu_head'></div>",x,!0);t.color&&y.style.setProperty("--dhx-scheduler-event-background",t.color),t.textColor&&y.style.setProperty("--dhx-scheduler-event-color",t.textColor),this._els.dhx_cal_data[0].appendChild(y),this._rendered.push(y)}this.config.drag_highlight&&this._drag_id==t.id&&this.highlightEventPosition(t)}}},e._render_v_bar=function(t,n,a,r,i,o,d,s,l){var c=document.createElement("div"),_=t.id,h=l?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",u=e.getState();u.drag_id==t.id&&(h+=" dhx_cal_event_drag"),u.select_id==t.id&&(h+=" dhx_cal_event_selected");var p=e.templates.event_class(t.start_date,t.end_date,t);p&&(h=h+" "+p),this.config.cascade_event_display&&(h+=" dhx_cal_event_cascade");var f=r-1,v=`<div event_id="${_}" ${this.config.event_attribute}="${_}" class="${h}"\n\t\t\t\tstyle="position:absolute; top:${a}px; ${this.config.rtl?"right:":"left:"}${n}px; width:${f}px; height:${i}px; ${o||""}" \n\t\t\t\tdata-bar-start="${t.start_date.valueOf()}" data-bar-end="${t.end_date.valueOf()}">\n\t\t\t\t</div>`;c.innerHTML=v;var g=c.cloneNode(!0).firstChild;if(!l&&e.renderEvent(g,t,r,i,d,s))return t.color&&g.style.setProperty("--dhx-scheduler-event-background",t.color),t.textColor&&g.style.setProperty("--dhx-scheduler-event-color",t.textColor),g;g=c.firstChild,t.color&&g.style.setProperty("--dhx-scheduler-event-background",t.color),t.textColor&&g.style.setProperty("--dhx-scheduler-event-color",t.textColor);var m='<div class="dhx_event_move dhx_header" >&nbsp;</div>';m+='<div class="dhx_event_move dhx_title">'+d+"</div>",m+='<div class="dhx_body">'+s+"</div>";var x="dhx_event_resize dhx_footer";return(l||!1===t._drag_resize)&&(x="dhx_resize_denied "+x),m+='<div class="'+x+'" style=" width:'+(l?" margin-top:-1px;":"")+'" ></div>',g.innerHTML=m,g},e.renderEvent=function(){return!1},e.locate_holder=function(e){return"day"==this._mode?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[e]},e.locate_holder_day=function(e,t){var n=Math.floor((this._correct_shift(e,1)-this._min_date)/864e5);return t&&this.date.time_part(e)&&n++,n},e._get_dnd_order=function(e,t,n){if(!this._drag_event)return e;this._drag_event._orig_sorder?e=this._drag_event._orig_sorder:this._drag_event._orig_sorder=e;for(var a=t*e;a+t>n;)e--,a-=t;return Math.max(e,0)},e._get_event_bar_pos=function(t){var n=this.config.rtl,a=this._colsS,r=a[t._sday],i=a[t._eday];n&&(r=a[a.col_length]-a[t._eday]+a[0],i=a[a.col_length]-a[t._sday]+a[0]),i==r&&(i=a[t._eday+1]);var o=this.xy.bar_height,d=t._sorder;if(t.id==this._drag_id){var s=a.heights[t._sweek+1]-a.heights[t._sweek]-this.xy.month_head_height;d=e._get_dnd_order(d,o,s)}var l=d*o;return{x:r,x2:i,y:a.heights[t._sweek]+(a.height?this.xy.month_scale_height+2:2)+l}},e.render_event_bar=function(t){var n=this._rendered_location,a=this._get_event_bar_pos(t),r=a.y,i=a.x,o=a.x2,d="";if(o){var s=e.config.resize_month_events&&"month"==this._mode&&(!t._timed||e.config.resize_month_timed),l=document.createElement("div"),c=t.hasOwnProperty("_first_chunk")&&t._first_chunk,_=t.hasOwnProperty("_last_chunk")&&t._last_chunk,h=s&&(t._timed||c),u=s&&(t._timed||_),p=!0,f="dhx_cal_event_clear";t._timed&&!s||(p=!1,f="dhx_cal_event_line"),c&&(f+=" dhx_cal_event_line_start"),_&&(f+=" dhx_cal_event_line_end"),h&&(d+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),u&&(d+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var v=e.templates.event_class(t.start_date,t.end_date,t);v&&(f+=" "+v);var g=t.color?"--dhx-scheduler-event-background:"+t.color+";":"",m=t.textColor?"--dhx-scheduler-event-color:"+t.textColor+";":"",x=["position:absolute","top:"+r+"px","left:"+i+"px","width:"+(o-i-(p?1:0))+"px","height:"+(this.xy.bar_height-2)+"px",m,g,t._text_style||""].join(";"),b="<div event_id='"+t.id+"' "+this.config.event_attribute+"='"+t.id+"' class='"+f+"' style='"+x+"'"+this._waiAria.eventBarAttrString(t)+">";s&&(b+=d),"month"!=e.getState().mode||t._beforeEventChangedFlag||(t=e.getEvent(t.id)),t._timed&&(b+=`<span class='dhx_cal_event_clear_date'>${e.templates.event_bar_date(t.start_date,t.end_date,t)}</span>`),b+="<div class='dhx_cal_event_line_content'>",b+=e.templates.event_bar_text(t.start_date,t.end_date,t)+"</div>",b+="</div>",b+="</div>",l.innerHTML=b,this._rendered.push(l.firstChild),n.appendChild(l.firstChild)}},e._locate_event=function(e){for(var t=null;e&&!t&&e.getAttribute;)t=e.getAttribute(this.config.event_attribute),e=e.parentNode;return t},e.edit=function(e){this._edit_id!=e&&(this.editStop(!1,e),this._edit_id=e,this.updateEvent(e))},e.editStop=function(e,t){if(!t||this._edit_id!=t){var n=this.getEvent(this._edit_id);n&&(e&&(n.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(n.id),this._edit_stop_event(n,e))}},e._edit_stop_event=function(e,t){this._new_event?(t?this.callEvent("onEventAdded",[e.id,e]):e&&this.deleteEvent(e.id,!0),delete e.$new,this._new_event=null):t&&this.callEvent("onEventChanged",[e.id,e])},e.getEvents=function(e,t){var n=[];for(var a in this._events){var r=this._events[a];r&&(!e&&!t||r.start_date<t&&r.end_date>e)&&n.push(r)}return n},e.getRenderedEvent=function(t){if(t){for(var n=e._rendered,a=0;a<n.length;a++){var r=n[a];if(r.getAttribute(e.config.event_attribute)==t)return r}return null}},e.showEvent=function(t,n){t&&"object"==typeof t&&(n=t.mode,_=t.section,t=t.section);var a="number"==typeof t||"string"==typeof t?e.getEvent(t):t;if(n=n||e._mode,a&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[a,n]))){var r=e.config.scroll_hour;e.config.scroll_hour=a.start_date.getHours();var i=e.config.preserve_scroll;e.config.preserve_scroll=!1;var o=a.color,d=a.textColor;if(e.config.highlight_displayed_event&&(a.color=e.config.displayed_event_color,a.textColor=e.config.displayed_event_text_color),e.setCurrentView(new Date(a.start_date),n),e.config.scroll_hour=r,e.config.preserve_scroll=i,e.matrix&&e.matrix[n]){var s=e.getView(),l=s.y_property,c=e.getEvent(a.id);if(c){if(!_){var _=c[l];Array.isArray(_)?_=_[0]:"string"==typeof _&&e.config.section_delimiter&&_.indexOf(e.config.section_delimiter)>-1&&(_=_.split(e.config.section_delimiter)[0])}var h=s.getSectionTop(_),u=s.posFromDate(c.start_date),p=e.$container.querySelector(".dhx_timeline_data_wrapper");if(u-=(p.offsetWidth-s.dx)/2,h=h-p.offsetHeight/2+s.dy/2,s._smartRenderingEnabled())var f=s.attachEvent("onScroll",function(){v(),s.detachEvent(f)});s.scrollTo({left:u,top:h}),s._smartRenderingEnabled()||v()}}else v();e.callEvent("onAfterEventDisplay",[a,n])}function v(){a.color=o,a.textColor=d}}}(t),function(e){e._append_drag_marker=function(t){if(!t.parentNode){var n=e._els.dhx_cal_data[0].lastChild,a=e._getClassName(n);a.indexOf("dhx_scale_holder")<0&&n.previousSibling&&(n=n.previousSibling),a=e._getClassName(n),n&&0===a.indexOf("dhx_scale_holder")&&n.appendChild(t)}},e._update_marker_position=function(t,n){var a=e._calc_event_y(n,0);t.style.top=a.top+"px",t.style.height=a.height+"px"},e.highlightEventPosition=function(e){var t=document.createElement("div");t.setAttribute("event_id",e.id),t.setAttribute(this.config.event_attribute,e.id),this._rendered.push(t),this._update_marker_position(t,e);var n=this.templates.drag_marker_class(e.start_date,e.end_date,e),a=this.templates.drag_marker_content(e.start_date,e.end_date,e);t.className="dhx_drag_marker",n&&(t.className+=" "+n),a&&(t.innerHTML=a),this._append_drag_marker(t)}}(t),function(e){var t;e._loaded={},e._load=function(t,n){if(t=t||this._load_url){var a;if(t+=(-1==t.indexOf("?")?"?":"&")+"timeshift="+(new Date).getTimezoneOffset(),this.config.prevent_cache&&(t+="&uid="+this.uid()),n=n||this._date,this._load_mode){var r=this.templates.load_format;for(n=this.date[this._load_mode+"_start"](new Date(n.valueOf()));n>this._min_date;)n=this.date.add(n,-1,this._load_mode);a=n;for(var i=!0;a<this._max_date;)a=this.date.add(a,1,this._load_mode),this._loaded[r(n)]&&i?n=this.date.add(n,1,this._load_mode):i=!1;var o=a;do{a=o,o=this.date.add(a,-1,this._load_mode)}while(o>n&&this._loaded[r(o)]);if(a<=n)return!1;for(e.ajax.get(t+"&from="+r(n)+"&to="+r(a),d);n<a;)this._loaded[r(n)]=!0,n=this.date.add(n,1,this._load_mode)}else e.ajax.get(t,d);return this.callEvent("onXLS",[]),this.callEvent("onLoadStart",[]),!0}function d(t){e.on_load(t),e.callEvent("onLoadEnd",[])}},e._parsers={},(t=e)._parsers.xml={canParse:function(e,n){if(n.responseXML&&n.responseXML.firstChild)return!0;try{var a=t.ajax.parse(n.responseText),r=t.ajax.xmltop("data",a);if(r&&"data"===r.tagName)return!0}catch{}return!1},parse:function(e){var n;if(e.xmlDoc.responseXML||(e.xmlDoc.responseXML=t.ajax.parse(e.xmlDoc.responseText)),"data"!=(n=t.ajax.xmltop("data",e.xmlDoc)).tagName)return null;var a=n.getAttribute("dhx_security");a&&(window.dhtmlx&&(window.dhtmlx.security_key=a),t.security_key=a);for(var r=t.ajax.xpath("//coll_options",e.xmlDoc),i=0;i<r.length;i++){var o=r[i].getAttribute("for"),d=t.serverList[o];d||(t.serverList[o]=d=[]),d.splice(0,d.length);for(var s=t.ajax.xpath(".//item",r[i]),l=0;l<s.length;l++){for(var c=s[l].attributes,_={key:s[l].getAttribute("value"),label:s[l].getAttribute("label")},h=0;h<c.length;h++){var u=c[h];"value"!=u.nodeName&&"label"!=u.nodeName&&(_[u.nodeName]=u.nodeValue)}d.push(_)}}r.length&&t.callEvent("onOptionsLoad",[]);var p=t.ajax.xpath("//userdata",e.xmlDoc);for(i=0;i<p.length;i++){var f=t._xmlNodeToJSON(p[i]);t._userdata[f.name]=f.text}var v=[];for(n=t.ajax.xpath("//event",e.xmlDoc),i=0;i<n.length;i++){var g=v[i]=t._xmlNodeToJSON(n[i]);t._init_event(g)}return v}},function(e){e.json=e._parsers.json={canParse:function(e){if(e&&"object"==typeof e)return!0;if("string"==typeof e)try{var t=JSON.parse(e);return"[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t)}catch{return!1}return!1},parse:function(t){var n=[];"string"==typeof t&&(t=JSON.parse(t)),"[object Array]"===Object.prototype.toString.call(t)?n=t:t&&(t.events?n=t.events:t.data&&(n=t.data)),n=n||[],t.dhx_security&&(window.dhtmlx&&(window.dhtmlx.security_key=t.dhx_security),e.security_key=t.dhx_security);var a=t&&t.collections?t.collections:{},r=!1;for(var i in a)if(a.hasOwnProperty(i)){r=!0;var o=a[i],d=e.serverList[i];d||(e.serverList[i]=d=[]),d.splice(0,d.length);for(var s=0;s<o.length;s++){var l=o[s],c={key:l.value,label:l.label};for(var _ in l)if(l.hasOwnProperty(_)){if("value"==_||"label"==_)continue;c[_]=l[_]}d.push(c)}}r&&e.callEvent("onOptionsLoad",[]);for(var h=[],u=0;u<n.length;u++){var p=n[u];e._init_event(p),h.push(p)}return h}}}(e),function(e){e.ical=e._parsers.ical={canParse:function(e){return"string"==typeof e&&new RegExp("^BEGIN:VCALENDAR").test(e)},parse:function(e){var t=e.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(t.length){t[0]=t[0].replace(/[\r\n]+ /g,""),t[0]=t[0].replace(/[\r\n]+(?=[a-z \t])/g," "),t[0]=t[0].replace(/;[^:\r\n]*:/g,":");for(var n,a=[],r=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");null!==(n=r.exec(t));){for(var i,o={},d=/[^\r\n]+[\r\n]+/g;null!==(i=d.exec(n[1]));)this.parse_param(i.toString(),o);o.uid&&!o.id&&(o.id=o.uid),a.push(o)}return a}},parse_param:function(e,t){var n=e.indexOf(":");if(-1!=n){var a=e.substr(0,n).toLowerCase(),r=e.substr(n+1).replace(/\\,/g,",").replace(/[\r\n]+$/,"");"summary"==a?a="text":"dtstart"==a?(a="start_date",r=this.parse_date(r,0,0)):"dtend"==a&&(a="end_date",r=this.parse_date(r,0,0)),t[a]=r}},parse_date:function(t,n,a){var r=t.split("T"),i=!1;r[1]&&(n=r[1].substr(0,2),a=r[1].substr(2,2),i="Z"==r[1][6]);var o=r[0].substr(0,4),d=parseInt(r[0].substr(4,2),10)-1,s=r[0].substr(6,2);return e.config.server_utc||i?new Date(Date.UTC(o,d,s,n,a)):new Date(o,d,s,n,a)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"}}(e),e.on_load=function(e){var t;this.callEvent("onBeforeParse",[]);var n=!1,a=!1;for(var r in this._parsers){var i=this._parsers[r];if(i.canParse(e.xmlDoc.responseText,e.xmlDoc)){try{var o=e.xmlDoc.responseText;"xml"===r&&(o=e),(t=i.parse(o))||(n=!0)}catch{n=!0}a=!0;break}}if(!a)if(this._process&&this[this._process])try{t=this[this._process].parse(e.xmlDoc.responseText)}catch{n=!0}else n=!0;(n||e.xmlDoc.status&&e.xmlDoc.status>=400)&&(this.callEvent("onLoadError",[e.xmlDoc]),t=[]),this._process_loading(t),this.callEvent("onXLE",[]),this.callEvent("onParse",[])},e._process_loading=function(e){this._loading=!0,this._not_render=!0;for(var t=0;t<e.length;t++)this.callEvent("onEventLoading",[e[t]])&&this.addEvent(e[t]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},e._init_event=function(t){t.text=t.text||t._tagvalue||"",t.start_date=e._init_date(t.start_date),t.end_date=e._init_date(t.end_date)},e._init_date=function(t){return t?"string"==typeof t?e._helpers.parseDate(t):new Date(t):null};const n=yi(e);e.serialize=function(){const t=[],a=n();for(var r in a){const n={};var i=a[r];for(var o in i){if("$"==o.charAt(0)||"_"==o.charAt(0))continue;let t;const a=i[o];t=e.utils.isDate(a)?e.defined(e.templates.xml_format)?e.templates.xml_format(a):e.templates.format_date(a):a,n[o]=t}t.push(n)}return t},e.parse=function(e,t){this._process=t,this.on_load({xmlDoc:{responseText:e}})},e.load=function(e,t){"string"==typeof t&&(this._process=t,t=arguments[2]),this._load_url=e,this._after_call=t,this._load(e,this._date)},e.setLoadMode=function(e){"all"==e&&(e=""),this._load_mode=e},e.serverList=function(e,t){return t?(this.serverList[e]=t.slice(0),this.serverList[e]):(this.serverList[e]=this.serverList[e]||[],this.serverList[e])},e._userdata={},e._xmlNodeToJSON=function(e){for(var t={},n=0;n<e.attributes.length;n++)t[e.attributes[n].name]=e.attributes[n].value;for(n=0;n<e.childNodes.length;n++){var a=e.childNodes[n];1==a.nodeType&&(t[a.tagName]=a.firstChild?a.firstChild.nodeValue:"")}return t.text||(t.text=e.firstChild?e.firstChild.nodeValue:""),t},e.attachEvent("onXLS",function(){var e;!0===this.config.show_loading&&((e=this.config.show_loading=document.createElement("div")).className="dhx_loading",e.style.left=Math.round((this._x-128)/2)+"px",e.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(e))}),e.attachEvent("onXLE",function(){var e=this.config.show_loading;e&&"object"==typeof e&&(e.parentNode&&e.parentNode.removeChild(e),this.config.show_loading=!0)})}(t),function(e){function t(){const t=!0===e.config.csp,n=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body;return t||n?e.$root:document.body}e._lightbox_controls={},e.formSection=function(t){for(var n=this.config.lightbox.sections,a=0;a<n.length&&n[a].name!=t;a++);if(a===n.length)return null;var r=n[a];e._lightbox||e.getLightbox();var i=e._lightbox.querySelector(`#${r.id}`),o=i.nextSibling,d={section:r,header:i,node:o,getValue:function(t){return e.form_blocks[r.type].get_value(o,t||{},r)},setValue:function(t,n){return e.form_blocks[r.type].set_value(o,t,n||{},r)}},s=e._lightbox_controls["get_"+r.type+"_control"];return s?s(d):d},e._lightbox_controls.get_template_control=function(e){return e.control=e.node,e},e._lightbox_controls.get_select_control=function(e){return e.control=e.node.getElementsByTagName("select")[0],e},e._lightbox_controls.get_textarea_control=function(e){return e.control=e.node.getElementsByTagName("textarea")[0],e},e._lightbox_controls.get_time_control=function(e){return e.control=e.node.getElementsByTagName("select"),e},e._lightbox_controls.defaults={template:{height:30},textarea:{height:200},select:{height:23},time:{height:20}},e.form_blocks={template:{render:function(e){return`<div class='dhx_cal_ltext dhx_cal_template' ${e.height?`style='height:${e.height}px;'`:""}></div>`},set_value:function(e,t,n,a){e.innerHTML=t||""},get_value:function(e,t,n){return e.innerHTML||""},focus:function(e){}},textarea:{render:function(e){return`<div class='dhx_cal_ltext' ${e.height?`style='height:${e.height}px;'`:""}><textarea ${e.placeholder?`placeholder='${e.placeholder}'`:""}></textarea></div>`},set_value:function(t,n,a){e.form_blocks.textarea._get_input(t).value=n||""},get_value:function(t,n){return e.form_blocks.textarea._get_input(t).value},focus:function(t){var n=e.form_blocks.textarea._get_input(t);e._focus(n,!0)},_get_input:function(e){return e.getElementsByTagName("textarea")[0]}},select:{render:function(e){for(var t=`<div class='dhx_cal_ltext dhx_cal_select' ${e.height?`style='height:${e.height}px;'`:""}><select style='width:100%;'>`,n=0;n<e.options.length;n++)t+="<option value='"+e.options[n].key+"'>"+e.options[n].label+"</option>";return t+"</select></div>"},set_value:function(t,n,a,r){var i=t.firstChild;!i._dhx_onchange&&r.onchange&&(e.event(i,"change",r.onchange),i._dhx_onchange=!0),void 0===n&&(n=(i.options[0]||{}).value),i.value=n||""},get_value:function(e,t){return e.firstChild.value},focus:function(t){var n=t.firstChild;e._focus(n,!0)}},time:{render:function(t){t.time_format||(t.time_format=["%H:%i","%d","%m","%Y"]),t._time_format_order={};var n=t.time_format,a=e.config,r=e.date.date_part(e._currentDate()),i=1440,o=0;e.config.limit_time_select&&(i=60*a.last_hour+1,o=60*a.first_hour,r.setHours(a.first_hour));for(var d="",s=0;s<n.length;s++){var l=n[s];s>0&&(d+=" ");var c="",_="";switch(l){case"%Y":var h,u,p;c="dhx_lightbox_year_select",t._time_format_order[3]=s,t.year_range&&(isNaN(t.year_range)?t.year_range.push&&(u=t.year_range[0],p=t.year_range[1]):h=t.year_range),h=h||10;var f=f||Math.floor(h/2);u=u||r.getFullYear()-f,p=p||u+h;for(var v=u;v<p;v++)_+="<option value='"+v+"'>"+v+"</option>";break;case"%m":for(c="dhx_lightbox_month_select",t._time_format_order[2]=s,v=0;v<12;v++)_+="<option value='"+v+"'>"+this.locale.date.month_full[v]+"</option>";break;case"%d":for(c="dhx_lightbox_day_select",t._time_format_order[1]=s,v=1;v<32;v++)_+="<option value='"+v+"'>"+v+"</option>";break;case"%H:%i":c="dhx_lightbox_time_select",t._time_format_order[0]=s,v=o;var g=r.getDate();for(t._time_values=[];v<i;)_+="<option value='"+v+"'>"+this.templates.time_picker(r)+"</option>",t._time_values.push(v),r.setTime(r.valueOf()+60*this.config.time_step*1e3),v=24*(r.getDate()!=g?1:0)*60+60*r.getHours()+r.getMinutes()}if(_){var m=e._waiAria.lightboxSelectAttrString(l);d+="<select class='"+c+"' "+(t.readonly?"disabled='disabled'":"")+m+">"+_+"</select> "}}return`<div class='dhx_section_time' ${t.height?`style='height:${t.height}px;'`:""}>${d}<span style='font-weight:normal; font-size:10pt;' class='dhx_section_time_spacer'> &nbsp;&ndash;&nbsp; </span>${d}</div>`},set_value:function(t,n,a,r){var i,o,d=e.config,s=t.getElementsByTagName("select"),l=r._time_format_order;if(d.full_day){if(!t._full_day){var c="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+e.locale.labels.full_day+"&nbsp;</label></input>";e.config.wide_form||(c=t.previousSibling.innerHTML+c),t.previousSibling.innerHTML=c,t._full_day=!0}var _=t.previousSibling.getElementsByTagName("input")[0];_.checked=0===e.date.time_part(a.start_date)&&0===e.date.time_part(a.end_date),s[l[0]].disabled=_.checked,s[l[0]+s.length/2].disabled=_.checked,_.$_eventAttached||(_.$_eventAttached=!0,e.event(_,"click",function(){if(_.checked){var n={};e.form_blocks.time.get_value(t,n,r),i=e.date.date_part(n.start_date),(+(o=e.date.date_part(n.end_date))==+i||+o>=+i&&(0!==a.end_date.getHours()||0!==a.end_date.getMinutes()))&&(o=e.date.add(o,1,"day"))}else i=null,o=null;s[l[0]].disabled=_.checked,s[l[0]+s.length/2].disabled=_.checked,p(s,0,i||a.start_date),p(s,4,o||a.end_date)}))}if(d.auto_end_date&&d.event_duration)for(var h=function(){d.auto_end_date&&d.event_duration&&(i=new Date(s[l[3]].value,s[l[2]].value,s[l[1]].value,0,s[l[0]].value),o=new Date(i.getTime()+60*e.config.event_duration*1e3),p(s,4,o))},u=0;u<4;u++)s[u].$_eventAttached||(s[u].$_eventAttached=!0,e.event(s[u],"change",h));function p(e,t,n){for(var a=r._time_values,i=60*n.getHours()+n.getMinutes(),o=i,d=!1,s=0;s<a.length;s++){var c=a[s];if(c===i){d=!0;break}c<i&&(o=c)}e[t+l[0]].value=d?i:o,d||o||(e[t+l[0]].selectedIndex=-1),e[t+l[1]].value=n.getDate(),e[t+l[2]].value=n.getMonth(),e[t+l[3]].value=n.getFullYear()}p(s,0,a.start_date),p(s,4,a.end_date)},get_value:function(t,n,a){var r=t.getElementsByTagName("select"),i=a._time_format_order;if(n.start_date=new Date(r[i[3]].value,r[i[2]].value,r[i[1]].value,0,r[i[0]].value),n.end_date=new Date(r[i[3]+4].value,r[i[2]+4].value,r[i[1]+4].value,0,r[i[0]+4].value),!r[i[3]].value||!r[i[3]+4].value){var o=e.getEvent(e._lightbox_id);o&&(n.start_date=o.start_date,n.end_date=o.end_date)}return n.end_date<=n.start_date&&(n.end_date=e.date.add(n.start_date,e.config.time_step,"minute")),{start_date:new Date(n.start_date),end_date:new Date(n.end_date)}},focus:function(t){e._focus(t.getElementsByTagName("select")[0])}}},e._setLbPosition=function(e){e&&(e.style.top=Math.max(t().offsetHeight/2-e.offsetHeight/2,0)+"px",e.style.left=Math.max(t().offsetWidth/2-e.offsetWidth/2,0)+"px")},e.showCover=function(n){n&&(n.style.display="block",this._setLbPosition(n)),e.config.responsive_lightbox&&(document.documentElement.classList.add("dhx_cal_overflow_container"),t().classList.add("dhx_cal_overflow_container")),this.show_cover(),this._cover.style.display=""},e.showLightbox=function(t){if(t)if(this.callEvent("onBeforeLightbox",[t])){this.showCover(n);var n=this.getLightbox();this._setLbPosition(n),this._fill_lightbox(t,n),this._waiAria.lightboxVisibleAttr(n),this.callEvent("onLightbox",[t])}else this._new_event&&(this._new_event=null,e.getEvent(t)&&delete e.getEvent(t).$new)},e._fill_lightbox=function(t,n){var a=this.getEvent(t),r=n.getElementsByTagName("span"),i=[];if(e.templates.lightbox_header){i.push("");var o=e.templates.lightbox_header(a.start_date,a.end_date,a);i.push(o),r[1].innerHTML="",r[2].innerHTML=o}else{var d=this.templates.event_header(a.start_date,a.end_date,a),s=(this.templates.event_bar_text(a.start_date,a.end_date,a)||"").substr(0,70);i.push(d),i.push(s),r[1].innerHTML=d,r[2].innerHTML=s}this._waiAria.lightboxHeader(n,i.join(" "));for(var l=this.config.lightbox.sections,c=0;c<l.length;c++){var _=l[c],h=e._get_lightbox_section_node(_),u=this.form_blocks[_.type],p=void 0!==a[_.map_to]?a[_.map_to]:_.default_value;u.set_value.call(this,h,p,a,_),l[c].focus&&u.focus.call(this,h)}e._lightbox_id=t},e._get_lightbox_section_node=function(t){return e._lightbox.querySelector(`#${t.id}`).nextSibling},e._lightbox_out=function(t){for(var n=this.config.lightbox.sections,a=0;a<n.length;a++){var r=e._lightbox.querySelector(`#${n[a].id}`);r=r&&r.nextSibling;var i=this.form_blocks[n[a].type].get_value.call(this,r,t,n[a]);"auto"!=n[a].map_to&&(t[n[a].map_to]=i)}return t},e._empty_lightbox=function(t){var n=e._lightbox_id,a=this.getEvent(n);this._lame_copy(a,t),this.setEvent(a.id,a),this._edit_stop_event(a,!0),this.render_view_data()},e.hide_lightbox=function(t){e.endLightbox(!1,this.getLightbox())},e.hideCover=function(n){n&&(n.style.display="none"),this.hide_cover(),e.config.responsive_lightbox&&(document.documentElement.classList.remove("dhx_cal_overflow_container"),t().classList.remove("dhx_cal_overflow_container"))},e.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},e.show_cover=function(){this._cover||(this._cover=document.createElement("div"),this._cover.className="dhx_cal_cover",this._cover.style.display="none",e.event(this._cover,"mousemove",e._move_while_dnd),e.event(this._cover,"mouseup",e._finish_dnd),t().appendChild(this._cover))},e.save_lightbox=function(){var e=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));this.checkEvent("onEventSave")&&!this.callEvent("onEventSave",[this._lightbox_id,e,this._new_event])||(this._empty_lightbox(e),this.hide_lightbox())},e.startLightbox=function(e,t){this._lightbox_id=e,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=t,this.showCover(t)},e.endLightbox=function(t,n){n=n||e.getLightbox();var a=e.getEvent(this._lightbox_id);a&&this._edit_stop_event(a,t),t&&e.render_view_data(),this.hideCover(n),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null,this._waiAria.lightboxHiddenAttr(n),this.resetLightbox(),this.callEvent("onAfterLightbox",[])},e.resetLightbox=function(){e._lightbox&&!e._custom_lightbox&&e._lightbox.parentNode.removeChild(e._lightbox),e._lightbox=null},e.cancel_lightbox=function(){this._lightbox_id&&this.callEvent("onEventCancel",[this._lightbox_id,!!this._new_event]),this.hide_lightbox()},e.hideLightbox=e.cancel_lightbox,e._delete_event_confirm=function({event:t,message:n,title:a,callback:r,ok:i}){e._dhtmlx_confirm({message:n,title:a,callback:r,ok:i})},e._init_lightbox_events=function(){if(this.getLightbox().$_eventAttached)return;const t=this.getLightbox();t.$_eventAttached=!0,e.event(t,"click",function(t){t.target.closest(".dhx_cal_ltitle_close_btn")&&e.cancel_lightbox();const n=e.$domHelpers.closest(t.target,".dhx_btn_set");if(!n){const n=e.$domHelpers.closest(t.target,".dhx_custom_button[data-section-index]");if(n){const a=Number(n.getAttribute("data-section-index"));e.form_blocks[e.config.lightbox.sections[a].type].button_click(e.$domHelpers.closest(n,".dhx_cal_lsection"),n,t)}return}const a=n?n.getAttribute("data-action"):null;switch(a){case"dhx_save_btn":case"save":if(e.config.readonly_active)return;e.save_lightbox();break;case"dhx_delete_btn":case"delete":if(e.config.readonly_active)return;var r=e.locale.labels.confirm_deleting;e._delete_event_confirm({event:e.getEvent(e._lightbox_id),message:r,title:e.locale.labels.title_confirm_deleting,callback:function(){let t=e.getEvent(e._lightbox_id);t._thisAndFollowing?(t._removeFollowing=!0,e.callEvent("onEventSave",[t.id,t,e._new_event])):e.deleteEvent(e._lightbox_id),e._new_event=null,delete t.$new,e.hide_lightbox()},config:{ok:e.locale.labels.icon_delete}});break;case"dhx_cancel_btn":case"cancel":e.cancel_lightbox();break;default:e.callEvent("onLightboxButton",[a,n,t])}}),e.event(t,"keydown",function(t){var n=t||window.event,a=t.target||t.srcElement,r=a.querySelector("[dhx_button]");switch(r||(r=a.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(t||n).keyCode){case 32:if((t||n).shiftKey)return;r&&r.click&&r.click();break;case e.keys.edit_save:if((t||n).shiftKey)return;if(r&&r.click)r.click();else{if(e.config.readonly_active)return;e.save_lightbox()}break;case e.keys.edit_cancel:e.cancel_lightbox()}}),e.event(t,"click",function(n){if(n.target.closest(".dhx_lightbox_day_select")||n.target.closest(".dhx_lightbox_month_select")){const n=t.querySelectorAll(".dhx_lightbox_month_select"),a=t.querySelectorAll(".dhx_lightbox_day_select"),r=t.querySelectorAll(".dhx_lightbox_year_select");n.length&&a.length&&r&&n.forEach((t,n)=>{const i=a[n],o=parseInt(t.value,10);let d=parseInt(r[n].value,10);d||(d=new Date(e.getState().date).getFullYear());const s=new Date(d,o+1,0).getDate()||31;let l=i.value;i.innerHTML="";for(let e=1;e<=s;e++){const t=document.createElement("option");t.value=e,t.textContent=e,i.appendChild(t)}i.value=Math.min(l,s)})}})},e.setLightboxSize=function(){},e._init_dnd_events=function(){e.event(t(),"mousemove",e._move_while_dnd),e.event(t(),"mouseup",e._finish_dnd),e._init_dnd_events=function(){}},e._move_while_dnd=function(n){if(e._dnd_start_lb){document.dhx_unselectable||(t().classList.add("dhx_unselectable"),document.dhx_unselectable=!0);var a=e.getLightbox(),r=[n.pageX,n.pageY];a.style.top=e._lb_start[1]+r[1]-e._dnd_start_lb[1]+"px",a.style.left=e._lb_start[0]+r[0]-e._dnd_start_lb[0]+"px"}},e._ready_to_dnd=function(t){var n=e.getLightbox();e._lb_start=[n.offsetLeft,n.offsetTop],e._dnd_start_lb=[t.pageX,t.pageY]},e._finish_dnd=function(){e._lb_start&&(e._lb_start=e._dnd_start_lb=!1,t().classList.remove("dhx_unselectable"),document.dhx_unselectable=!1)},e.getLightbox=function(){if(!this._lightbox){var t=document.createElement("div");t.className="dhx_cal_light",e.config.wide_form&&(t.className+=" dhx_cal_light_wide"),e.form_blocks.recurring&&(t.className+=" dhx_cal_light_rec"),e.config.rtl&&(t.className+=" dhx_cal_light_rtl"),e.config.responsive_lightbox&&(t.className+=" dhx_cal_light_responsive"),t.style.visibility="hidden";var n=this._lightbox_template,a=this.config.buttons_right;n+="<div class='dhx_cal_lcontrols'>";for(var r=0;r<a.length;r++)n+="<div "+this._waiAria.lightboxButtonAttrString(a[r])+" data-action='"+a[r]+"' class='dhx_btn_set dhx_"+(e.config.rtl?"right":"left")+"_btn_set "+a[r]+"_set'><div class='dhx_btn_inner "+a[r]+"'></div><div>"+e.locale.labels[a[r]]+"</div></div>";a=this.config.buttons_left;var i=e.config.rtl;for(r=0;r<a.length;r++)n+="<div class='dhx_cal_lcontrols_push_right'></div>",n+="<div "+this._waiAria.lightboxButtonAttrString(a[r])+" data-action='"+a[r]+"' class='dhx_btn_set dhx_"+(i?"left":"right")+"_btn_set "+a[r]+"_set'><div class='dhx_btn_inner "+a[r]+"'></div><div>"+e.locale.labels[a[r]]+"</div></div>";n+="</div>",n+="</div>",t.innerHTML=n,e.config.drag_lightbox&&(e.event(t.firstChild,"mousedown",e._ready_to_dnd),e.event(t.firstChild,"selectstart",function(e){return e.preventDefault(),!1}),t.firstChild.style.cursor="move",e._init_dnd_events()),this._waiAria.lightboxAttr(t),this.show_cover(),this._cover.insertBefore(t,this._cover.firstChild),this._lightbox=t;var o=this.config.lightbox.sections;for(n="",r=0;r<o.length;r++){var d=this.form_blocks[o[r].type];if(d){o[r].id="area_"+this.uid();var s="";o[r].button&&(s="<div "+e._waiAria.lightboxSectionButtonAttrString(this.locale.labels["button_"+o[r].button])+" class='dhx_custom_button' data-section-index='"+r+"' index='"+r+"'><div class='dhx_custom_button_"+o[r].button+"'></div><div>"+this.locale.labels["button_"+o[r].button]+"</div></div>"),this.config.wide_form&&(n+="<div class='dhx_wrap_section'>");var l=this.locale.labels["section_"+o[r].name];"string"!=typeof l&&(l=o[r].name),n+="<div id='"+o[r].id+"' class='dhx_cal_lsection dhx_cal_lsection_"+o[r].name+"'>"+s+"<label>"+l+"</label></div>"+d.render.call(this,o[r]),n+="</div>"}}var c=t.getElementsByTagName("div");for(r=0;r<c.length;r++){var _=c[r];if("dhx_cal_larea"==e._getClassName(_)){_.innerHTML=n;break}}e._bindLightboxLabels(o),this.setLightboxSize(),this._init_lightbox_events(this),t.style.visibility="visible"}return this._lightbox},e._bindLightboxLabels=function(t){for(var n=0;n<t.length;n++){var a=t[n];if(a.id&&e._lightbox.querySelector(`#${a.id}`)){for(var r=e._lightbox.querySelector(`#${a.id}`).querySelector("label"),i=e._get_lightbox_section_node(a);i&&!i.querySelector;)i=i.nextSibling;var o=!0;if(i){var d=i.querySelector("input, select, textarea");d&&(a.inputId=d.id||"input_"+e.uid(),d.id||(d.id=a.inputId),r.setAttribute("for",a.inputId),o=!1)}o&&e.form_blocks[a.type].focus&&e.event(r,"click",function(t){return function(){var n=e.form_blocks[t.type],a=e._get_lightbox_section_node(t);n&&n.focus&&n.focus.call(e,a)}}(a))}}},e.attachEvent("onEventIdChange",function(e,t){this._lightbox_id==e&&(this._lightbox_id=t)}),e._lightbox_template="<div class='dhx_cal_ltitle'><div class=\"dhx_cal_ltitle_descr\"><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span>\n</div>\n<div class=\"dhx_cal_ltitle_controls\">\n<a class=\"dhx_cal_ltitle_close_btn scheduler_icon close\"></a>\n</div></div><div class='dhx_cal_larea'></div>"}(t),function(e){e._init_touch_events=function(){if((this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&(this.xy.scroll_width=0,this._mobile=!0),this.config.touch){var e=!0;try{document.createEvent("TouchEvent")}catch{e=!1}e?this._touch_events(["touchmove","touchstart","touchend"],function(e){return e.touches&&e.touches.length>1?null:e.touches[0]?{target:e.target,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:e},function(){return!1}):window.PointerEvent||window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(e){return"mouse"==e.pointerType?null:e},function(e){return!e||"mouse"==e.pointerType}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(e){return e.pointerType==e.MSPOINTER_TYPE_MOUSE?null:e},function(e){return!e||e.pointerType==e.MSPOINTER_TYPE_MOUSE})}},e._touch_events=function(t,n,a){var r,i,o,d,s,l,c=0;function _(t,n,r){e.event(t,n,function(t){return!!e._is_lightbox_open()||(a(t)?void 0:r(t))},{passive:!1})}function h(t){a(t)||(e._hide_global_tip(),d&&(e._on_mouse_up(n(t)),e._temp_touch_block=!1),e._drag_id=null,e._drag_mode=null,e._drag_pos=null,e._pointerDragId=null,clearTimeout(o),d=l=!1,s=!0)}_(document.body,t[0],function(t){if(!a(t)){var c=n(t);if(c){if(d)return function(t){if(!a(t)){var n=e.getState().drag_mode,r=!!e.matrix&&e.matrix[e._mode],i=e.render_view_data;"create"==n&&r&&(e.render_view_data=function(){for(var t=e.getState().drag_id,n=e.getEvent(t),a=r.y_property,i=e.getEvents(n.start_date,n.end_date),o=0;o<i.length;o++)i[o][a]!=n[a]&&(i.splice(o,1),o--);n._sorder=i.length-1,n._count=i.length,this.render_data([n],e.getState().mode)}),e._on_mouse_move(t),"create"==n&&r&&(e.render_view_data=i),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0}}(c),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,e._update_global_tip(),!1;i=n(t),l&&(i?(r.target!=i.target||Math.abs(r.pageX-i.pageX)>5||Math.abs(r.pageY-i.pageY)>5)&&(s=!0,clearTimeout(o)):s=!0)}}}),_(this._els.dhx_cal_data[0],"touchcancel",h),_(this._els.dhx_cal_data[0],"contextmenu",function(e){if(!a(e))return l?(e&&e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1):void 0}),_(this._obj,t[1],function(t){var _;if(document&&document.body&&document.body.classList.add("dhx_cal_touch_active"),!a(t))if(e._pointerDragId=t.pointerId,d=s=!1,l=!0,_=i=n(t)){var h=new Date;if(!s&&!d&&h-c<250)return e._click.dhx_cal_data(_),window.setTimeout(function(){e.$destroyed||e._on_dbl_click(_)},50),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,e._block_next_stop=!0,!1;if(c=h,!s&&!d&&e.config.touch_drag){var u=e._locate_event(document.activeElement),p=e._locate_event(_.target),f=r?e._locate_event(r.target):null;if(u&&p&&u==p&&u!=f)return t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,e._ignore_next_click=!1,e._click.dhx_cal_data(_),r=_,!1;o=setTimeout(function(){if(!e.$destroyed){d=!0;var t=r.target,n=e._getClassName(t);t&&-1!=n.indexOf("dhx_body")&&(t=t.previousSibling),e._on_mouse_down(r,t),e._drag_mode&&"create"!=e._drag_mode&&e.for_rendered(e._drag_id,function(t,n){t.style.display="none",e._rendered.splice(n,1)}),e.config.touch_tip&&e._show_global_tip(),e.updateEvent(e._drag_id)}},e.config.touch_drag),r=_}}else s=!0}),_(this._els.dhx_cal_data[0],t[2],function(t){if(document&&document.body&&document.body.classList.remove("dhx_cal_touch_active"),!a(t))return e.config.touch_swipe_dates&&!d&&function(t,n){if(!t||!n)return!1;for(var a=t.target;a&&a!=e._obj;)a=a.parentNode;if(a!=e._obj||e.matrix&&e.matrix[e.getState().mode]&&e.matrix[e.getState().mode].scrollable)return!1;var r=Math.abs(t.pageY-n.pageY),i=Math.abs(t.pageX-n.pageX);return r<100&&i>200&&(!r||i/r>3)&&(t.pageX>n.pageX?e._click.dhx_cal_next_button():e._click.dhx_cal_prev_button(),!0)}(r,i)&&(e._block_next_stop=!0),d&&(e._ignore_next_click=!0,setTimeout(function(){e._ignore_next_click=!1},100)),h(t),e._block_next_stop?(e._block_next_stop=!1,t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1):void 0}),e.event(document.body,t[2],h)},e._show_global_tip=function(){e._hide_global_tip();var t=e._global_tip=document.createElement("div");t.className="dhx_global_tip",e._update_global_tip(1),document.body.appendChild(t)},e._update_global_tip=function(t){var n=e._global_tip;if(n){var a="";if(e._drag_id&&!t){var r=e.getEvent(e._drag_id);r&&(a="<div>"+(r._timed?e.templates.event_header(r.start_date,r.end_date,r):e.templates.day_date(r.start_date,r.end_date,r))+"</div>")}"create"==e._drag_mode||"new-size"==e._drag_mode?n.innerHTML=(e.locale.labels.drag_to_create||"Drag to create")+a:n.innerHTML=(e.locale.labels.drag_to_move||"Drag to move")+a}},e._hide_global_tip=function(){var t=e._global_tip;t&&t.parentNode&&(t.parentNode.removeChild(t),e._global_tip=0)}}(t),function(e){e.getRootView=function(){return{view:{render:function(){return{tag:"div",type:1,attrs:{style:"width:100%;height:100%;"},hooks:{didInsert:function(){e.setCurrentView()}},body:[{el:this.el,type:1}]}},init:function(){var t=document.createElement("DIV");t.id="scheduler_"+e.uid(),t.style.width="100%",t.style.height="100%",t.classList.add("dhx_cal_container"),t.cmp="grid",t.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button"></div><div class="dhx_cal_next_button"></div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" data-tab="day"></div><div class="dhx_cal_tab" data-tab="week"></div><div class="dhx_cal_tab" data-tab="month"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',e.init(t),this.el=t}},type:4}}}(t),function(e){var t,n;function a(){if(e._is_material_skin())return!0;if(void 0!==n)return n;var t=document.createElement("div");t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_data'><div class='dhx_cal_event'><div class='dhx_body'></div></div><div>",document.body.appendChild(t);var a=window.getComputedStyle(t.querySelector(".dhx_body")).getPropertyValue("box-sizing");document.body.removeChild(t),(n="border-box"===a)||setTimeout(function(){n=void 0},1e3)}function r(){if(!e._is_material_skin()&&!e._border_box_events()){var r=n;n=void 0,t=void 0,r!==a()&&e.$container&&e.getState().mode&&e.setCurrentView()}}function i(e){var t=e.getMinutes();return t=t<10?"0"+t:t,"<span class='dhx_scale_h'>"+e.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+t+"</span>"}e._addThemeClass=function(){document.documentElement.setAttribute("data-scheduler-theme",e.skin)},e._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},e._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},e._is_material_skin=function(){return e.skin?(e.skin+"").indexOf("material")>-1:function(){if(void 0===t){var e=document.createElement("div");e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_scale_placeholder'></div><div>",document.body.appendChild(e);var n=window.getComputedStyle(e.querySelector(".dhx_cal_scale_placeholder")).getPropertyValue("position");t="absolute"===n,setTimeout(function(){t=null,e&&e.parentNode&&e.parentNode.removeChild(e)},500)}return t}()},e._build_skin_info=function(){!function(){const t=e.$container;clearInterval(o),t&&(o=setInterval(()=>{const n=getComputedStyle(t).getPropertyValue("--dhx-scheduler-theme");n&&n!==e.skin&&e.setSkin(n)},100))}();const t=getComputedStyle(this.$container),n=t.getPropertyValue("--dhx-scheduler-theme");let a,r=!!n,i={},d=!1;if(r){a=n;for(let n in e.xy)i[n]=t.getPropertyValue(`--dhx-scheduler-xy-${n}`);i.hour_size_px=t.getPropertyValue("--dhx-scheduler-config-hour_size_px"),i.wide_form=t.getPropertyValue("--dhx-scheduler-config-form_wide")}else a=function(){for(var e=document.getElementsByTagName("link"),t=0;t<e.length;t++){var n=e[t].href.match("dhtmlxscheduler_([a-z]+).css");if(n)return n[1]}}(),d=e._is_material_skin();if(e._theme_info={theme:a,cssVarTheme:r,oldMaterialTheme:d,values:i},e._theme_info.cssVarTheme){const t=this._theme_info.values;for(let n in e.xy)isNaN(parseInt(t[n]))||(e.xy[n]=parseInt(t[n]))}},e.event(window,"DOMContentLoaded",r),e.event(window,"load",r),e._border_box_events=function(){return a()},e._configure=function(e,t,n){for(var a in t)void 0===e[a]&&(e[a]=t[a][n])},e.setSkin=function(t){this.skin=t,e._addThemeClass(),e.$container&&(this._skin_init(),this.render())};let o=null;e.attachEvent("onDestroy",function(){clearInterval(o)}),e._skin_init=function(){this._build_skin_info(),this.skin||(this.skin=this._theme_info.theme),e._addThemeClass(),"flat"===e.skin?e.templates.hour_scale=i:e.templates.hour_scale===i&&(e.templates.hour_scale=e.date.date_to_str(e.config.hour_date)),e.attachEvent("onTemplatesReady",function(){var t=e.date.date_to_str("%d");e.templates._old_month_day||(e.templates._old_month_day=e.templates.month_day);var n=e.templates._old_month_day;e.templates.month_day=function(a){if("month"==this._mode){var r=t(a);return 1==a.getDate()&&(r=e.locale.date.month_full[a.getMonth()]+" "+r),+a==+e.date.date_part(this._currentDate())&&(r=e.locale.labels.dhx_cal_today_button+" "+r),r}return n.call(this,a)},e.config.fix_tab_position&&(e._els.dhx_cal_navline[0].querySelectorAll("[data-tab]").forEach(e=>{switch(e.getAttribute("data-tab")||e.getAttribute("name")){case"day":case"day_tab":e.classList.add("dhx_cal_tab_first"),e.classList.add("dhx_cal_tab_segmented");break;case"week":case"week_tab":e.classList.add("dhx_cal_tab_segmented");break;case"month":case"month_tab":e.classList.add("dhx_cal_tab_last"),e.classList.add("dhx_cal_tab_segmented");break;default:e.classList.add("dhx_cal_tab_standalone")}}),function(t){if(e.config.header)return;const n=Array.from(t.querySelectorAll(".dhx_cal_tab")),a=["day","week","month"].map(e=>n.find(t=>t.getAttribute("data-tab")===e)).filter(e=>void 0!==e);let r=n.length>0?n[0]:null;a.reverse().forEach(e=>{t.insertBefore(e,r),r=e})}(e._els.dhx_cal_navline[0]))},{once:!0})}}(t),typeof window<"u"&&window.jQuery&&(o=window.jQuery,d=0,s=[],o.fn.dhx_scheduler=function(e){if("string"!=typeof e){var t=[];return this.each(function(){if(this&&this.getAttribute)if(this.getAttribute("dhxscheduler"))t.push(window[this.getAttribute("dhxscheduler")]);else{var n="scheduler";d&&(n="scheduler"+(d+1),window[n]=Scheduler.getSchedulerInstance());var a=window[n];for(var r in this.setAttribute("dhxscheduler",n),e)"data"!=r&&(a.config[r]=e[r]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button"></div><div class="dhx_cal_next_button"></div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),a.init(this,a.config.date,a.config.mode),e.data&&a.parse(e.data),t.push(a),d++}}),1===t.length?t[0]:t}if(s[e])return s[e].apply(this,[]);o.error("Method "+e+" does not exist on jQuery.dhx_scheduler")}),function(e){!function(){var t=e.setCurrentView,n=e.updateView,a=null,r=null,i=function(t,i){var o=this;Wr.clearTimeout(r),Wr.clearTimeout(a);var s=o._date,l=o._mode;d(this,t,i),r=setTimeout(function(){e.$destroyed||(o.callEvent("onBeforeViewChange",[l,s,i||o._mode,t||o._date])?(n.call(o,t,i),o.callEvent("onViewChange",[o._mode,o._date]),Wr.clearTimeout(a),r=0):d(o,s,l))},e.config.delay_render)},o=function(t,i){var o=this,s=arguments;d(this,t,i),Wr.clearTimeout(a),a=setTimeout(function(){e.$destroyed||r||n.apply(o,s)},e.config.delay_render)};function d(e,t,n){t&&(e._date=t),n&&(e._mode=n)}e.attachEvent("onSchedulerReady",function(){e.config.delay_render?(e.setCurrentView=i,e.updateView=o):(e.setCurrentView=t,e.updateView=n)})}()}(t),function(e){e.createDataProcessor=function(t){var n,a;t instanceof Function?n=t:t.hasOwnProperty("router")?n=t.router:t.hasOwnProperty("event")&&(n=t),a=n?"CUSTOM":t.mode||"REST-JSON";var r=new ki(t.url);return r.init(e),r.setTransactionMode({mode:a,router:n},t.batchUpdate),r},e.DataProcessor=ki}(t),function(e){e.attachEvent("onSchedulerReady",function(){typeof dhtmlxError<"u"&&window.dhtmlxError.catchError("LoadXML",function(t,n,a){var r=a[0].responseText;switch(e.config.ajax_error){case"alert":Wr.alert(r);break;case"console":Wr.console.log(r)}})})}(t);const l=new Di(Si);t.i18n={addLocale:l.addLocale,setLocale:function(e){if("string"==typeof e){var n=l.getLocale(e);n||(n=l.getLocale("en")),t.locale=n}else if(e)if(t.locale)for(var a in e)e[a]&&"object"==typeof e[a]?(t.locale[a]||(t.locale[a]={}),t.mixin(t.locale[a],e[a],!0)):t.locale[a]=e[a];else t.locale=e;var r=t.locale.labels;r.dhx_save_btn=r.icon_save,r.dhx_cancel_btn=r.icon_cancel,r.dhx_delete_btn=r.icon_delete,t.$container&&t.get_elements()},getLocale:l.getLocale},t.i18n.setLocale("en"),t.ext={},Qr(t);const c={};return t.plugins=function(n){return function(e,t,n){const a=[];for(const n in e)if(e[n]){const r=n.toLowerCase();t[r]&&t[r].forEach(function(t){const n=t.toLowerCase();e[n]||a.push(n)}),a.push(r)}return a.sort(function(e,t){const a=n[e]||0,r=n[t]||0;return a>r?1:a<r?-1:0}),a}(n,{treetimeline:["timeline"],daytimeline:["timeline"],outerdrag:["legacy"]},{legacy:1,limit:1,timeline:2,daytimeline:3,treetimeline:3,outerdrag:6}).forEach(function(n){if(!c[n]){const a=e.getExtension(n);if(!a)throw new Error("unknown plugin "+n);a(t),c[n]=!0}}),c},t.plugins({all_timed:"short"}),t}class Ti{constructor(e){this._extensions={};for(const t in e)this._extensions[t]=e[t]}addExtension(e,t){this._extensions[e]=t}getExtension(e){return this._extensions[e]}}typeof dhtmlx<"u"&&dhtmlx.attaches&&(dhtmlx.attaches.attachScheduler=function(e,t,n,a){n=n||'<div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div>';var r=document.createElement("DIV");return r.id="dhxSchedObj_"+this._genStr(12),r.innerHTML='<div id="'+r.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button"></div><div class="dhx_cal_next_button"></div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+n+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>',document.body.appendChild(r.firstChild),this.attachObject(r.id,!1,!0),this.vs[this.av].sched=a,this.vs[this.av].schedId=r.id,a.setSizes=a.updateView,a.destructor=function(){},a.init(r.id,e,t),this.vs[this._viewRestore()].sched});const Ci=(e,t)=>{t(!1,`The ${e} extension is not included in this version of dhtmlxScheduler.<br>\n\t\tYou may need a <a href="https://docs.dhtmlx.com/scheduler/editions_comparison.html" target="_blank">Professional version of the component</a>.<br>\n\t\tContact us at <a href="https://dhtmlx.com/docs/contact.shtml" target="_blank">https://dhtmlx.com/docs/contact.shtml</a> if you have any questions.`)};class Ni{constructor(e){this.map=null,this._markers=[],this.scheduler=e}onEventClick(e){if(this._markers&&this._markers.length>0)for(let t=0;t<this._markers.length;t++)if(e.id==this._markers[t].event.id){let n=this.settings.zoom_after_resolve||this.settings.initial_zoom;e.lat&&e.lng?(this.map.setCenter({lat:e.lat,lng:e.lng}),this.map.setZoom(n)):(this.map.setCenter({lat:this.settings.error_position.lat,lng:this.settings.error_position.lng}),this.map.setZoom(n)),google.maps.event.trigger(this._markers[t].marker,"click")}}initialize(e,t){this.settings=t;let n=this.scheduler,a={center:{lat:t.initial_position.lat,lng:t.initial_position.lng},zoom:t.initial_zoom,mapId:e.id,scrollwheel:!0,mapTypeId:t.type};if(null===this.map)this.map=new google.maps.Map(e,a);else{let t=this.map;e.appendChild(this.map.__gm.messageOverlay),e.appendChild(this.map.__gm.outerContainer),setTimeout(function(){t.setOptions({container:e.id})},500)}google.maps.event.addListener(this.map,"dblclick",function(e){const t=new google.maps.Geocoder;if(!n.config.readonly&&n.config.dblclick_create){let a=e.latLng;t.geocode({latLng:a},function(e,t){t==google.maps.GeocoderStatus.OK?(a=e[0].geometry.location,n.addEventNow({lat:a.lat(),lng:a.lng(),event_location:e[0].formatted_address,start_date:n.getState().date,end_date:n.date.add(n.getState().date,n.config.time_step,"minute")})):console.error("Geocode was not successful for the following reason: "+t)})}})}destroy(e){for(google.maps.event.clearInstanceListeners(window),google.maps.event.clearInstanceListeners(document),google.maps.event.clearInstanceListeners(e);e.firstChild;)e.firstChild.remove();e.innerHTML=""}async addEventMarker(e){let t={title:e.text,position:{},map:{}};e.lat&&e.lng?t.position={lat:e.lat,lng:e.lng}:t.position={lat:this.settings.error_position.lat,lng:this.settings.error_position.lng};const{AdvancedMarkerElement:n}=await google.maps.importLibrary("marker");let a;this.scheduler.ext.mapView.createMarker?(t.map=this.map,a=this.scheduler.ext.mapView.createMarker(t)):(a=new n(t),a.map=this.map),a.setMap(this.map),"true_deleted"==e["!nativeeditor_status"]&&a.setMap(null),google.maps.event.addListener(a,"click",()=>{this.infoWindow&&this.infoWindow.close(),this.infoWindow=new google.maps.InfoWindow({maxWidth:this.settings.info_window_max_width}),this.infoWindow.setContent(this.scheduler.templates.map_info_content(e)),this.infoWindow.open({anchor:a,map:this.map})});let r={event:e,...t,marker:a};this._markers.push(r)}removeEventMarker(e){for(let t=0;t<this._markers.length;t++)e==this._markers[t].event.id&&(this._markers[t].marker.setVisible(!1),this._markers[t].marker.setMap(null),this._markers[t].marker.setPosition(null),this._markers[t].marker=null,this._markers.splice(t,1),t--)}updateEventMarker(e){for(let t=0;t<this._markers.length;t++)if(this._markers[t].event.id==e.id){this._markers[t].event=e,this._markers[t].position.lat=e.lat,this._markers[t].position.lng=e.lng,this._markers[t].text=e.text;let n=new google.maps.LatLng(e.lat,e.lng);this._markers[t].marker.setPosition(n)}}clearEventMarkers(){if(this._markers.length>0){for(let e=0;e<this._markers.length;e++)this._markers[e].marker.setMap(null);this._markers=[]}}setView(e,t,n){this.map.setCenter({lat:e,lng:t}),this.map.setZoom(n)}async resolveAddress(e){const t=new google.maps.Geocoder;return await new Promise(n=>{t.geocode({address:e},function(e,t){t==google.maps.GeocoderStatus.OK?n({lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng()}):(console.error("Geocode was not successful for the following reason: "+t),n({}))})})}}class Oi{constructor(e){this.map=null,this._markers=[],this.scheduler=e}onEventClick(e){if(this._markers&&this._markers.length>0)for(let t=0;t<this._markers.length;t++)e.id==this._markers[t].event.id&&(this._markers[t].marker.openPopup(),this._markers[t].marker.closeTooltip(),e.lat&&e.lng?this.setView(e.lat,e.lng,this.settings.zoom_after_resolve||this.settings.initial_zoom):this.setView(this.settings.error_position.lat,this.settings.error_position.lng,this.settings.zoom_after_resolve||this.settings.initial_zoom))}initialize(e,t){let n=this.scheduler,a=document.createElement("div");a.className="mapWrapper",a.id="mapWrapper",a.style.width=e.style.width,a.style.height=e.style.height,e.appendChild(a);let r=L.map(a,{center:L.latLng(t.initial_position.lat,t.initial_position.lng),zoom:t.initial_zoom,keyboard:!1});L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(r),r.on("dblclick",async function(e){let t=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${e.latlng.lat}&lon=${e.latlng.lng}&format=json`,{method:"GET",headers:{"Accept-Language":"en"}}).then(e=>e.json());if(t.address){let a=t.address.country;n.addEventNow({lat:e.latlng.lat,lng:e.latlng.lng,event_location:a,start_date:n.getState().date,end_date:n.date.add(n.getState().date,n.config.time_step,"minute")})}else console.error("unable recieve a position of the event",t.error)}),this.map=r,this.settings=t}destroy(e){for(this.map.remove();e.firstChild;)e.firstChild.remove();e.innerHTML=""}addEventMarker(e){const t=L.icon({iconUrl:"https://unpkg.com/leaflet@1.0.3/dist/images/marker-icon.png",iconSize:[25,41],shadowSize:[30,65],iconAnchor:[12,41],shadowAnchor:[7,65]});let n={minWidth:180,maxWidth:this.settings.info_window_max_width};const a=L.popup(n).setContent(this.scheduler.templates.map_info_content(e)),r=L.tooltip().setContent(e.text);let i=[e.lat,e.lng];e.lat&&e.lng||(i=[this.settings.error_position.lat,this.settings.error_position.lng]);const o={event:e,marker:L.marker(i,{icon:t}).bindPopup(a).bindTooltip(r).addTo(this.map)};this._markers.push(o)}removeEventMarker(e){for(let t=0;t<this._markers.length;t++)e==this._markers[t].event.id&&(this.map.removeLayer(this._markers[t].marker),this._markers.splice(t,1),t--)}updateEventMarker(e){for(let t=0;t<this._markers.length;t++)this._markers[t].event.id==e.id&&(this._markers[t].event=e,e.lat&&e.lng?this._markers[t].marker.setLatLng([e.lat,e.lng]):this._markers[t].marker.setLatLng([this.settings.error_position.lat,this.settings.error_position.lng]))}clearEventMarkers(){if(this._markers){for(let e=0;e<this._markers.length;e++)this.map.removeLayer(this._markers[e].marker);this._markers=[]}}setView(e,t,n){this.map.setView([e,t],n)}async resolveAddress(e){let t={},n=await fetch(`https://nominatim.openstreetmap.org/search?q=${e}&format=json`,{method:"GET",headers:{"Accept-Language":"en"}}).then(e=>e.json());return n&&n.length?(t.lat=+n[0].lat,t.lng=+n[0].lon):console.error(`Unable recieve a position of the event's location: ${e}`),t}}class zi{constructor(e){this.map=null,this._markers=[],this.scheduler=e}onEventClick(e){if(this._markers&&this._markers.length>0)for(let t=0;t<this._markers.length;t++){const n=this._markers[t].marker.getPopup();n.isOpen()&&n.remove(),e.id==this._markers[t].event.id&&(this._markers[t].marker.togglePopup(),e.lat&&e.lng?this.setView(e.lat,e.lng,this.settings.zoom_after_resolve||this.settings.initial_zoom):this.setView(this.settings.error_position.lat,this.settings.error_position.lng,this.settings.zoom_after_resolve||this.settings.initial_zoom))}}initialize(e,t){let n=this.scheduler;mapboxgl.accessToken=t.accessToken;const a=new mapboxgl.Map({container:e,center:[t.initial_position.lng,t.initial_position.lat],zoom:t.initial_zoom+1});a.on("dblclick",async function(e){let a=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${e.lngLat.lng},${e.lngLat.lat}.json?access_token=${t.accessToken}`).then(e=>e.json());if(a.features){let t=a.features[0].place_name;n.addEventNow({lat:e.lngLat.lat,lng:e.lngLat.lng,event_location:t,start_date:n.getState().date,end_date:n.date.add(n.getState().date,n.config.time_step,"minute")})}else console.error("unable recieve a position of the event")}),this.map=a,this.settings=t}destroy(e){for(this.map.remove();e.firstChild;)e.firstChild.remove();e.innerHTML=""}addEventMarker(e){let t=[e.lng,e.lat];e.lat&&e.lng||(t=[this.settings.error_position.lng,this.settings.error_position.lat]);const n=new mapboxgl.Popup({offset:25,focusAfterOpen:!1}).setMaxWidth(`${this.settings.info_window_max_width}px`).setHTML(this.scheduler.templates.map_info_content(e)),a={event:e,marker:(new mapboxgl.Marker).setLngLat(t).setPopup(n).addTo(this.map)};this._markers.push(a)}removeEventMarker(e){for(let t=0;t<this._markers.length;t++)e==this._markers[t].event.id&&(this._markers[t].marker.remove(),this._markers.splice(t,1),t--)}updateEventMarker(e){for(let t=0;t<this._markers.length;t++)this._markers[t].event.id==e.id&&(this._markers[t].event=e,e.lat&&e.lng?this._markers[t].marker.setLngLat([e.lng,e.lat]):this._markers[t].marker.setLngLat([this.settings.error_position.lng,this.settings.error_position.lat]))}clearEventMarkers(){for(let e=0;e<this._markers.length;e++)this._markers[e].marker.remove();this._markers=[]}setView(e,t,n){this.map.setCenter([t,e]),this.map.setZoom(n)}async resolveAddress(e){let t=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?access_token=${this.settings.accessToken}`).then(e=>e.json()),n={};return t&&t.features.length?(n.lng=t.features[0].center[0],n.lat=t.features[0].center[1]):console.error(`Unable recieve a position of the event's location: ${e}`),n}}var Li=["MO","TU","WE","TH","FR","SA","SU"],Hi=function(){function e(e,t){if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return e.fromStr=function(t){return new e(Li.indexOf(t))},e.prototype.nth=function(t){return this.n===t?this:new e(this.weekday,t)},e.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},e.prototype.toString=function(){var e=Li[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},e.prototype.getJsWeekday=function(){return 6===this.weekday?0:this.weekday+1},e}(),$i=function(e){return null!=e},Fi=function(e){return"number"==typeof e},ji=function(e){return"string"==typeof e&&Li.includes(e)},Ii=Array.isArray,qi=function(e,t){void 0===t&&(t=e),1===arguments.length&&(t=e,e=0);for(var n=[],a=e;a<t;a++)n.push(a);return n},Ri=function(e,t){var n=0,a=[];if(Ii(e))for(;n<t;n++)a[n]=[].concat(e);else for(;n<t;n++)a[n]=e;return a};function Pi(e,t,n){void 0===n&&(n=" ");var a=String(e);return t|=0,a.length>t?String(a):((t-=a.length)>n.length&&(n+=Ri(n,t/n.length)),n.slice(0,t)+String(a))}var Ui=function(e,t){var n=e%t;return n*t<0?n+t:n},Yi=function(e,t){return{div:Math.floor(e/t),mod:Ui(e,t)}},Vi=function(e){return!$i(e)||0===e.length},Bi=function(e){return!Vi(e)},Wi=function(e,t){return Bi(e)&&-1!==e.indexOf(t)},Ji=function(e,t,n,a,r,i){return void 0===a&&(a=0),void 0===r&&(r=0),void 0===i&&(i=0),new Date(Date.UTC(e,t-1,n,a,r,i))},Ki=[31,28,31,30,31,30,31,31,30,31,30,31],Gi=864e5,Xi=Ji(1970,1,1),Zi=[6,0,1,2,3,4,5],Qi=function(e){return e%4==0&&e%100!=0||e%400==0},eo=function(e){return e instanceof Date},to=function(e){return eo(e)&&!isNaN(e.getTime())},no=function(e){return t=Xi,n=e.getTime()-t.getTime(),Math.round(n/Gi);var t,n},ao=function(e){return new Date(Xi.getTime()+e*Gi)},ro=function(e){var t=e.getUTCMonth();return 1===t&&Qi(e.getUTCFullYear())?29:Ki[t]},io=function(e){return Zi[e.getUTCDay()]},oo=function(e,t){var n=Ji(e,t+1,1);return[io(n),ro(n)]},so=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},lo=function(e){return new Date(e.getTime())},co=function(e){for(var t=[],n=0;n<e.length;n++)t.push(lo(e[n]));return t},_o=function(e){e.sort(function(e,t){return e.getTime()-t.getTime()})},ho=function(e,t){void 0===t&&(t=!0);var n=new Date(e);return[Pi(n.getUTCFullYear().toString(),4,"0"),Pi(n.getUTCMonth()+1,2,"0"),Pi(n.getUTCDate(),2,"0"),"T",Pi(n.getUTCHours(),2,"0"),Pi(n.getUTCMinutes(),2,"0"),Pi(n.getUTCSeconds(),2,"0"),t?"Z":""].join("")},uo=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[5],10)||0,parseInt(t[6],10)||0,parseInt(t[7],10)||0))},po=function(e,t){return e.toLocaleString("sv-SE",{timeZone:t}).replace(" ","T")+"Z"},fo=function(){function e(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,"between"===e?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):"before"===e?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):"after"===e&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return e.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if("between"===this.method){if(t)return!0;if(n)return!1}else if("before"===this.method){if(n)return!1}else if("after"===this.method)return!!t||(this.add(e),!1);return this.add(e)},e.prototype.add=function(e){return this._result.push(e),!0},e.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;default:return e.length?e[e.length-1]:null}},e.prototype.clone=function(){return new e(this.method,this.args)},e}(),vo=function(e,t){return(vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function go(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}vo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var mo=function(){return mo=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},mo.apply(this,arguments)};function xo(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var bo,yo,wo=function(e){function t(t,n,a){var r=e.call(this,t,n)||this;return r.iterator=a,r}return go(t,e),t.prototype.add=function(e){return!!this.iterator(e,this._result.length)&&(this._result.push(e),!0)},t}(fo),ko={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},Eo=function(e,t){return-1!==e.indexOf(t)},Do=function(e){return e.toString()},So=function(e,t,n){return"".concat(t," ").concat(n,", ").concat(e)},Ao=function(){function e(e,t,n,a){if(void 0===t&&(t=Do),void 0===n&&(n=ko),void 0===a&&(a=So),this.text=[],this.language=n||ko,this.gettext=t,this.dateFormatter=a,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var r=[].concat(this.options.bymonthday),i=[].concat(this.options.bynmonthday);r.sort(function(e,t){return e-t}),i.sort(function(e,t){return t-e}),this.bymonthday=r.concat(i),this.bymonthday.length||(this.bymonthday=null)}if($i(this.origOptions.byweekday)){var o=Ii(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],d=String(o);this.byweekday={allWeeks:o.filter(function(e){return!e.n}),someWeeks:o.filter(function(e){return!!e.n}),isWeekdays:-1!==d.indexOf("MO")&&-1!==d.indexOf("TU")&&-1!==d.indexOf("WE")&&-1!==d.indexOf("TH")&&-1!==d.indexOf("FR")&&-1===d.indexOf("SA")&&-1===d.indexOf("SU"),isEveryDay:-1!==d.indexOf("MO")&&-1!==d.indexOf("TU")&&-1!==d.indexOf("WE")&&-1!==d.indexOf("TH")&&-1!==d.indexOf("FR")&&-1!==d.indexOf("SA")&&-1!==d.indexOf("SU")};var s=function(e,t){return e.weekday-t.weekday};this.byweekday.allWeeks.sort(s),this.byweekday.someWeeks.sort(s),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return e.isFullyConvertible=function(t){if(!(t.options.freq in e.IMPLEMENTED)||t.origOptions.until&&t.origOptions.count)return!1;for(var n in t.origOptions){if(Eo(["dtstart","tzid","wkst","freq"],n))return!0;if(!Eo(e.IMPLEMENTED[t.options.freq],n))return!1}return!0},e.prototype.isFullyConvertible=function(){return e.isFullyConvertible(this.rrule)},e.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in e.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[xd.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var n=this.options.until;this.add(this.dateFormatter(n.getUTCFullYear(),this.language.monthNames[n.getUTCMonth()],n.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},e.prototype.HOURLY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},e.prototype.MINUTELY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},e.prototype.DAILY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},e.prototype.WEEKLY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?1===this.options.interval?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(1===this.options.interval&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},e.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(1!==this.options.interval&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},e.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(1!==this.options.interval&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},e.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},e.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},e.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},e.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},e.prototype.nth=function(e){var t;e=parseInt(e.toString(),10);var n=this.gettext;if(-1===e)return n("last");var a=Math.abs(e);switch(a){case 1:case 21:case 31:t=a+n("st");break;case 2:case 22:t=a+n("nd");break;case 3:case 23:t=a+n("rd");break;default:t=a+n("th")}return e<0?t+" "+n("last"):t},e.prototype.monthtext=function(e){return this.language.monthNames[e-1]},e.prototype.weekdaytext=function(e){var t=Fi(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},e.prototype.plural=function(e){return e%100!=1},e.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},e.prototype.list=function(e,t,n,a){var r=this;void 0===a&&(a=","),Ii(e)||(e=[e]),t=t||function(e){return e.toString()};var i=function(e){return t&&t.call(r,e)};return n?function(e,t,n){for(var a="",r=0;r<e.length;r++)0!==r&&(r===e.length-1?a+=" "+n+" ":a+=t+" "),a+=e[r];return a}(e.map(i),a,n):e.map(i).join(a+" ")},e}(),Mo=function(){function e(e){this.done=!0,this.rules=e}return e.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},e.prototype.isDone=function(){return this.done&&null===this.symbol},e.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;for(var n in e=null,this.rules){var a=this.rules[n].exec(this.text);a&&(null===e||a[0].length>e[0].length)&&(e=a,t=n)}if(null!=e&&(this.text=this.text.substr(e[0].length),""===this.text&&(this.done=!0)),null==e)return this.done=!0,this.symbol=null,void(this.value=null)}while("SKIP"===t);return this.symbol=t,this.value=e,!0},e.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},e.prototype.acceptNumber=function(){return this.accept("number")},e.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},e}();function To(e,t){void 0===t&&(t=ko);var n={},a=new Mo(t.tokens);return a.start(e)?(function(){a.expect("every");var e=a.acceptNumber();if(e&&(n.interval=parseInt(e[0],10)),a.isDone())throw new Error("Unexpected end");switch(a.symbol){case"day(s)":n.freq=xd.DAILY,a.nextSymbol()&&(i(),l());break;case"weekday(s)":n.freq=xd.WEEKLY,n.byweekday=[xd.MO,xd.TU,xd.WE,xd.TH,xd.FR],a.nextSymbol(),i(),l();break;case"week(s)":n.freq=xd.WEEKLY,a.nextSymbol()&&(r(),i(),l());break;case"hour(s)":n.freq=xd.HOURLY,a.nextSymbol()&&(r(),l());break;case"minute(s)":n.freq=xd.MINUTELY,a.nextSymbol()&&(r(),l());break;case"month(s)":n.freq=xd.MONTHLY,a.nextSymbol()&&(r(),l());break;case"year(s)":n.freq=xd.YEARLY,a.nextSymbol()&&(r(),l());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":n.freq=xd.WEEKLY;var t=a.symbol.substr(0,2).toUpperCase();if(n.byweekday=[xd[t]],!a.nextSymbol())return;for(;a.accept("comma");){if(a.isDone())throw new Error("Unexpected end");var c=d();if(!c)throw new Error("Unexpected symbol "+a.symbol+", expected weekday");n.byweekday.push(xd[c]),a.nextSymbol()}i(),function(){a.accept("on"),a.accept("the");var e=s();if(e)for(n.bymonthday=[e],a.nextSymbol();a.accept("comma");){if(!(e=s()))throw new Error("Unexpected symbol "+a.symbol+"; expected monthday");n.bymonthday.push(e),a.nextSymbol()}}(),l();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(n.freq=xd.YEARLY,n.bymonth=[o()],!a.nextSymbol())return;for(;a.accept("comma");){if(a.isDone())throw new Error("Unexpected end");var _=o();if(!_)throw new Error("Unexpected symbol "+a.symbol+", expected month");n.bymonth.push(_),a.nextSymbol()}r(),l();break;default:throw new Error("Unknown symbol")}}(),n):null;function r(){var e=a.accept("on"),t=a.accept("the");if(e||t)do{var r=s(),i=d(),l=o();if(r)i?(a.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(xd[i].nth(r))):(n.bymonthday||(n.bymonthday=[]),n.bymonthday.push(r),a.accept("day(s)"));else if(i)a.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(xd[i]);else if("weekday(s)"===a.symbol)a.nextSymbol(),n.byweekday||(n.byweekday=[xd.MO,xd.TU,xd.WE,xd.TH,xd.FR]);else if("week(s)"===a.symbol){a.nextSymbol();var c=a.acceptNumber();if(!c)throw new Error("Unexpected symbol "+a.symbol+", expected week number");for(n.byweekno=[parseInt(c[0],10)];a.accept("comma");){if(!(c=a.acceptNumber()))throw new Error("Unexpected symbol "+a.symbol+"; expected monthday");n.byweekno.push(parseInt(c[0],10))}}else{if(!l)return;a.nextSymbol(),n.bymonth||(n.bymonth=[]),n.bymonth.push(l)}}while(a.accept("comma")||a.accept("the")||a.accept("on"))}function i(){if(a.accept("at"))do{var e=a.acceptNumber();if(!e)throw new Error("Unexpected symbol "+a.symbol+", expected hour");for(n.byhour=[parseInt(e[0],10)];a.accept("comma");){if(!(e=a.acceptNumber()))throw new Error("Unexpected symbol "+a.symbol+"; expected hour");n.byhour.push(parseInt(e[0],10))}}while(a.accept("comma")||a.accept("at"))}function o(){switch(a.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function d(){switch(a.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return a.symbol.substr(0,2).toUpperCase();default:return!1}}function s(){switch(a.symbol){case"last":return a.nextSymbol(),-1;case"first":return a.nextSymbol(),1;case"second":return a.nextSymbol(),a.accept("last")?-2:2;case"third":return a.nextSymbol(),a.accept("last")?-3:3;case"nth":var e=parseInt(a.value[1],10);if(e<-366||e>366)throw new Error("Nth out of range: "+e);return a.nextSymbol(),a.accept("last")?-e:e;default:return!1}}function l(){if("until"===a.symbol){var e=Date.parse(a.text);if(!e)throw new Error("Cannot parse until date:"+a.text);n.until=new Date(e)}else a.accept("for")&&(n.count=parseInt(a.value[0],10),a.expect("number"))}}function Co(e){return e<bo.HOURLY}(yo=bo||(bo={}))[yo.YEARLY=0]="YEARLY",yo[yo.MONTHLY=1]="MONTHLY",yo[yo.WEEKLY=2]="WEEKLY",yo[yo.DAILY=3]="DAILY",yo[yo.HOURLY=4]="HOURLY",yo[yo.MINUTELY=5]="MINUTELY",yo[yo.SECONDLY=6]="SECONDLY";var No=["count","until","interval","byweekday","bymonthday","bymonth"];Ao.IMPLEMENTED=[],Ao.IMPLEMENTED[bo.HOURLY]=No,Ao.IMPLEMENTED[bo.MINUTELY]=No,Ao.IMPLEMENTED[bo.DAILY]=["byhour"].concat(No),Ao.IMPLEMENTED[bo.WEEKLY]=No,Ao.IMPLEMENTED[bo.MONTHLY]=No,Ao.IMPLEMENTED[bo.YEARLY]=["byweekno","byyearday"].concat(No);var Oo=Ao.isFullyConvertible,zo=function(){function e(e,t,n,a){this.hour=e,this.minute=t,this.second=n,this.millisecond=a||0}return e.prototype.getHours=function(){return this.hour},e.prototype.getMinutes=function(){return this.minute},e.prototype.getSeconds=function(){return this.second},e.prototype.getMilliseconds=function(){return this.millisecond},e.prototype.getTime=function(){return 1e3*(60*this.hour*60+60*this.minute+this.second)+this.millisecond},e}(),Lo=function(e){function t(t,n,a,r,i,o,d){var s=e.call(this,r,i,o,d)||this;return s.year=t,s.month=n,s.day=a,s}return go(t,e),t.fromDate=function(e){return new this(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.valueOf()%1e3)},t.prototype.getWeekday=function(){return io(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(e){this.year+=e},t.prototype.addMonths=function(e){if(this.month+=e,this.month>12){var t=Math.floor(this.month/12),n=Ui(this.month,12);this.month=n,this.year+=t,0===this.month&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(e,t){t>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-t))+7*e:this.day+=-(this.getWeekday()-t)+7*e,this.fixDay()},t.prototype.addDaily=function(e){this.day+=e,this.fixDay()},t.prototype.addHours=function(e,t,n){for(t&&(this.hour+=Math.floor((23-this.hour)/e)*e);;){this.hour+=e;var a=Yi(this.hour,24),r=a.div,i=a.mod;if(r&&(this.hour=i,this.addDaily(r)),Vi(n)||Wi(n,this.hour))break}},t.prototype.addMinutes=function(e,t,n,a){for(t&&(this.minute+=Math.floor((1439-(60*this.hour+this.minute))/e)*e);;){this.minute+=e;var r=Yi(this.minute,60),i=r.div,o=r.mod;if(i&&(this.minute=o,this.addHours(i,!1,n)),(Vi(n)||Wi(n,this.hour))&&(Vi(a)||Wi(a,this.minute)))break}},t.prototype.addSeconds=function(e,t,n,a,r){for(t&&(this.second+=Math.floor((86399-(3600*this.hour+60*this.minute+this.second))/e)*e);;){this.second+=e;var i=Yi(this.second,60),o=i.div,d=i.mod;if(o&&(this.second=d,this.addMinutes(o,!1,n,a)),(Vi(n)||Wi(n,this.hour))&&(Vi(a)||Wi(a,this.minute))&&(Vi(r)||Wi(r,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var e=oo(this.year,this.month-1)[1];if(!(this.day<=e))for(;this.day>e;){if(this.day-=e,++this.month,13===this.month&&(this.month=1,++this.year,this.year>9999))return;e=oo(this.year,this.month-1)[1]}}},t.prototype.add=function(e,t){var n=e.freq,a=e.interval,r=e.wkst,i=e.byhour,o=e.byminute,d=e.bysecond;switch(n){case bo.YEARLY:return this.addYears(a);case bo.MONTHLY:return this.addMonths(a);case bo.WEEKLY:return this.addWeekly(a,r);case bo.DAILY:return this.addDaily(a);case bo.HOURLY:return this.addHours(a,t,i);case bo.MINUTELY:return this.addMinutes(a,t,i,o);case bo.SECONDLY:return this.addSeconds(a,t,i,o,d)}},t}(zo);function Ho(e){for(var t=[],n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];Wi(md,r)||t.push(r),eo(e[r])&&!to(e[r])&&t.push(r)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return mo({},e)}function $o(e){var t=e.split("\n").map(jo).filter(function(e){return null!==e});return mo(mo({},t[0]),t[1])}function Fo(e){var t={},n=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(e);if(!n)return t;var a=n[1],r=n[2];return a&&(t.tzid=a),t.dtstart=uo(r),t}function jo(e){if(!(e=e.replace(/^\s+|\s+$/,"")).length)return null;var t=/^([A-Z]+?)[:;]/.exec(e.toUpperCase());if(!t)return Io(e);var n=t[1];switch(n.toUpperCase()){case"RRULE":case"EXRULE":return Io(e);case"DTSTART":return Fo(e);default:throw new Error("Unsupported RFC prop ".concat(n," in ").concat(e))}}function Io(e){var t=Fo(e.replace(/^RRULE:/i,""));return e.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach(function(n){var a,r=n.split("="),i=r[0],o=r[1];switch(i.toUpperCase()){case"FREQ":t.freq=bo[o.toUpperCase()];break;case"WKST":t.wkst=vd[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var d=-1!==(a=o).indexOf(",")?a.split(",").map(qo):qo(a),s=i.toLowerCase();t[s]=d;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=function(e){return e.split(",").map(function(e){if(2===e.length)return vd[e];var t=e.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!t||t.length<3)throw new SyntaxError("Invalid weekday string: ".concat(e));var n=Number(t[1]),a=t[2],r=vd[a].weekday;return new Hi(r,n)})}(o);break;case"DTSTART":case"TZID":var l=Fo(e);t.tzid=l.tzid,t.dtstart=l.dtstart;break;case"UNTIL":t.until=uo(o);break;case"BYEASTER":t.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+i+"'")}}),t}function qo(e){return/^[+-]?\d+$/.test(e)?Number(e):e}var Ro=function(){function e(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}return Object.defineProperty(e.prototype,"isUTC",{get:function(){return!this.tzid||"UTC"===this.tzid.toUpperCase()},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=ho(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},e.prototype.getTime=function(){return this.date.getTime()},e.prototype.rezonedDate=function(){return this.isUTC?this.date:(e=this.date,t=this.tzid,n=Intl.DateTimeFormat().resolvedOptions().timeZone,a=new Date(po(e,n)),r=new Date(po(e,t??"UTC")).getTime()-a.getTime(),new Date(e.getTime()-r));var e,t,n,a,r},e}();function Po(e){for(var t,n=[],a="",r=Object.keys(e),i=Object.keys(gd),o=0;o<r.length;o++)if("tzid"!==r[o]&&Wi(i,r[o])){var d=r[o].toUpperCase(),s=e[r[o]],l="";if($i(s)&&(!Ii(s)||s.length)){switch(d){case"FREQ":l=xd.FREQUENCIES[e.freq];break;case"WKST":l=Fi(s)?new Hi(s).toString():s.toString();break;case"BYWEEKDAY":d="BYDAY",l=(t=s,Ii(t)?t:[t]).map(function(e){return e instanceof Hi?e:Ii(e)?new Hi(e[0],e[1]):new Hi(e)}).toString();break;case"DTSTART":a=Uo(s,e.tzid);break;case"UNTIL":l=ho(s,!e.tzid);break;default:if(Ii(s)){for(var c=[],_=0;_<s.length;_++)c[_]=String(s[_]);l=c.toString()}else l=String(s)}l&&n.push([d,l])}}var h=n.map(function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n.toString())}).join(";"),u="";return""!==h&&(u="RRULE:".concat(h)),[a,u].filter(function(e){return!!e}).join("\n")}function Uo(e,t){return e?"DTSTART"+new Ro(new Date(e),t).toString():""}function Yo(e,t){return Array.isArray(e)?!!Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return e.getTime()===t[n].getTime()}):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():e===t}var Vo=function(){function e(){this.all=!1,this.before=[],this.after=[],this.between=[]}return e.prototype._cacheAdd=function(e,t,n){t&&(t=t instanceof Date?lo(t):co(t)),"all"===e?this.all=t:(n._value=t,this[e].push(n))},e.prototype._cacheGet=function(e,t){var n=!1,a=t?Object.keys(t):[],r=function(e){for(var n=0;n<a.length;n++){var r=a[n];if(!Yo(t[r],e[r]))return!0}return!1},i=this[e];if("all"===e)n=this.all;else if(Ii(i))for(var o=0;o<i.length;o++){var d=i[o];if(!a.length||!r(d)){n=d._value;break}}if(!n&&this.all){var s=new fo(e,t);for(o=0;o<this.all.length&&s.accept(this.all[o]);o++);n=s.getValue(),this._cacheAdd(e,n,t)}return Ii(n)?co(n):n instanceof Date?lo(n):n},e}(),Bo=xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo([],Ri(1,31),!0),Ri(2,28),!0),Ri(3,31),!0),Ri(4,30),!0),Ri(5,31),!0),Ri(6,30),!0),Ri(7,31),!0),Ri(8,31),!0),Ri(9,30),!0),Ri(10,31),!0),Ri(11,30),!0),Ri(12,31),!0),Ri(1,7),!0),Wo=xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo([],Ri(1,31),!0),Ri(2,29),!0),Ri(3,31),!0),Ri(4,30),!0),Ri(5,31),!0),Ri(6,30),!0),Ri(7,31),!0),Ri(8,31),!0),Ri(9,30),!0),Ri(10,31),!0),Ri(11,30),!0),Ri(12,31),!0),Ri(1,7),!0),Jo=qi(1,29),Ko=qi(1,30),Go=qi(1,31),Xo=qi(1,32),Zo=xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo([],Xo,!0),Ko,!0),Xo,!0),Go,!0),Xo,!0),Go,!0),Xo,!0),Xo,!0),Go,!0),Xo,!0),Go,!0),Xo,!0),Xo.slice(0,7),!0),Qo=xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo([],Xo,!0),Jo,!0),Xo,!0),Go,!0),Xo,!0),Go,!0),Xo,!0),Xo,!0),Go,!0),Xo,!0),Go,!0),Xo,!0),Xo.slice(0,7),!0),ed=qi(-28,0),td=qi(-29,0),nd=qi(-30,0),ad=qi(-31,0),rd=xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo([],ad,!0),td,!0),ad,!0),nd,!0),ad,!0),nd,!0),ad,!0),ad,!0),nd,!0),ad,!0),nd,!0),ad,!0),ad.slice(0,7),!0),id=xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo(xo([],ad,!0),ed,!0),ad,!0),nd,!0),ad,!0),nd,!0),ad,!0),ad,!0),nd,!0),ad,!0),nd,!0),ad,!0),ad.slice(0,7),!0),od=[0,31,60,91,121,152,182,213,244,274,305,335,366],dd=[0,31,59,90,120,151,181,212,243,273,304,334,365],sd=function(){for(var e=[],t=0;t<55;t++)e=e.concat(qi(7));return e}();var ld=function(){function e(e){this.options=e}return e.prototype.rebuild=function(e,t){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=function(e,t){var n,a,r,i,o,d,s=Ji(e,1,1),l=Qi(e)?366:365,c=Qi(e+1)?366:365,_=no(s),h=io(s),u=mo(mo({yearlen:l,nextyearlen:c,yearordinal:_,yearweekday:h},(i=Qi(r=e)?366:365,o=Ji(r,1,1),d=io(o),365===i?{mmask:Bo,mdaymask:Qo,nmdaymask:id,wdaymask:sd.slice(d),mrange:dd}:{mmask:Wo,mdaymask:Zo,nmdaymask:rd,wdaymask:sd.slice(d),mrange:od})),{wnomask:null});if(Vi(t.byweekno))return u;u.wnomask=Ri(0,l+7);var p=n=Ui(7-h+t.wkst,7);p>=4?(p=0,a=u.yearlen+Ui(h-t.wkst,7)):a=l-p;for(var f=Math.floor(a/7),v=Ui(a,7),g=Math.floor(f+v/4),m=0;m<t.byweekno.length;m++){var x=t.byweekno[m];if(x<0&&(x+=g+1),x>0&&x<=g){var b=void 0;x>1?(b=p+7*(x-1),p!==n&&(b-=7-n)):b=p;for(var y=0;y<7&&(u.wnomask[b]=1,b++,u.wdaymask[b]!==t.wkst);y++);}}if(Wi(t.byweekno,1)&&(b=p+7*g,p!==n&&(b-=7-n),b<l))for(m=0;m<7&&(u.wnomask[b]=1,b+=1,u.wdaymask[b]!==t.wkst);m++);if(p){var w=void 0;if(Wi(t.byweekno,-1))w=-1;else{var k=io(Ji(e-1,1,1)),E=Ui(7-k.valueOf()+t.wkst,7),D=Qi(e-1)?366:365,S=void 0;E>=4?(E=0,S=D+Ui(k-t.wkst,7)):S=l-p,w=Math.floor(52+Ui(S,7)/4)}if(Wi(t.byweekno,w))for(b=0;b<p;b++)u.wnomask[b]=1}return u}(e,n)),Bi(n.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var a=this.yearinfo,r=a.yearlen,i=a.mrange,o=a.wdaymask;this.monthinfo=function(e,t,n,a,r,i){var o={lastyear:e,lastmonth:t,nwdaymask:[]},d=[];if(i.freq===xd.YEARLY)if(Vi(i.bymonth))d=[[0,n]];else for(var s=0;s<i.bymonth.length;s++)t=i.bymonth[s],d.push(a.slice(t-1,t+1));else i.freq===xd.MONTHLY&&(d=[a.slice(t-1,t+1)]);if(Vi(d))return o;for(o.nwdaymask=Ri(0,n),s=0;s<d.length;s++)for(var l=d[s],c=l[0],_=l[1]-1,h=0;h<i.bynweekday.length;h++){var u=void 0,p=i.bynweekday[h],f=p[0],v=p[1];v<0?(u=_+7*(v+1),u-=Ui(r[u]-f,7)):(u=c+7*(v-1),u+=Ui(7-r[u]+f,7)),c<=u&&u<=_&&(o.nwdaymask[u]=1)}return o}(e,t,r,i,o,n)}$i(n.byeaster)&&(this.eastermask=function(e,t){void 0===t&&(t=0);var n=e%19,a=Math.floor(e/100),r=e%100,i=Math.floor(a/4),o=a%4,d=Math.floor((a+8)/25),s=Math.floor((a-d+1)/3),l=Math.floor(19*n+a-i-s+15)%30,c=Math.floor(r/4),_=r%4,h=Math.floor(32+2*o+2*c-l-_)%7,u=Math.floor((n+11*l+22*h)/451),p=Math.floor((l+h-7*u+114)/31),f=(l+h-7*u+114)%31+1,v=Date.UTC(e,p-1,f+t),g=Date.UTC(e,0,1);return[Math.ceil((v-g)/864e5)]}(e,n.byeaster))},Object.defineProperty(e.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),e.prototype.ydayset=function(){return[qi(this.yearlen),0,this.yearlen]},e.prototype.mdayset=function(e,t){for(var n=this.mrange[t-1],a=this.mrange[t],r=Ri(null,this.yearlen),i=n;i<a;i++)r[i]=i;return[r,n,a]},e.prototype.wdayset=function(e,t,n){for(var a=Ri(null,this.yearlen+7),r=no(Ji(e,t,n))-this.yearordinal,i=r,o=0;o<7&&(a[r]=r,++r,this.wdaymask[r]!==this.options.wkst);o++);return[a,i,r]},e.prototype.ddayset=function(e,t,n){var a=Ri(null,this.yearlen),r=no(Ji(e,t,n))-this.yearordinal;return a[r]=r,[a,r,r+1]},e.prototype.htimeset=function(e,t,n,a){var r=this,i=[];return this.options.byminute.forEach(function(t){i=i.concat(r.mtimeset(e,t,n,a))}),_o(i),i},e.prototype.mtimeset=function(e,t,n,a){var r=this.options.bysecond.map(function(n){return new zo(e,t,n,a)});return _o(r),r},e.prototype.stimeset=function(e,t,n,a){return[new zo(e,t,n,a)]},e.prototype.getdayset=function(e){switch(e){case bo.YEARLY:return this.ydayset.bind(this);case bo.MONTHLY:return this.mdayset.bind(this);case bo.WEEKLY:return this.wdayset.bind(this);case bo.DAILY:default:return this.ddayset.bind(this)}},e.prototype.gettimeset=function(e){switch(e){case bo.HOURLY:return this.htimeset.bind(this);case bo.MINUTELY:return this.mtimeset.bind(this);case bo.SECONDLY:return this.stimeset.bind(this)}},e}();function cd(e,t,n,a,r,i){for(var o=[],d=0;d<e.length;d++){var s=void 0,l=void 0,c=e[d];c<0?(s=Math.floor(c/t.length),l=Ui(c,t.length)):(s=Math.floor((c-1)/t.length),l=Ui(c-1,t.length));for(var _=[],h=n;h<a;h++){var u=i[h];$i(u)&&_.push(u)}var p;p=s<0?_.slice(s)[0]:_[s];var f=t[l],v=ao(r.yearordinal+p),g=so(v,f);Wi(o,g)||o.push(g)}return _o(o),o}function _d(e,t){var n=t.dtstart,a=t.freq,r=t.interval,i=t.until,o=t.bysetpos,d=t.count;if(0===d||0===r)return pd(e);var s,l,c,_,h,u,p,f=Lo.fromDate(n),v=new ld(t);v.rebuild(f.year,f.month);for(var g=(s=v,l=f,_=void 0,h=void 0,u=void 0,p=void 0,_=(c=t).freq,h=c.byhour,u=c.byminute,p=c.bysecond,Co(_)?function(e){var t=e.dtstart.getTime()%1e3;if(!Co(e.freq))return[];var n=[];return e.byhour.forEach(function(a){e.byminute.forEach(function(r){e.bysecond.forEach(function(e){n.push(new zo(a,r,e,t))})})}),n}(c):_>=xd.HOURLY&&Bi(h)&&!Wi(h,l.hour)||_>=xd.MINUTELY&&Bi(u)&&!Wi(u,l.minute)||_>=xd.SECONDLY&&Bi(p)&&!Wi(p,l.second)?[]:s.gettimeset(_)(l.hour,l.minute,l.second,l.millisecond));;){var m=v.getdayset(a)(f.year,f.month,f.day),x=m[0],b=m[1],y=m[2],w=fd(x,b,y,v,t);if(Bi(o))for(var k=cd(o,g,b,y,v,x),E=0;E<k.length;E++){var D=k[E];if(i&&D>i)return pd(e);if(D>=n){var S=ud(D,t);if(!e.accept(S)||d&&! --d)return pd(e)}}else for(E=b;E<y;E++){var A=x[E];if($i(A))for(var M=ao(v.yearordinal+A),T=0;T<g.length;T++){var C=g[T];if(D=so(M,C),i&&D>i||D>=n&&(S=ud(D,t),!e.accept(S)||d&&! --d))return pd(e)}}if(0===t.interval||(f.add(t,w),f.year>9999))return pd(e);Co(a)||(g=v.gettimeset(a)(f.hour,f.minute,f.second,0)),v.rebuild(f.year,f.month)}}function hd(e,t,n){var a=n.bymonth,r=n.byweekno,i=n.byweekday,o=n.byeaster,d=n.bymonthday,s=n.bynmonthday,l=n.byyearday;return Bi(a)&&!Wi(a,e.mmask[t])||Bi(r)&&!e.wnomask[t]||Bi(i)&&!Wi(i,e.wdaymask[t])||Bi(e.nwdaymask)&&!e.nwdaymask[t]||null!==o&&!Wi(e.eastermask,t)||(Bi(d)||Bi(s))&&!Wi(d,e.mdaymask[t])&&!Wi(s,e.nmdaymask[t])||Bi(l)&&(t<e.yearlen&&!Wi(l,t+1)&&!Wi(l,-e.yearlen+t)||t>=e.yearlen&&!Wi(l,t+1-e.yearlen)&&!Wi(l,-e.nextyearlen+t-e.yearlen))}function ud(e,t){return new Ro(e,t.tzid).rezonedDate()}function pd(e){return e.getValue()}function fd(e,t,n,a,r){for(var i=!1,o=t;o<n;o++){var d=e[o];(i=hd(a,d,r))&&(e[d]=null)}return i}var vd={MO:new Hi(0),TU:new Hi(1),WE:new Hi(2),TH:new Hi(3),FR:new Hi(4),SA:new Hi(5),SU:new Hi(6)},gd={freq:bo.YEARLY,dtstart:null,interval:1,wkst:vd.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},md=Object.keys(gd),xd=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=!1),this._cache=t?null:new Vo,this.origOptions=Ho(e);var n=function(e){var t=mo(mo({},gd),Ho(e));if($i(t.byeaster)&&(t.freq=xd.YEARLY),!$i(t.freq)||!xd.FREQUENCIES[t.freq])throw new Error("Invalid frequency: ".concat(t.freq," ").concat(e.freq));if(t.dtstart||(t.dtstart=new Date((new Date).setMilliseconds(0))),$i(t.wkst)?Fi(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=xd.MO.weekday,$i(t.bysetpos)){Fi(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var n=0;n<t.bysetpos.length;n++)if(0===(i=t.bysetpos[n])||!(i>=-366&&i<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(t.byweekno||Bi(t.byweekno)||Bi(t.byyearday)||t.bymonthday||Bi(t.bymonthday)||$i(t.byweekday)||$i(t.byeaster)))switch(t.freq){case xd.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case xd.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case xd.WEEKLY:t.byweekday=[io(t.dtstart)]}if($i(t.bymonth)&&!Ii(t.bymonth)&&(t.bymonth=[t.bymonth]),$i(t.byyearday)&&!Ii(t.byyearday)&&Fi(t.byyearday)&&(t.byyearday=[t.byyearday]),$i(t.bymonthday))if(Ii(t.bymonthday)){var a=[],r=[];for(n=0;n<t.bymonthday.length;n++){var i;(i=t.bymonthday[n])>0?a.push(i):i<0&&r.push(i)}t.bymonthday=a,t.bynmonthday=r}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);else t.bymonthday=[],t.bynmonthday=[];if($i(t.byweekno)&&!Ii(t.byweekno)&&(t.byweekno=[t.byweekno]),$i(t.byweekday))if(Fi(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(ji(t.byweekday))t.byweekday=[Hi.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof Hi)!t.byweekday.n||t.freq>xd.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{var o=[],d=[];for(n=0;n<t.byweekday.length;n++){var s=t.byweekday[n];Fi(s)?o.push(s):ji(s)?o.push(Hi.fromStr(s).weekday):!s.n||t.freq>xd.MONTHLY?o.push(s.weekday):d.push([s.weekday,s.n])}t.byweekday=Bi(o)?o:null,t.bynweekday=Bi(d)?d:null}else t.bynweekday=null;return $i(t.byhour)?Fi(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<xd.HOURLY?[t.dtstart.getUTCHours()]:null,$i(t.byminute)?Fi(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<xd.MINUTELY?[t.dtstart.getUTCMinutes()]:null,$i(t.bysecond)?Fi(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<xd.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}(e).parsedOptions;this.options=n}return e.parseText=function(e,t){return To(e,t)},e.fromText=function(e,t){return function(e,t){return void 0===t&&(t=ko),new xd(To(e,t)||void 0)}(e,t)},e.fromString=function(t){return new e(e.parseString(t)||void 0)},e.prototype._iter=function(e){return _d(e,this.options)},e.prototype._cacheGet=function(e,t){return!!this._cache&&this._cache._cacheGet(e,t)},e.prototype._cacheAdd=function(e,t,n){if(this._cache)return this._cache._cacheAdd(e,t,n)},e.prototype.all=function(e){if(e)return this._iter(new wo("all",{},e));var t=this._cacheGet("all");return!1===t&&(t=this._iter(new fo("all",{})),this._cacheAdd("all",t)),t},e.prototype.between=function(e,t,n,a){if(void 0===n&&(n=!1),!to(e)||!to(t))throw new Error("Invalid date passed in to RRule.between");var r={before:t,after:e,inc:n};if(a)return this._iter(new wo("between",r,a));var i=this._cacheGet("between",r);return!1===i&&(i=this._iter(new fo("between",r)),this._cacheAdd("between",i,r)),i},e.prototype.before=function(e,t){if(void 0===t&&(t=!1),!to(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:t},a=this._cacheGet("before",n);return!1===a&&(a=this._iter(new fo("before",n)),this._cacheAdd("before",a,n)),a},e.prototype.after=function(e,t){if(void 0===t&&(t=!1),!to(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:t},a=this._cacheGet("after",n);return!1===a&&(a=this._iter(new fo("after",n)),this._cacheAdd("after",a,n)),a},e.prototype.count=function(){return this.all().length},e.prototype.toString=function(){return Po(this.origOptions)},e.prototype.toText=function(e,t,n){return new Ao(this,e,t,n).toString()},e.prototype.isFullyConvertibleToText=function(){return Oo(this)},e.prototype.clone=function(){return new e(this.origOptions)},e.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],e.YEARLY=bo.YEARLY,e.MONTHLY=bo.MONTHLY,e.WEEKLY=bo.WEEKLY,e.DAILY=bo.DAILY,e.HOURLY=bo.HOURLY,e.MINUTELY=bo.MINUTELY,e.SECONDLY=bo.SECONDLY,e.MO=vd.MO,e.TU=vd.TU,e.WE=vd.WE,e.TH=vd.TH,e.FR=vd.FR,e.SA=vd.SA,e.SU=vd.SU,e.parseString=$o,e.optionsToString=Po,e}(),bd={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function yd(e,t){return void 0===t&&(t={}),function(e,t){var n=function(e,t){var n=[],a=[],r=[],i=[],o=Fo(e),d=o.dtstart,s=o.tzid;return function(e,t){if(void 0===t&&(t=!1),!(e=e&&e.trim()))throw new Error("Invalid empty string");if(!t)return e.split(/\s/);for(var n=e.split("\n"),a=0;a<n.length;){var r=n[a]=n[a].replace(/\s+$/g,"");r?a>0&&" "===r[0]?(n[a-1]+=r.slice(1),n.splice(a,1)):a+=1:n.splice(a,1)}return n}(e,t.unfold).forEach(function(e){var t;if(e){var o=function(e){var t=function(e){if(-1===e.indexOf(":"))return{name:"RRULE",value:e};var t,n=(t=e.split(":")).slice(0,1).concat([t.slice(1).join(":")]);return{name:n[0],value:n[1]}}(e),n=t.name,a=t.value,r=n.split(";");if(!r)throw new Error("empty property name");return{name:r[0].toUpperCase(),parms:r.slice(1),value:a}}(e),d=o.name,l=o.parms,c=o.value;switch(d.toUpperCase()){case"RRULE":if(l.length)throw new Error("unsupported RRULE parm: ".concat(l.join(",")));n.push($o(e));break;case"RDATE":var _=(null!==(t=/RDATE(?:;TZID=([^:=]+))?/i.exec(e))&&void 0!==t?t:[])[1];_&&!s&&(s=_),a=a.concat(kd(c,l));break;case"EXRULE":if(l.length)throw new Error("unsupported EXRULE parm: ".concat(l.join(",")));r.push($o(c));break;case"EXDATE":i=i.concat(kd(c,l));break;case"DTSTART":break;default:throw new Error("unsupported property: "+d)}}}),{dtstart:d,tzid:s,rrulevals:n,rdatevals:a,exrulevals:r,exdatevals:i}}(e,t),a=n.rrulevals,r=n.rdatevals,i=n.exrulevals,o=n.exdatevals,d=n.dtstart,s=n.tzid,l=!1===t.cache;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||a.length>1||r.length||i.length||o.length){var c=new Dd(l);return c.dtstart(d),c.tzid(s||void 0),a.forEach(function(e){c.rrule(new xd(wd(e,d,s),l))}),r.forEach(function(e){c.rdate(e)}),i.forEach(function(e){c.exrule(new xd(wd(e,d,s),l))}),o.forEach(function(e){c.exdate(e)}),t.compatible&&t.dtstart&&c.rdate(d),c}var _=a[0]||{};return new xd(wd(_,_.dtstart||t.dtstart||d,_.tzid||t.tzid||s),l)}(e,function(e){var t=[],n=Object.keys(e),a=Object.keys(bd);if(n.forEach(function(e){Wi(a,e)||t.push(e)}),t.length)throw new Error("Invalid options: "+t.join(", "));return mo(mo({},bd),e)}(t))}function wd(e,t,n){return mo(mo({},e),{dtstart:t,tzid:n})}function kd(e,t){return t.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)}),e.split(",").map(function(e){return uo(e)})}function Ed(e){var t=this;return function(n){if(void 0!==n&&(t["_".concat(e)]=n),void 0!==t["_".concat(e)])return t["_".concat(e)];for(var a=0;a<t._rrule.length;a++){var r=t._rrule[a].origOptions[e];if(r)return r}}}var Dd=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this,{},t)||this;return n.dtstart=Ed.apply(n,["dtstart"]),n.tzid=Ed.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return go(t,e),t.prototype._iter=function(e){return function(e,t,n,a,r,i){var o={},d=e.accept;function s(e,t){n.forEach(function(n){n.between(e,t,!0).forEach(function(e){o[Number(e)]=!0})})}r.forEach(function(e){var t=new Ro(e,i).rezonedDate();o[Number(t)]=!0}),e.accept=function(e){var t=Number(e);return isNaN(t)?d.call(this,e):!(!o[t]&&(s(new Date(t-1),new Date(t+1)),!o[t]))||(o[t]=!0,d.call(this,e))},"between"===e.method&&(s(e.args.after,e.args.before),e.accept=function(e){var t=Number(e);return!!o[t]||(o[t]=!0,d.call(this,e))});for(var l=0;l<a.length;l++){var c=new Ro(a[l],i).rezonedDate();if(!e.accept(new Date(c.getTime())))break}t.forEach(function(t){_d(e,t.options)});var _=e._result;switch(_o(_),e.method){case"all":case"between":return _;case"before":return _.length&&_[_.length-1]||null;default:return _.length&&_[0]||null}}(e,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(e){Sd(e,this._rrule)},t.prototype.exrule=function(e){Sd(e,this._exrule)},t.prototype.rdate=function(e){Ad(e,this._rdate)},t.prototype.exdate=function(e){Ad(e,this._exdate)},t.prototype.rrules=function(){return this._rrule.map(function(e){return yd(e.toString())})},t.prototype.exrules=function(){return this._exrule.map(function(e){return yd(e.toString())})},t.prototype.rdates=function(){return this._rdate.map(function(e){return new Date(e.getTime())})},t.prototype.exdates=function(){return this._exdate.map(function(e){return new Date(e.getTime())})},t.prototype.valueOf=function(){var e=[];return!this._rrule.length&&this._dtstart&&(e=e.concat(Po({dtstart:this._dtstart}))),this._rrule.forEach(function(t){e=e.concat(t.toString().split("\n"))}),this._exrule.forEach(function(t){e=e.concat(t.toString().split("\n").map(function(e){return e.replace(/^RRULE:/,"EXRULE:")}).filter(function(e){return!/^DTSTART/.test(e)}))}),this._rdate.length&&e.push(Md("RDATE",this._rdate,this.tzid())),this._exdate.length&&e.push(Md("EXDATE",this._exdate,this.tzid())),e},t.prototype.toString=function(){return this.valueOf().join("\n")},t.prototype.clone=function(){var e=new t(!!this._cache);return this._rrule.forEach(function(t){return e.rrule(t.clone())}),this._exrule.forEach(function(t){return e.exrule(t.clone())}),this._rdate.forEach(function(t){return e.rdate(new Date(t.getTime()))}),this._exdate.forEach(function(t){return e.exdate(new Date(t.getTime()))}),e},t}(xd);function Sd(e,t){if(!(e instanceof xd))throw new TypeError(String(e)+" is not RRule instance");Wi(t.map(String),String(e))||t.push(e)}function Ad(e,t){if(!(e instanceof Date))throw new TypeError(String(e)+" is not Date instance");Wi(t.map(Number),Number(e))||(t.push(e),_o(t))}function Md(e,t,n){var a=!n||"UTC"===n.toUpperCase(),r=a?"".concat(e,":"):"".concat(e,";TZID=").concat(n,":"),i=t.map(function(e){return ho(e.valueOf(),a)}).join(",");return"".concat(r).concat(i)}class Td{constructor(e){this._scheduler=e}getNode(){const e=this._scheduler;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="dhtmlXTooltip scheduler_tooltip tooltip",e._waiAria.tooltipAttr(this._tooltipNode)),e.config.rtl?this._tooltipNode.classList.add("dhtmlXTooltip_rtl"):this._tooltipNode.classList.remove("dhtmlXTooltip_rtl"),this._tooltipNode}setViewport(e){return this._root=e,this}show(e,t){const n=this._scheduler,a=n.$domHelpers,r=document.body,i=this.getNode();if(a.isChildOf(i,r)||(this.hide(),r.appendChild(i)),this._isLikeMouseEvent(e)){const n=this._calculateTooltipPosition(e);t=n.top,e=n.left}return i.style.top=t+"px",i.style.left=e+"px",n._waiAria.tooltipVisibleAttr(i),this}hide(){const e=this._scheduler,t=this.getNode();return t&&t.parentNode&&t.parentNode.removeChild(t),e._waiAria.tooltipHiddenAttr(t),this}setContent(e){return this.getNode().innerHTML=e,this}_isLikeMouseEvent(e){return!(!e||"object"!=typeof e)&&"clientX"in e&&"clientY"in e}_getViewPort(){return this._root||document.body}_calculateTooltipPosition(e){const t=this._scheduler,n=t.$domHelpers,a=this._getViewPortSize(),r=this.getNode(),i={top:0,left:0,width:r.offsetWidth,height:r.offsetHeight,bottom:0,right:0},o=t.config.tooltip_offset_x,d=t.config.tooltip_offset_y,s=document.body,l=n.getRelativeEventPosition(e,s),c=n.getNodePosition(s);l.y+=c.y,i.top=l.y,i.left=l.x,i.top+=d,i.left+=o,i.bottom=i.top+i.height,i.right=i.left+i.width;const _=window.scrollY+s.scrollTop;return i.top<a.top-_?(i.top=a.top,i.bottom=i.top+i.height):i.bottom>a.bottom&&(i.bottom=a.bottom,i.top=i.bottom-i.height),i.left<a.left?(i.left=a.left,i.right=a.left+i.width):i.right>a.right&&(i.right=a.right,i.left=i.right-i.width),l.x>=i.left&&l.x<=i.right&&(i.left=l.x-i.width-o,i.right=i.left+i.width),l.y>=i.top&&l.y<=i.bottom&&(i.top=l.y-i.height-d,i.bottom=i.top+i.height),i.left<0&&(i.left=0),i.right<0&&(i.right=0),i}_getViewPortSize(){const e=this._scheduler,t=e.$domHelpers,n=this._getViewPort();let a,r=n,i=window.scrollY+document.body.scrollTop,o=window.scrollX+document.body.scrollLeft;return n===e.$event_data?(r=e.$event,i=0,o=0,a=t.getNodePosition(e.$event)):a=t.getNodePosition(r),{left:a.x+o,top:a.y+i,width:a.width,height:a.height,bottom:a.y+a.height+i,right:a.x+a.width+o}}}class Cd{constructor(e){this._listeners={},this.tooltip=new Td(e),this._scheduler=e,this._domEvents=e._createDomEventScope(),this._initDelayedFunctions()}destructor(){this.tooltip.hide(),this._domEvents.detachAll()}hideTooltip(){this.delayHide()}attach(e){let t=document.body;const n=this._scheduler,a=n.$domHelpers;e.global||(t=n.$root);let r=null;const i=t=>{const i=a.getTargetNode(t),o=a.closest(i,e.selector);if(a.isChildOf(i,this.tooltip.getNode()))return;const d=()=>{r=o,e.onmouseenter(t,o)};n._mobile&&n.config.touch_tooltip&&(o?d():e.onmouseleave(t,o)),r?o&&o===r?e.onmousemove(t,o):(e.onmouseleave(t,r),r=null,o&&o!==r&&d()):o&&d()};this.detach(e.selector),this._domEvents.attach(t,"mousemove",i),this._listeners[e.selector]={node:t,handler:i}}detach(e){const t=this._listeners[e];t&&this._domEvents.detach(t.node,"mousemove",t.handler)}tooltipFor(e){const t=e=>{let t=e;return document.createEventObject&&!document.createEvent&&(t=document.createEventObject(e)),t};this._initDelayedFunctions(),this.attach({selector:e.selector,global:e.global,onmouseenter:(n,a)=>{const r=e.html(n,a);r&&this.delayShow(t(n),r)},onmousemove:(n,a)=>{const r=e.html(n,a);r?this.delayShow(t(n),r):(this.delayShow.$cancelTimeout(),this.delayHide())},onmouseleave:()=>{this.delayShow.$cancelTimeout(),this.delayHide()}})}_initDelayedFunctions(){const e=this._scheduler;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=ni.delay((t,n)=>{!1===e.callEvent("onBeforeTooltip",[t])?this.tooltip.hide():(this.tooltip.setContent(n),this.tooltip.show(t))},e.config.tooltip_timeout||1),this.delayHide=ni.delay(()=>{this.delayShow.$cancelTimeout(),this.tooltip.hide()},e.config.tooltip_hide_timeout||1)}}const Nd={active_links:function(e){e.config.active_link_view="day",e._active_link_click=function(t){var n=t.target.getAttribute("data-link-date"),a=e.date.str_to_date(e.config.api_date,!1,!0);if(n)return e.setCurrentView(a(n),e.config.active_link_view),t&&t.preventDefault&&t.preventDefault(),!1},e.attachEvent("onTemplatesReady",function(){var t=function(t,n){n=n||t+"_scale_date",e.templates["_active_links_old_"+n]||(e.templates["_active_links_old_"+n]=e.templates[n]);var a=e.templates["_active_links_old_"+n],r=e.date.date_to_str(e.config.api_date);e.templates[n]=function(e){return"<a data-link-date='"+r(e)+"' href='#'>"+a(e)+"</a>"}};if(t("week"),t("","month_day"),this.matrix)for(var n in this.matrix)t(n);this._detachDomEvent(this._obj,"click",e._active_link_click),e.event(this._obj,"click",e._active_link_click)})},agenda_legacy:function(e){e.date.add_agenda_legacy=function(t){return e.date.add(t,1,"year")},e.templates.agenda_legacy_time=function(t,n,a){return a._timed?this.day_date(a.start_date,a.end_date,a)+" "+this.event_date(t):e.templates.day_date(t)+" &ndash; "+e.templates.day_date(n)},e.templates.agenda_legacy_text=function(e,t,n){return n.text},e.templates.agenda_legacy_date=function(){return""},e.date.agenda_legacy_start=function(){return e.date.date_part(e._currentDate())},e.attachEvent("onTemplatesReady",function(){var t=e.dblclick_dhx_cal_data;e.dblclick_dhx_cal_data=function(){if("agenda_legacy"==this._mode)!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(t)return t.apply(this,arguments)};var n=e.render_data;e.render_data=function(e){if("agenda_legacy"!=this._mode)return n.apply(this,arguments);r()};var a=e.render_view_data;function r(){var t=e.get_visible_events();t.sort(function(e,t){return e.start_date>t.start_date?1:-1});for(var n,a="<div class='dhx_agenda_area' "+e._waiAria.agendaDataAttrString()+">",r=0;r<t.length;r++){var i=t[r],o=i.color?"--dhx-scheduler-event-background:"+i.color+";":"",d=i.textColor?"--dhx-scheduler-event-color:"+i.textColor+";":"",s=e.templates.event_class(i.start_date,i.end_date,i);n=e._waiAria.agendaEventAttrString(i);var l=e._waiAria.agendaDetailsBtnString();a+="<div "+n+" class='dhx_agenda_line"+(s?" "+s:"")+"' event_id='"+i.id+"' "+e.config.event_attribute+"='"+i.id+"' style='"+d+o+(i._text_style||"")+"'><div class='dhx_agenda_event_time'>"+(e.config.rtl?e.templates.agenda_time(i.end_date,i.start_date,i):e.templates.agenda_time(i.start_date,i.end_date,i))+"</div>",a+=`<div ${l} class='dhx_event_icon icon_details'><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M15.4444 16.4H4.55556V7.6H15.4444V16.4ZM13.1111 2V3.6H6.88889V2H5.33333V3.6H4.55556C3.69222 3.6 3 4.312 3 5.2V16.4C3 16.8243 3.16389 17.2313 3.45561 17.5314C3.74733 17.8314 4.143 18 4.55556 18H15.4444C15.857 18 16.2527 17.8314 16.5444 17.5314C16.8361 17.2313 17 16.8243 17 16.4V5.2C17 4.312 16.3 3.6 15.4444 3.6H14.6667V2H13.1111ZM13.8889 10.8H10V14.8H13.8889V10.8Z" fill="#A1A4A6"/>\n\t\t\t</svg></div>`,a+="<span>"+e.templates.agenda_text(i.start_date,i.end_date,i)+"</span></div>"}a+="<div class='dhx_v_border'></div></div>",e._els.dhx_cal_data[0].innerHTML=a,e._els.dhx_cal_data[0].childNodes[0].scrollTop=e._agendaScrollTop||0;var c=e._els.dhx_cal_data[0].childNodes[0];c.childNodes[c.childNodes.length-1].style.height=c.offsetHeight<e._els.dhx_cal_data[0].offsetHeight?"100%":c.offsetHeight+"px";var _=e._els.dhx_cal_data[0].firstChild.childNodes,h=e._getNavDateElement();for(h&&(h.innerHTML=e.templates.agenda_date(e._min_date,e._max_date,e._mode)),e._rendered=[],r=0;r<_.length-1;r++)e._rendered[r]=_[r]}e.render_view_data=function(){return"agenda_legacy"==this._mode&&(e._agendaScrollTop=e._els.dhx_cal_data[0].childNodes[0].scrollTop,e._els.dhx_cal_data[0].childNodes[0].scrollTop=0),a.apply(this,arguments)},e.agenda_legacy_view=function(t){e._min_date=e.config.agenda_start||e.date.agenda_legacy_start(e._date),e._max_date=e.config.agenda_end||e.date.add_agenda_legacy(e._min_date,1),function(t){if(t){var n=e.locale.labels,a=e._waiAria.agendaHeadAttrString(),r=e._waiAria.agendaHeadDateString(n.date),i=e._waiAria.agendaHeadDescriptionString(n.description);e._els.dhx_cal_header[0].innerHTML="<div "+a+" class='dhx_agenda_line dhx_agenda_line_header'><div "+r+">"+n.date+"</div><span class = 'description_header' style='padding-left:25px' "+i+">"+n.description+"</span></div>",e._table_view=!0,e.set_sizes()}}(t),t?(e._cols=null,e._colsS=null,e._table_view=!0,r()):e._table_view=!1}})},agenda_view:function(e){e.date.add_agenda=function(t,n){return e.date.add(t,1*n,"month")},e.templates.agenda_time=function(t,n,a){return a._timed?`${this.event_date(t)} - ${this.event_date(n)}`:e.locale.labels.full_day},e.templates.agenda_text=function(e,t,n){return n.text};const t=e.date.date_to_str("%F %j"),n=e.date.date_to_str("%l");e.templates.agenda_day=function(e){return`<div class="dhx_agenda_day_date">${t(e)}</div>\n\t\t<div class="dhx_agenda_day_dow">${n(e)}</div>`},e.templates.agenda_date=function(t,n){return e.templates.month_date(e.getState().date)},e.date.agenda_start=function(t){return e.date.month_start(new Date(t))};let a=0;e.attachEvent("onTemplatesReady",function(){var t=e.dblclick_dhx_cal_data;e.dblclick_dhx_cal_data=function(){if("agenda"==this._mode)!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(t)return t.apply(this,arguments)};var n=e.render_data;e.render_data=function(e){if("agenda"!=this._mode)return n.apply(this,arguments);i()};var r=e.render_view_data;function i(){const t=e.get_visible_events();t.sort(function(e,t){return e.start_date>t.start_date?1:-1});const n={};let r=e.getState().min_date;const i=e.getState().max_date;for(;r.valueOf()<i.valueOf();)n[r.valueOf()]=[],r=e.date.add(r,1,"day");let d=!1;if(t.forEach(t=>{let a=e.date.day_start(new Date(t.start_date));for(;a.valueOf()<t.end_date.valueOf();)n[a.valueOf()]&&(n[a.valueOf()].push(t),d=!0),a=e.date.day_start(e.date.add(a,1,"day"))}),d){let t="";for(let a in n)e.ignore_agenda&&e.ignore_agenda(new Date(1*a))||(t+=o(new Date(1*a),n[a]));e._els.dhx_cal_data[0].innerHTML=t}else e._els.dhx_cal_data[0].innerHTML=`<div class="dhx_cal_agenda_no_events">${e.locale.labels.agenda_tab}</div>`;e._els.dhx_cal_data[0].scrollTop=a;let s=e._els.dhx_cal_data[0].querySelectorAll(".dhx_cal_agenda_event_line");e._rendered=[];for(var l=0;l<s.length-1;l++)e._rendered[l]=s[l]}function o(t,n){if(!n.length)return"";let a=`\n<div class="dhx_cal_agenda_day" data-date="${e.templates.format_date(t)}" data-day="${t.getDay()}">\n\t<div class="dhx_cal_agenda_day_header">${e.templates.agenda_day(t)}</div>\n\t<div class="dhx_cal_agenda_day_events">\n`;return n.forEach(t=>{a+=function(t,n){const a=e.templates.agenda_time(n.start_date,n.end_date,n),r=e.getState().select_id,i=e.templates.event_class(n.start_date,n.end_date,n),o=e.templates.agenda_text(n.start_date,n.end_date,n);let d="";return(n.color||n.textColor)&&(d=` style="${n.color?"--dhx-scheduler-event-background:"+n.color+";":""}${n.textColor?"--dhx-scheduler-event-color:"+n.textColor+";":""}" `),`<div class="dhx_cal_agenda_event_line ${i||""} ${n.id==r?"dhx_cal_agenda_event_line_selected":""}" ${d} ${e.config.event_attribute}="${n.id}">\n\t<div class="dhx_cal_agenda_event_line_marker"></div>\n\t<div class="dhx_cal_agenda_event_line_time">${a}</div>\n\t<div class="dhx_cal_agenda_event_line_text">${o}</div>\n</div>`}(0,t)}),a+="</div></div>",a}e.render_view_data=function(){return"agenda"==this._mode&&(a=e._els.dhx_cal_data[0].scrollTop,e._els.dhx_cal_data[0].scrollTop=0),r.apply(this,arguments)},e.agenda_view=function(t){t?(e._min_date=e.config.agenda_start||e.date.agenda_start(e._date),e._max_date=e.config.agenda_end||e.date.add_agenda(e._min_date,1),e._cols=null,e._colsS=null,e._table_view=!0,e._getNavDateElement().innerHTML=e.templates.agenda_date(e._date),i()):e._table_view=!1}})},all_timed:function(e){e.config.all_timed="short",e.config.all_timed_month=!1,e.ext.allTimed={isMainAreaEvent:function(n){return!!(n._timed||!0===e.config.all_timed||"short"==e.config.all_timed&&t(n))}};var t=function(t){return!((t.end_date-t.start_date)/36e5>=24)||"resize"==e._drag_mode&&e._drag_id==t.id};e._safe_copy=function(t){var n=null,a=e._copy_event(t);return t.event_pid&&(n=e.getEvent(t.event_pid)),n&&n.isPrototypeOf(t)&&(delete a.event_length,delete a.event_pid,delete a.rec_pattern,delete a.rec_type),a};var n=e._pre_render_events_line,a=e._pre_render_events_table,r=function(e,t){return this._table_view?a.call(this,e,t):n.call(this,e,t)};e._pre_render_events_line=e._pre_render_events_table=function(n,a){if(!this.config.all_timed||this._table_view&&"month"!=this._mode||"month"==this._mode&&!this.config.all_timed_month)return r.call(this,n,a);for(var i=0;i<n.length;i++){var o=n[i];if(!o._timed)if("short"!=this.config.all_timed||t(o)){var d=this._safe_copy(o);o._virtual?d._first_chunk=!1:d._first_chunk=!0,d._drag_resize=!1,d._virtual=!0,d.start_date=new Date(d.start_date),_(o)?(d.end_date=h(d.start_date),24!=this.config.last_hour&&(d.end_date=u(d.start_date,this.config.last_hour))):d.end_date=new Date(o.end_date);var s=!1;d.start_date<this._max_date&&d.end_date>this._min_date&&d.start_date<d.end_date&&(n[i]=d,s=!0);var l=this._safe_copy(o);if(l._virtual=!0,l.end_date=new Date(l.end_date),l.start_date<this._min_date?l.start_date=u(this._min_date,this.config.first_hour):l.start_date=u(h(o.start_date),this.config.first_hour),l.start_date<this._max_date&&l.start_date<l.end_date){if(!s){n[i--]=l;continue}n.splice(i+1,0,l),l._last_chunk=!1}else d._last_chunk=!0,d._drag_resize=!0}else"month"!=this._mode&&n.splice(i--,1)}var c="move"!=this._drag_mode&&a;return r.call(this,n,c);function _(e){var t=h(e.start_date);return+e.end_date>+t}function h(t){var n=e.date.add(t,1,"day");return e.date.date_part(n)}function u(t,n){var a=e.date.date_part(new Date(t));return a.setHours(n),a}};var i=e.get_visible_events;e.get_visible_events=function(e){return this.config.all_timed&&this.config.multi_day?i.call(this,!1):i.call(this,e)},e.attachEvent("onBeforeViewChange",function(t,n,a,r){return e._allow_dnd="day"==a||"week"==a||e.getView(a),!0}),e._is_main_area_event=function(t){return e.ext.allTimed.isMainAreaEvent(t)};var o=e.updateEvent;e.updateEvent=function(t){var n,a,r=e.getEvent(t);r&&(n=e.config.all_timed&&!(e.isOneDayEvent(e._events[t])||e.getState().drag_id))&&(a=e.config.update_render,e.config.update_render=!0),o.apply(e,arguments),r&&n&&(e.config.update_render=a)}},collision:function(e){let t,n;function a(n){e._get_section_view()&&n&&(t=e.getEvent(n)[e._get_section_property()])}e.config.collision_limit=1,e.attachEvent("onBeforeDrag",function(e){return a(e),!0}),e.attachEvent("onBeforeLightbox",function(t){const r=e.getEvent(t);return n=[r.start_date,r.end_date],a(t),!0}),e.attachEvent("onEventChanged",function(t){if(!t||!e.getEvent(t))return!0;const a=e.getEvent(t);if(!e.checkCollision(a)){if(!n)return!1;a.start_date=n[0],a.end_date=n[1],a._timed=this.isOneDayEvent(a)}return!0}),e.attachEvent("onBeforeEventChanged",function(t,n,a){return e.checkCollision(t)}),e.attachEvent("onEventAdded",function(t,n){e.checkCollision(n)||e.deleteEvent(t)}),e.attachEvent("onEventSave",function(t,n,a){if((n=e._lame_clone(n)).id=t,!n.start_date||!n.end_date){const a=e.getEvent(t);n.start_date=new Date(a.start_date),n.end_date=new Date(a.end_date)}return(n.rrule&&!n.recurring_event_id||n.rec_type)&&e._roll_back_dates(n),e.checkCollision(n)}),e._check_sections_collision=function(t,n){const a=e._get_section_property();return t[a]==n[a]&&t.id!=n.id},e.checkCollision=function(n){let a=[];const r=e.config.collision_limit;if(n.rec_type){let t=e.getRecDates(n);for(let r=0;r<t.length;r++){let i=e.getEvents(t[r].start_date,t[r].end_date);for(let e=0;e<i.length;e++)(i[e].event_pid||i[e].id)!=n.id&&a.push(i[e])}}else if(n.rrule){let t=e.getRecDates(n);for(let r=0;r<t.length;r++){let i=e.getEvents(t[r].start_date,t[r].end_date);for(let e=0;e<i.length;e++)(String(i[e].id).split("#")[0]||i[e].id)!=n.id&&a.push(i[e])}}else{a=e.getEvents(n.start_date,n.end_date);for(let e=0;e<a.length;e++){let t=a[e];if(t.id==n.id||t.event_length&&[t.event_pid,t.event_length].join("#")==n.id){a.splice(e,1);break}if(t.recurring_event_id&&[t.recurring_event_id,t._pid_time].join("#")==n.id){a.splice(e,1);break}}}const i=e._get_section_view(),o=e._get_section_property();let d=!0;if(i){let e=0;for(let t=0;t<a.length;t++)a[t].id!=n.id&&this._check_sections_collision(a[t],n)&&e++;e>=r&&(d=!1)}else a.length>=r&&(d=!1);if(!d){let r=!e.callEvent("onEventCollision",[n,a]);return r||(n[o]=t||n[o]),r}return d}},container_autoresize:function(e){e.config.container_autoresize=!0,e.config.month_day_min_height=90,e.config.min_grid_size=25,e.config.min_map_size=400;var t=e._pre_render_events,n=!0,a=0,r=0;e._pre_render_events=function(i,o){if(!e.config.container_autoresize||!n)return t.apply(this,arguments);var d=this.xy.bar_height,s=this._colsS.heights,l=this._colsS.heights=[0,0,0,0,0,0,0],c=this._els.dhx_cal_data[0];if(i=this._table_view?this._pre_render_events_table(i,o):this._pre_render_events_line(i,o),this._table_view)if(o)this._colsS.heights=s;else{var _=c.firstChild;const e=_.querySelectorAll(".dhx_cal_month_row");if(e&&e.length){for(var h=0;h<e.length;h++){if(l[h]++,l[h]*d>this._colsS.height-this.xy.month_head_height){var u=e[h].querySelectorAll(".dhx_cal_month_cell"),p=this._colsS.height-this.xy.month_head_height;1*this.config.max_month_events!==this.config.max_month_events||l[h]<=this.config.max_month_events?p=l[h]*d:(this.config.max_month_events+1)*d>this._colsS.height-this.xy.month_head_height&&(p=(this.config.max_month_events+1)*d),e[h].style.height=p+this.xy.month_head_height+"px";for(var f=0;f<u.length;f++)u[f].childNodes[1].style.height=p+"px";l[h]=(l[h-1]||0)+u[0].offsetHeight}l[h]=(l[h-1]||0)+e[h].querySelectorAll(".dhx_cal_month_cell")[0].offsetHeight}l.unshift(0),_.parentNode.offsetHeight<_.parentNode.scrollHeight&&_._h_fix}else if(i.length||"visible"!=this._els.dhx_multi_day[0].style.visibility||(l[0]=-1),i.length||-1==l[0]){var v=(l[0]+1)*d+1;r!=v+1&&(this._obj.style.height=a-r+v-1+"px"),v+="px";const e=this._els.dhx_cal_navline[0].offsetHeight,t=this._els.dhx_cal_header[0].offsetHeight;c.style.height=this._obj.offsetHeight-e-t-(this.xy.margin_top||0)+"px";var g=this._els.dhx_multi_day[0];g.style.height=v,g.style.visibility=-1==l[0]?"hidden":"visible",g.style.display=-1==l[0]?"none":"",(g=this._els.dhx_multi_day[1]).style.height=v,g.style.visibility=-1==l[0]?"hidden":"visible",g.style.display=-1==l[0]?"none":"",g.className=l[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(l[0]+1)*d,l[0]=0}}return i};var i=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],o=function(t){a=0;for(var n=0;n<i.length;n++){var o=i[n],d=e._els[o]?e._els[o][0]:null,s=0;switch(o){case"dhx_cal_navline":case"dhx_cal_header":s=d.offsetHeight;break;case"dhx_multi_day":s=d?d.offsetHeight-1:0,r=s;break;case"dhx_cal_data":var c=e.getState().mode;if(d.childNodes[1]&&"month"!=c){let e=0;for(let t=0;t<d.childNodes.length;t++)d.childNodes[t].offsetHeight>e&&(e=d.childNodes[t].offsetHeight);s=e}else s=Math.max(d.offsetHeight-1,d.scrollHeight);if("month"==c)e.config.month_day_min_height&&!t&&(s=d.querySelectorAll(".dhx_cal_month_row").length*e.config.month_day_min_height),t&&(d.style.height=s+"px");else if("year"==c)s=190*e.config.year_y;else if("agenda"==c){if(s=0,d.children&&d.children.length)if(1===d.children.length&&d.children[0].classList.contains("dhx_cal_agenda_no_events"))s=300;else for(var _=0;_<d.children.length;_++)s+=d.children[_].offsetHeight;s+2<e.config.min_grid_size?s=e.config.min_grid_size:s+=2}else if("week_agenda"==c){for(var h,u,p=e.xy.week_agenda_scale_height+e.config.min_grid_size,f=0;f<d.childNodes.length;f++)for(u=d.childNodes[f],_=0;_<u.childNodes.length;_++){for(var v=0,g=u.childNodes[_].childNodes[1],m=0;m<g.childNodes.length;m++)v+=g.childNodes[m].offsetHeight;h=v+e.xy.week_agenda_scale_height,(h=1!=f||2!=_&&3!=_?h:2*h)>p&&(p=h)}s=3*p}else if("map"==c){s=0;var x=d.querySelectorAll(".dhx_map_line");for(_=0;_<x.length;_++)s+=x[_].offsetHeight;s+2<e.config.min_map_size?s=e.config.min_map_size:s+=2}else if(e._gridView)if(s=0,d.childNodes[1].childNodes[0].childNodes&&d.childNodes[1].childNodes[0].childNodes.length){for(x=d.childNodes[1].childNodes[0].childNodes[0].childNodes,_=0;_<x.length;_++)s+=x[_].offsetHeight;(s+=2)<e.config.min_grid_size&&(s=e.config.min_grid_size)}else s=e.config.min_grid_size;if(e.matrix&&e.matrix[c]){if(t)s+=0,d.style.height=s+"px";else{s=0;for(var b=e.matrix[c],y=b.y_unit,w=0;w<y.length;w++)s+=b.getSectionHeight(y[w].key);e.$container.clientWidth!=e.$container.scrollWidth&&(s+=l())}s-=1}("day"==c||"week"==c||e._props&&e._props[c])&&(s+=2)}a+=s+=1}e._obj.style.height=a+"px",t||e.updateView()};function d(){n=!1,e.callEvent("onAfterSchedulerResize",[]),n=!0}var s=function(){if(!e.config.container_autoresize||!n)return!0;var t=e.getState().mode;if(!t)return!0;var a=window.requestAnimationFrame||window.setTimeout,r=document.documentElement.scrollTop;a(function(){!e.$destroyed&&e.$initialized&&o()}),e.matrix&&e.matrix[t]||"month"==t?a(function(){!e.$destroyed&&e.$initialized&&(o(!0),document.documentElement.scrollTop=r,d())},1):d()};function l(){var e=document.createElement("div");e.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}e.attachEvent("onBeforeViewChange",function(){var t=e.config.container_autoresize;if(e.xy.$original_scroll_width||(e.xy.$original_scroll_width=e.xy.scroll_width),e.xy.scroll_width=t?0:e.xy.$original_scroll_width,e.matrix)for(var n in e.matrix){var a=e.matrix[n];a.$original_section_autoheight||(a.$original_section_autoheight=a.section_autoheight),a.section_autoheight=!t&&a.$original_section_autoheight}return!0}),e.attachEvent("onViewChange",s),e.attachEvent("onXLE",s),e.attachEvent("onEventChanged",s),e.attachEvent("onEventCreated",s),e.attachEvent("onEventAdded",s),e.attachEvent("onEventDeleted",s),e.attachEvent("onAfterSchedulerResize",s),e.attachEvent("onClearAll",s),e.attachEvent("onBeforeExpand",function(){return n=!1,!0}),e.attachEvent("onBeforeCollapse",function(){return n=!0,!0})},cookie:function(e){function t(e){return(e._obj.id||"scheduler")+"_settings"}var n=!0;e.attachEvent("onBeforeViewChange",function(a,r,i,o){if(n&&e._get_url_nav){var d=e._get_url_nav();(d.date||d.mode||d.event)&&(n=!1)}var s=t(e);if(n){n=!1;var l=function(e){var t=e+"=";if(document.cookie.length>0){var n=document.cookie.indexOf(t);if(-1!=n){n+=t.length;var a=document.cookie.indexOf(";",n);return-1==a&&(a=document.cookie.length),document.cookie.substring(n,a)}}return""}(s);if(l){e._min_date||(e._min_date=o),(l=unescape(l).split("@"))[0]=this._helpers.parseDate(l[0]);var c=this.isViewExists(l[1])?l[1]:i;return o=isNaN(+l[0])?o:l[0],window.setTimeout(function(){e.$destroyed||e.setCurrentView(o,c)},1),!1}}return!0}),e.attachEvent("onViewChange",function(n,a){!function(e,t,n){const a=`${e}=${n}${t?`; ${t}`:""}`;document.cookie=`${a}; Secure`}(t(e),"expires=Sun, 31 Jan 9999 22:00:00 GMT",escape(this._helpers.formatDate(a)+"@"+n))});var a=e._load;e._load=function(){var t=arguments;if(e._date)a.apply(this,t);else{var n=this;window.setTimeout(function(){a.apply(n,t)},1)}}},daytimeline:function(e){Ci("Day Timeline",e.assert)},drag_between:function(e){Ci("Drag Between",e.assert)},editors:function(e){e.form_blocks.combo={render:function(e){e.cached_options||(e.cached_options={});const t=e.height?`style='height:${e.height}px;'`:"";return""+`<div class='${e.type}' ${t}></div>`},set_value:function(t,n,a,r){(function(){a();var n=e.attachEvent("onAfterLightbox",function(){a(),e.detachEvent(n)});function a(){if(t._combo&&t._combo.DOMParent){var e=t._combo;e.unload?e.unload():e.destructor&&e.destructor(),e.DOMParent=e.DOMelem=null}}})(),window.dhx_globalImgPath=r.image_path||"/",t._combo=new dhtmlXCombo(t,r.name,t.offsetWidth-8),r.onchange&&t._combo.attachEvent("onChange",r.onchange),r.options_height&&t._combo.setOptionHeight(r.options_height);var i=t._combo;if(i.enableFilteringMode(r.filtering,r.script_path||null,!!r.cache),r.script_path){var o=a[r.map_to];o?r.cached_options[o]?(i.addOption(o,r.cached_options[o]),i.disable(1),i.selectOption(0),i.disable(0)):e.ajax.get(r.script_path+"?id="+o+"&uid="+e.uid(),function(t){var n,a=t.xmlDoc.responseText;try{n=JSON.parse(a).options[0].text}catch{n=e.ajax.xpath("//option",t.xmlDoc)[0].childNodes[0].nodeValue}r.cached_options[o]=n,i.addOption(o,n),i.disable(1),i.selectOption(0),i.disable(0)}):i.setComboValue("")}else{for(var d=[],s=0;s<r.options.length;s++){var l=r.options[s],c=[l.key,l.label,l.css];d.push(c)}if(i.addOption(d),a[r.map_to]){var _=i.getIndexByValue(a[r.map_to]);i.selectOption(_)}}},get_value:function(e,t,n){var a=e._combo.getSelectedValue();return n.script_path&&(n.cached_options[a]=e._combo.getSelectedText()),a},focus:function(e){}},e.form_blocks.radio={render:function(t){var n="";n+=`<div class='dhx_cal_ltext dhx_cal_radio ${t.vertical?"dhx_cal_radio_vertical":""}' style='height:${t.height}px;'>`;for(var a=0;a<t.options.length;a++){var r=e.uid();n+="<label class='dhx_cal_radio_item' for='"+r+"'><input id='"+r+"' type='radio' name='"+t.name+"' value='"+t.options[a].key+"'><span> "+t.options[a].label+"</span></label>"}return n+"</div>"},set_value:function(e,t,n,a){for(var r=e.getElementsByTagName("input"),i=0;i<r.length;i++){r[i].checked=!1;var o=n[a.map_to]||t;r[i].value==o&&(r[i].checked=!0)}},get_value:function(e,t,n){for(var a=e.getElementsByTagName("input"),r=0;r<a.length;r++)if(a[r].checked)return a[r].value},focus:function(e){}},e.form_blocks.checkbox={render:function(t){return e.config.wide_form?'<div class="dhx_cal_wide_checkbox"></div>':""},set_value:function(t,n,a,r){t=e._lightbox.querySelector(`#${r.id}`),r.height&&(t.style.height=`${r.height}px`);var i=e.uid(),o=void 0!==r.checked_value?n==r.checked_value:!!n;t.className+=" dhx_cal_checkbox";var d="<input id='"+i+"' type='checkbox' value='true' name='"+r.name+"'"+(o?"checked='true'":"")+"'>",s="<label for='"+i+"'>"+(e.locale.labels["section_"+r.name]||r.name)+"</label>";if(e.config.wide_form?(t.innerHTML=s,t.nextSibling.innerHTML=d):t.innerHTML=d+s,r.handler){var l=t.getElementsByTagName("input")[0];if(l.$_eventAttached)return;l.$_eventAttached=!0,e.event(l,"click",r.handler)}},get_value:function(t,n,a){var r=(t=e._lightbox.querySelector(`#${a.id}`)).getElementsByTagName("input")[0];return r||(r=t.nextSibling.getElementsByTagName("input")[0]),r.checked?a.checked_value||!0:a.unchecked_value||!1},focus:function(e){}}},expand:function(e){e.ext.fullscreen={toggleIcon:null},e.expand=function(){if(e.callEvent("onBeforeExpand",[])){var t=e._obj;do{t._position=t.style.position||"",t.style.position="static"}while((t=t.parentNode)&&t.style);(t=e._obj).style.position="absolute",t._width=t.style.width,t._height=t.style.height,t.style.width=t.style.height="100%",t.style.top=t.style.left="0px";var n=document.body;n.scrollTop=0,(n=n.parentNode)&&(n.scrollTop=0),document.body._overflow=document.body.style.overflow||"",document.body.style.overflow="hidden",e._maximize(),e.callEvent("onExpand",[])}},e.collapse=function(){if(e.callEvent("onBeforeCollapse",[])){var t=e._obj;do{t.style.position=t._position}while((t=t.parentNode)&&t.style);(t=e._obj).style.width=t._width,t.style.height=t._height,document.body.style.overflow=document.body._overflow,e._maximize(),e.callEvent("onCollapse",[])}},e.attachEvent("onTemplatesReady",function(){var t=document.createElement("div");t.className="dhx_expand_icon",e.ext.fullscreen.toggleIcon=t,t.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t<g>\n\t<line x1="0.5" y1="5" x2="0.5" y2="3.0598e-08" stroke="var(--dhx-scheduler-base-colors-icons)"/>\n\t<line y1="0.5" x2="5" y2="0.5" stroke="var(--dhx-scheduler-base-colors-icons)"/>\n\t<line x1="0.5" y1="11" x2="0.5" y2="16" stroke="var(--dhx-scheduler-base-colors-icons)"/>\n\t<line y1="15.5" x2="5" y2="15.5" stroke="var(--dhx-scheduler-base-colors-icons)"/>\n\t<line x1="11" y1="0.5" x2="16" y2="0.5" stroke="var(--dhx-scheduler-base-colors-icons)"/>\n\t<line x1="15.5" y1="2.18557e-08" x2="15.5" y2="5" stroke="var(--dhx-scheduler-base-colors-icons)"/>\n\t<line x1="11" y1="15.5" x2="16" y2="15.5" stroke="var(--dhx-scheduler-base-colors-icons)"/>\n\t<line x1="15.5" y1="16" x2="15.5" y2="11" stroke="var(--dhx-scheduler-base-colors-icons)"/>\n\t</g>\n\t</svg>\n\t',e._obj.appendChild(t),e.event(t,"click",function(){e.expanded?e.collapse():e.expand()})}),e._maximize=function(){this.expanded=!this.expanded,this.expanded?this.ext.fullscreen.toggleIcon.classList.add("dhx_expand_icon--expanded"):this.ext.fullscreen.toggleIcon.classList.remove("dhx_expand_icon--expanded");for(var t=["left","top"],n=0;n<t.length;n++){var a=e["_prev_margin_"+t[n]];e.xy["margin_"+t[n]]?(e["_prev_margin_"+t[n]]=e.xy["margin_"+t[n]],e.xy["margin_"+t[n]]=0):a&&(e.xy["margin_"+t[n]]=e["_prev_margin_"+t[n]],delete e["_prev_margin_"+t[n]])}e.setCurrentView()}},export_api:function(e){!function(){function t(e,t){for(var n in t)e[n]||(e[n]=t[n]);return e}function n(e,t){var n={};return(e=t._els[e])&&e[0]?(n.x=e[0].scrollWidth,n.y=e[0].scrollHeight):(n.x=0,n.y=0),n}window.dhtmlxAjax||(window.dhtmlxAjax={post:function(e,t,n){return window.dhx4.ajax.post(e,t,n)},get:function(e,t){return window.ajax.get(e,t)}}),function(e){function a(){var t=e.getState().mode;return e.matrix&&e.matrix[t]?e.matrix[t]:null}e.exportToPDF=function(n){(n=t(n||{},{name:"calendar.pdf",format:"A4",orientation:"landscape",dpi:96,zoom:1,rtl:e.config.rtl})).html=this._export_html(n),n.mode=this.getState().mode,this._send_to_export(n,"pdf")},e.exportToPNG=function(n){(n=t(n||{},{name:"calendar.png",format:"A4",orientation:"landscape",dpi:96,zoom:1,rtl:e.config.rtl})).html=this._export_html(n),n.mode=this.getState().mode,this._send_to_export(n,"png")},e.exportToICal=function(e){e=t(e||{},{name:"calendar.ical",data:this._serialize_plain(null,e)}),this._send_to_export(e,"ical")},e.exportToExcel=function(e){e=t(e||{},{name:"calendar.xlsx",title:"Events",data:this._serialize_plain(this.templates.xml_format,e),columns:this._serialize_columns()}),this._send_to_export(e,"excel")},e._ajax_to_export=function(e,t,n){delete e.callback;var a=e.server||"https://export.dhtmlx.com/scheduler";window.dhtmlxAjax.post(a,"type="+t+"&store=1&data="+encodeURIComponent(JSON.stringify(e)),function(e){var t=null;if(!(e.xmlDoc.status>400))try{t=JSON.parse(e.xmlDoc.responseText)}catch{}n(t)})},e._plain_export_copy=function(e,t){var n={};for(var a in e)n[a]=e[a];return n.start_date=t(n.start_date),n.end_date=t(n.end_date),n.$text=this.templates.event_text(e.start_date,e.end_date,e),n},e._serialize_plain=function(t,n){var a;t=t||e.date.date_to_str("%Y%m%dT%H%i%s",!0),a=n&&n.start&&n.end?e.getEvents(n.start,n.end):e.getEvents();for(var r=[],i=0;i<a.length;i++)r[i]=this._plain_export_copy(a[i],t);return r},e._serialize_columns=function(){return[{id:"start_date",header:"Start Date",width:30},{id:"end_date",header:"End Date",width:30},{id:"$text",header:"Text",width:100}]},e._send_to_export=function(t,n){if(t.version||(t.version=e.version),t.skin||(t.skin=e.skin),t.callback)return e._ajax_to_export(t,n,t.callback);var a=this._create_hidden_form();a.firstChild.action=t.server||"https://export.dhtmlx.com/scheduler",a.firstChild.childNodes[0].value=JSON.stringify(t),a.firstChild.childNodes[1].value=n,a.firstChild.submit()},e._create_hidden_form=function(){if(!this._hidden_export_form){var e=this._hidden_export_form=document.createElement("div");e.style.display="none",e.innerHTML="<form method='POST' target='_blank'><input type='text' name='data'><input type='hidden' name='type' value=''></form>",document.body.appendChild(e)}return this._hidden_export_form},e._get_export_size=function(e,t,a,r,i,o,d){r=parseInt(r)/25.4||4;var s={A5:{x:148,y:210},A4:{x:210,y:297},A3:{x:297,y:420},A2:{x:420,y:594},A1:{x:594,y:841},A0:{x:841,y:1189}},l=n("dhx_cal_data",this).x,c={y:n("dhx_cal_data",this).y+n("dhx_cal_header",this).y+n("dhx_multi_day",this).y};return c.x="full"===e?l:Math.floor(("landscape"===t?s[e].y:s[e].x)*r),d&&(c.x*=parseFloat(d.x)||1,c.y*=parseFloat(d.y)||1),c},e._export_html=function(t){var n,r,i,o=(n=void 0,r=void 0,(i=a())&&(r=i.scrollable,n=i.smart_rendering),{nav_height:e.xy.nav_height,scroll_width:e.xy.scroll_width,style_width:e._obj.style.width,style_height:e._obj.style.height,timeline_scrollable:r,timeline_smart_rendering:n}),d=e._get_export_size(t.format,t.orientation,t.zoom,t.dpi,t.header,t.footer,t.scales),s="";try{(function(t,n){e._obj.style.width=t.x+"px",e._obj.style.height=t.y+"px",e.xy.nav_height=0,e.xy.scroll_width=0;var r=a();(n.timeline_scrollable||n.timeline_smart_rendering)&&(r.scrollable=!1,r.smart_rendering=!1)})(d,o),e.setCurrentView(),s=e._obj.innerHTML}catch(e){console.error(e)}finally{(function(t){e.xy.scroll_width=t.scroll_width,e.xy.nav_height=t.nav_height,e._obj.style.width=t.style_width,e._obj.style.height=t.style_height;var n=a();(t.timeline_scrollable||t.timeline_smart_rendering)&&(n.scrollable=t.timeline_scrollable,n.smart_rendering=t.timeline_smart_rendering)})(o),e.setCurrentView()}return s}}(e)}()},grid_view:function(e){Ci("Grid",e.assert)},html_templates:function(e){e.attachEvent("onTemplatesReady",function(){for(var t=document.body.getElementsByTagName("DIV"),n=0;n<t.length;n++){var a=t[n].className||"";if(2==(a=a.split(":")).length&&"template"==a[0]){var r='return "'+(t[n].innerHTML||"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/[\n\r]+/g,"")+'";';r=unescape(r).replace(/\{event\.([a-z]+)\}/g,function(e,t){return'"+ev.'+t+'+"'}),e.templates[a[1]]=Function("start","end","ev",r),t[n].style.display="none"}}})},key_nav:function(e){function t(t){var n={minicalButton:e.$keyboardNavigation.MinicalButton,minicalDate:e.$keyboardNavigation.MinicalCell,scheduler:e.$keyboardNavigation.SchedulerNode,dataArea:e.$keyboardNavigation.DataArea,timeSlot:e.$keyboardNavigation.TimeSlot,event:e.$keyboardNavigation.Event},a={};for(var r in n)a[r.toLowerCase()]=n[r];return a[t=(t+"").toLowerCase()]||n.scheduler}e.config.key_nav=!0,e.config.key_nav_step=30,e.addShortcut=function(e,n,a){var r=t(a);r&&r.prototype.bind(e,n)},e.getShortcutHandler=function(n,a){var r=t(a);if(r){var i=e.$keyboardNavigation.shortcuts.parse(n);if(i.length)return r.prototype.findHandler(i[0])}},e.removeShortcut=function(e,n){var a=t(n);a&&a.prototype.unbind(e)},e.focus=function(){if(e.config.key_nav){var t=e.$keyboardNavigation.dispatcher;t.enable();var n=t.getActiveNode();!n||n instanceof e.$keyboardNavigation.MinicalButton||n instanceof e.$keyboardNavigation.MinicalCell?t.setDefaultNode():t.focusNode(t.getActiveNode())}},e.$keyboardNavigation={},e._compose=function(){for(var e=Array.prototype.slice.call(arguments,0),t={},n=0;n<e.length;n++){var a=e[n];for(var r in"function"==typeof a&&(a=new a),a)t[r]=a[r]}return t},e.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(e){for(var t=[],n=this.getExpressions(this.trim(e)),a=0;a<n.length;a++){for(var r=this.getWords(n[a]),i=this.createCommand(),o=0;o<r.length;o++)this.commandKeys[r[o]]?i.modifiers[r[o]]=!0:this.specialKeys[r[o]]?i.keyCode=this.specialKeys[r[o]]:i.keyCode=r[o].charCodeAt(0);t.push(i)}return t},getCommandFromEvent:function(e){var t=this.createCommand();t.modifiers.shift=!!e.shiftKey,t.modifiers.alt=!!e.altKey,t.modifiers.ctrl=!!e.ctrlKey,t.modifiers.meta=!!e.metaKey,t.keyCode=e.which||e.keyCode,t.keyCode>=96&&t.keyCode<=105&&(t.keyCode-=48);var n=String.fromCharCode(t.keyCode);return n&&(t.keyCode=n.toLowerCase().charCodeAt(0)),t},getHashFromEvent:function(e){return this.getHash(this.getCommandFromEvent(e))},getHash:function(e){var t=[];for(var n in e.modifiers)e.modifiers[n]&&t.push(n);return t.push(e.keyCode),t.join(this.junctionChar)},getExpressions:function(e){return e.split(this.junctionChar)},getWords:function(e){return e.split(this.combinationChar)},trim:function(e){return e.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}},function(e){e.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(t){this._handlers||(this._handlers={});var n=e.$keyboardNavigation.shortcuts.getHash(t);return this._handlers[n]},doAction:function(e,t){var n=this.findHandler(e);n&&(n.call(this,t),t.preventDefault?t.preventDefault():t.returnValue=!1)},bind:function(t,n){this._handlers||(this._handlers={});for(var a=e.$keyboardNavigation.shortcuts,r=a.parse(t),i=0;i<r.length;i++)this._handlers[a.getHash(r[i])]=n},unbind:function(t){for(var n=e.$keyboardNavigation.shortcuts,a=n.parse(t),r=0;r<a.length;r++)this._handlers[n.getHash(a[r])]&&delete this._handlers[n.getHash(a[r])]},bindAll:function(e){for(var t in e)this.bind(t,e[t])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}(e),function(e){e.$keyboardNavigation.getFocusableNodes=e._getFocusableNodes,e.$keyboardNavigation.trapFocus=function(t,n){if(9!=n.keyCode)return!1;for(var a,r=e.$keyboardNavigation.getFocusableNodes(t),i=document.activeElement,o=-1,d=0;d<r.length;d++)if(r[d]==i){o=d;break}if(n.shiftKey){if(a=r[o<=0?r.length-1:o-1])return a.focus(),n.preventDefault(),!0}else if(a=r[o>=r.length-1?0:o+1])return a.focus(),n.preventDefault(),!0;return!1}}(e),function(e){e.$keyboardNavigation.marker={clear:function(){for(var t=e.$container.querySelectorAll(".dhx_focus_slot"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])},createElement:function(){var e=document.createElement("div");return e.setAttribute("tabindex",-1),e.className="dhx_focus_slot",e},renderMultiple:function(t,n,a){for(var r=[],i=new Date(t),o=new Date(Math.min(n.valueOf(),e.date.add(e.date.day_start(new Date(t)),1,"day").valueOf()));i.valueOf()<n.valueOf();)r=r.concat(a.call(this,i,new Date(Math.min(o.valueOf(),n.valueOf())))),i=e.date.day_start(e.date.add(i,1,"day")),o=e.date.day_start(e.date.add(i,1,"day")),o=new Date(Math.min(o.valueOf(),n.valueOf()));return r},render:function(t,n,a){this.clear();var r=[],i=e.$keyboardNavigation.TimeSlot.prototype._modes;switch(e.$keyboardNavigation.TimeSlot.prototype._getMode()){case i.units:r=this.renderVerticalMarker(t,n,a);break;case i.timeline:r=this.renderTimelineMarker(t,n,a);break;case i.year:r=r.concat(this.renderMultiple(t,n,this.renderYearMarker));break;case i.month:r=this.renderMonthMarker(t,n);break;case i.weekAgenda:r=r.concat(this.renderMultiple(t,n,this.renderWeekAgendaMarker));break;case i.list:r=this.renderAgendaMarker(t,n);break;case i.dayColumns:r=r.concat(this.renderMultiple(t,n,this.renderVerticalMarker))}this.addWaiAriaLabel(r,t,n,a),this.addDataAttributes(r,t,n,a);for(var o=r.length-1;o>=0;o--)if(r[o].offsetWidth)return r[o];return null},addDataAttributes:function(t,n,a,r){for(var i=e.date.date_to_str(e.config.api_date),o=i(n),d=i(a),s=0;s<t.length;s++)t[s].setAttribute("data-start-date",o),t[s].setAttribute("data-end-date",d),r&&t[s].setAttribute("data-section",r)},addWaiAriaLabel:function(t,n,a,r){var i="",o=e.getState().mode,d=!1;if(i+=e.templates.day_date(n),e.date.day_start(new Date(n)).valueOf()!=n.valueOf()&&(i+=" "+e.templates.hour_scale(n),d=!0),e.date.day_start(new Date(n)).valueOf()!=e.date.day_start(new Date(a)).valueOf()&&(i+=" - "+e.templates.day_date(a),(d||e.date.day_start(new Date(a)).valueOf()!=a.valueOf())&&(i+=" "+e.templates.hour_scale(a))),r)if(e.matrix&&e.matrix[o]){const t=e.matrix[o],n=t.y_unit[t.order[r]];i+=", "+e.templates[o+"_scale_label"](n.key,n.label,n)}else if(e._props&&e._props[o]){const t=e._props[o],n=t.options[t.order[r]];i+=", "+e.templates[o+"_scale_text"](n.key,n.label,n)}for(var s=0;s<t.length;s++)e._waiAria.setAttributes(t[s],{"aria-label":i,"aria-live":"polite"})},renderWeekAgendaMarker:function(t,n){for(var a=e.$container.querySelectorAll(".dhx_wa_day_cont .dhx_wa_scale_bar"),r=e.date.week_start(new Date(e.getState().min_date)),i=-1,o=e.date.day_start(new Date(t)),d=0;d<a.length&&(i++,e.date.day_start(new Date(r)).valueOf()!=o.valueOf());d++)r=e.date.add(r,1,"day");return-1!=i?this._wrapDiv(a[i]):[]},_wrapDiv:function(e){var t=this.createElement();return t.style.top=e.offsetTop+"px",t.style.left=e.offsetLeft+"px",t.style.width=e.offsetWidth+"px",t.style.height=e.offsetHeight+"px",e.appendChild(t),[t]},renderYearMarker:function(t,n){var a=e._get_year_cell(t);a.style.position="relative";var r=this.createElement();return r.style.top="0px",r.style.left="0px",r.style.width="100%",r.style.height="100%",a.appendChild(r),[r]},renderAgendaMarker:function(t,n){var a=this.createElement();return a.style.height="1px",a.style.width="100%",a.style.opacity=1,a.style.top="0px",a.style.left="0px",e.$container.querySelector(".dhx_cal_data").appendChild(a),[a]},renderTimelineMarker:function(t,n,a){var r=e._lame_copy({},e.matrix[e._mode]),i=r._scales;r.round_position=!1;var o=[],d=t?new Date(t):e._min_date,s=n?new Date(n):e._max_date;if(d.valueOf()<e._min_date.valueOf()&&(d=new Date(e._min_date)),s.valueOf()>e._max_date.valueOf()&&(s=new Date(e._max_date)),!r._trace_x)return o;for(var l=0;l<r._trace_x.length&&!e._is_column_visible(r._trace_x[l]);l++);if(l==r._trace_x.length)return o;var c=i[a];if(!(d<n&&s>t))return o;var _=this.createElement();let h,u;function p(e,t){t.setDate(1),t.setFullYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(e.getDate())}if(e.getView().days){const a=new Date(t);p(e._min_date,a);const i=new Date(n);p(e._min_date,i),h=e._timeline_getX({start_date:a},!1,r),u=e._timeline_getX({start_date:i},!1,r)}else h=e._timeline_getX({start_date:t},!1,r),u=e._timeline_getX({start_date:n},!1,r);var f=r._section_height[a]-1||r.dy-1,v=0;e._isRender("cell")&&(v=c.offsetTop,h+=r.dx,u+=r.dx,c=e.$container.querySelector(".dhx_cal_data"));var g=Math.max(1,u-h-1);let m="left";return e.config.rtl&&(m="right"),_.style.cssText=`height:${f}px; ${m}:${h}px; width:${g}px; top:${v}px;`,c&&(c.appendChild(_),o.push(_)),o},renderMonthCell:function(t){for(var n=e.$container.querySelectorAll(".dhx_month_head"),a=[],r=0;r<n.length;r++)a.push(n[r].parentNode);var i=-1,o=0,d=-1,s=e.date.week_start(new Date(e.getState().min_date)),l=e.date.day_start(new Date(t));for(r=0;r<a.length&&(i++,6==d?(o++,d=0):d++,e.date.day_start(new Date(s)).valueOf()!=l.valueOf());r++)s=e.date.add(s,1,"day");if(-1==i)return[];var c=e._colsS[d],_=e._colsS.heights[o],h=this.createElement();h.style.top=_+"px",h.style.left=c+"px",h.style.width=e._cols[d]+"px",h.style.height=(e._colsS.heights[o+1]-_||e._colsS.height)+"px";var u=e.$container.querySelector(".dhx_cal_data"),p=u.querySelector(".dhx_cal_month_table");return p.nextSibling?u.insertBefore(h,p.nextSibling):u.appendChild(h),h},renderMonthMarker:function(t,n){for(var a=[],r=t;r.valueOf()<n.valueOf();)a.push(this.renderMonthCell(r)),r=e.date.add(r,1,"day");return a},renderVerticalMarker:function(t,n,a){var r=e.locate_holder_day(t),i=[],o=null,d=e.config;if(e._ignores[r])return i;if(e._props&&e._props[e._mode]&&a){var s=e._props[e._mode];r=s.order[a];var l=s.order[a];s.days>1?r=e.locate_holder_day(t)+l:(r=l,s.size&&r>s.position+s.size&&(r=0))}if(!(o=e.locate_holder(r))||o.querySelector(".dhx_scale_hour"))return document.createElement("div");var c=Math.max(60*t.getHours()+t.getMinutes(),60*d.first_hour),_=Math.min(60*n.getHours()+n.getMinutes(),60*d.last_hour);if(!_&&e.date.day_start(new Date(n)).valueOf()>e.date.day_start(new Date(t)).valueOf()&&(_=60*d.last_hour),_<=c)return[];var h=this.createElement(),u=e.config.hour_size_px*d.last_hour+1,p=36e5;return h.style.top=Math.round((60*c*1e3-e.config.first_hour*p)*e.config.hour_size_px/p)%u+"px",h.style.lineHeight=h.style.height=Math.max(Math.round(60*(_-c)*1e3*e.config.hour_size_px/p)%u,1)+"px",h.style.width="100%",o.appendChild(h),i.push(h),i[0]}}}(e),function(e){e.$keyboardNavigation.SchedulerNode=function(){},e.$keyboardNavigation.SchedulerNode.prototype=e._compose(e.$keyboardNavigation.EventHandler,{getDefaultNode:function(){var t=new e.$keyboardNavigation.TimeSlot;return t.isValid()||(t=t.fallback()),t},_modes:{month:"month",year:"year",dayColumns:"dayColumns",timeline:"timeline",units:"units",weekAgenda:"weekAgenda",list:"list"},getMode:function(){var t=e.getState().mode;return e.matrix&&e.matrix[t]?this._modes.timeline:e._props&&e._props[t]?this._modes.units:"month"==t?this._modes.month:"year"==t?this._modes.year:"week_agenda"==t?this._modes.weekAgenda:"map"==t||"agenda"==t||e._grid&&e["grid_"+t]?this._modes.list:this._modes.dayColumns},focus:function(){e.focus()},blur:function(){},disable:function(){e.$container.setAttribute("tabindex","0")},enable:function(){e.$container&&e.$container.removeAttribute("tabindex")},isEnabled:function(){return e.$container.hasAttribute("tabindex")},_compareEvents:function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e.id>t.id?1:-1:e.start_date.valueOf()>t.start_date.valueOf()?1:-1},_pickEvent:function(t,n,a,r){var i=e.getState();t=new Date(Math.max(i.min_date.valueOf(),t.valueOf())),n=new Date(Math.min(i.max_date.valueOf(),n.valueOf()));var o=e.getEvents(t,n);o.sort(this._compareEvents),r&&(o=o.reverse());for(var d=!!a,s=0;s<o.length&&d;s++)o[s].id==a&&(d=!1),o.splice(s,1),s--;for(s=0;s<o.length;s++)if(new e.$keyboardNavigation.Event(o[s].id).getNode())return o[s];return null},nextEventHandler:function(t){var n=e.$keyboardNavigation.dispatcher.activeNode,a=t||n&&n.eventId,r=null;if(a&&e.getEvent(a)){var i=e.getEvent(a);r=e.$keyboardNavigation.SchedulerNode.prototype._pickEvent(i.start_date,e.date.add(i.start_date,1,"year"),i.id,!1)}if(!r&&!t){var o=e.getState();r=e.$keyboardNavigation.SchedulerNode.prototype._pickEvent(o.min_date,e.date.add(o.min_date,1,"year"),null,!1)}if(r){var d=new e.$keyboardNavigation.Event(r.id);d.isValid()?(n&&n.blur(),e.$keyboardNavigation.dispatcher.setActiveNode(d)):this.nextEventHandler(r.id)}},prevEventHandler:function(t){var n=e.$keyboardNavigation.dispatcher.activeNode,a=t||n&&n.eventId,r=null;if(a&&e.getEvent(a)){var i=e.getEvent(a);r=e.$keyboardNavigation.SchedulerNode.prototype._pickEvent(e.date.add(i.end_date,-1,"year"),i.end_date,i.id,!0)}if(!r&&!t){var o=e.getState();r=e.$keyboardNavigation.SchedulerNode.prototype._pickEvent(e.date.add(o.max_date,-1,"year"),o.max_date,null,!0)}if(r){var d=new e.$keyboardNavigation.Event(r.id);d.isValid()?(n&&n.blur(),e.$keyboardNavigation.dispatcher.setActiveNode(d)):this.prevEventHandler(r.id)}},keys:{"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9":function(t){var n=e.$keyboardNavigation.HeaderCell.prototype.getNodes(".dhx_cal_navline .dhx_cal_tab"),a=t.key;void 0===a&&(a=t.keyCode-48),n[1*a-1]&&n[1*a-1].click()},"ctrl+left,meta+left":function(t){e._click.dhx_cal_prev_button()},"ctrl+right,meta+right":function(t){e._click.dhx_cal_next_button()},"ctrl+up,meta+up":function(t){e.$container.querySelector(".dhx_cal_data").scrollTop-=20},"ctrl+down,meta+down":function(t){e.$container.querySelector(".dhx_cal_data").scrollTop+=20},e:function(){this.nextEventHandler()},home:function(){e.setCurrentView(new Date)},"shift+e":function(){this.prevEventHandler()},"ctrl+enter,meta+enter":function(){e.addEventNow({start_date:new Date(e.getState().date)})},"ctrl+c,meta+c":function(t){e._key_nav_copy_paste(t)},"ctrl+v,meta+v":function(t){e._key_nav_copy_paste(t)},"ctrl+x,meta+x":function(t){e._key_nav_copy_paste(t)}}}),e.$keyboardNavigation.SchedulerNode.prototype.bindAll(e.$keyboardNavigation.SchedulerNode.prototype.keys)}(e),function(e){e.$keyboardNavigation.KeyNavNode=function(){},e.$keyboardNavigation.KeyNavNode.prototype=e._compose(e.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(t){e.$keyboardNavigation.dispatcher.setActiveNode(t)},compareTo:function(e){if(!e)return!1;for(var t in this){if(!!this[t]!=!!e[t])return!1;var n=!(!this[t]||!this[t].toString),a=!(!e[t]||!e[t].toString);if(a!=n)return!1;if(a&&n){if(e[t].toString()!=this[t].toString())return!1}else if(e[t]!=this[t])return!1}return!0},getNode:function(){},focus:function(){var e=this.getNode();e&&(e.setAttribute("tabindex","-1"),e.focus&&e.focus())},blur:function(){var e=this.getNode();e&&e.setAttribute("tabindex","-1")}})}(e),function(e){e.$keyboardNavigation.HeaderCell=function(e){this.index=e||0},e.$keyboardNavigation.HeaderCell.prototype=e._compose(e.$keyboardNavigation.KeyNavNode,{getNode:function(e){e=e||this.index||0;var t=this.getNodes();if(t[e])return t[e]},getNodes:function(t){t=t||[".dhx_cal_navline .dhx_cal_prev_button",".dhx_cal_navline .dhx_cal_next_button",".dhx_cal_navline .dhx_cal_today_button",".dhx_cal_navline .dhx_cal_tab"].join(", ");var n=Array.prototype.slice.call(e.$container.querySelectorAll(t));return n.sort(function(e,t){return e.offsetLeft-t.offsetLeft}),n},_handlers:null,isValid:function(){return!!this.getNode(this.index)},fallback:function(){var t=this.getNode(0);return t||(t=new e.$keyboardNavigation.TimeSlot),t},keys:{left:function(){var t=this.index-1;t<0&&(t=this.getNodes().length-1),this.moveTo(new e.$keyboardNavigation.HeaderCell(t))},right:function(){var t=this.index+1;t>=this.getNodes().length&&(t=0),this.moveTo(new e.$keyboardNavigation.HeaderCell(t))},down:function(){this.moveTo(new e.$keyboardNavigation.TimeSlot)},enter:function(){var e=this.getNode();e&&e.click()}}}),e.$keyboardNavigation.HeaderCell.prototype.bindAll(e.$keyboardNavigation.HeaderCell.prototype.keys)}(e),function(e){e.$keyboardNavigation.Event=function(t){if(this.eventId=null,e.getEvent(t)){var n=e.getEvent(t);this.start=new Date(n.start_date),this.end=new Date(n.end_date),this.section=this._getSection(n),this.eventId=t}},e.$keyboardNavigation.Event.prototype=e._compose(e.$keyboardNavigation.KeyNavNode,{_getNodes:function(){return Array.prototype.slice.call(e.$container.querySelectorAll("["+e.config.event_attribute+"]"))},_modes:e.$keyboardNavigation.SchedulerNode.prototype._modes,getMode:e.$keyboardNavigation.SchedulerNode.prototype.getMode,_handlers:null,isValid:function(){return!(!e.getEvent(this.eventId)||!this.getNode())},fallback:function(){var t=this._getNodes()[0],n=null;if(t&&e._locate_event(t)){var a=e._locate_event(t);n=new e.$keyboardNavigation.Event(a)}else n=new e.$keyboardNavigation.TimeSlot;return n},isScrolledIntoView:function(t){var n=t.getBoundingClientRect(),a=e.$container.querySelector(".dhx_cal_data").getBoundingClientRect();return!(n.bottom<a.top||n.top>a.bottom)},getNode:function(){var t="["+e.config.event_attribute+"='"+this.eventId+"']",n=e.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);if(n)return n;if(e.isMultisectionEvent&&e.isMultisectionEvent(e.getEvent(this.eventId))){for(var a=e.$container.querySelectorAll(t),r=0;r<a.length;r++)if(this.isScrolledIntoView(a[r]))return a[r];return a[0]}return e.$container.querySelector(t)},focus:function(){var t=e.getEvent(this.eventId),n=e.getState();(t.start_date.valueOf()>n.max_date.valueOf()||t.end_date.valueOf()<=n.min_date.valueOf())&&e.setCurrentView(t.start_date);var a=this.getNode();this.isScrolledIntoView(a)?e.$keyboardNavigation.dispatcher.keepScrollPosition(function(){e.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)}.bind(this)):e.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){e.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getSection:function(t){var n=null,a=e.getState().mode;return e.matrix&&e.matrix[a]?n=t[e.matrix[e.getState().mode].y_property]:e._props&&e._props[a]&&(n=t[e._props[a].map_to]),n},_moveToSlot:function(t){var n=e.getEvent(this.eventId);if(n){var a=this._getSection(n),r=new e.$keyboardNavigation.TimeSlot(n.start_date,null,a);this.moveTo(r.nextSlot(r,t))}else this.moveTo(new e.$keyboardNavigation.TimeSlot)},keys:{left:function(){this._moveToSlot("left")},right:function(){this._moveToSlot("right")},down:function(){this.getMode()==this._modes.list?e.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this._moveToSlot("down")},space:function(){var t=this.getNode();t&&t.click?t.click():this.moveTo(new e.$keyboardNavigation.TimeSlot)},up:function(){this.getMode()==this._modes.list?e.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this._moveToSlot("up")},delete:function(){e.getEvent(this.eventId)?e._click.buttons.delete(this.eventId):this.moveTo(new e.$keyboardNavigation.TimeSlot)},enter:function(){e.getEvent(this.eventId)?e.showLightbox(this.eventId):this.moveTo(new e.$keyboardNavigation.TimeSlot)}}}),e.$keyboardNavigation.Event.prototype.bindAll(e.$keyboardNavigation.Event.prototype.keys)}(e),function(e){e.$keyboardNavigation.TimeSlot=function(t,n,a,r){var i=e.getState(),o=e.matrix&&e.matrix[i.mode];t||(t=this.getDefaultDate()),n||(n=o?e.date.add(t,o.x_step,o.x_unit):e.date.add(t,e.config.key_nav_step,"minute")),this.section=a||this._getDefaultSection(),this.start_date=new Date(t),this.end_date=new Date(n),this.movingDate=r||null},e.$keyboardNavigation.TimeSlot.prototype=e._compose(e.$keyboardNavigation.KeyNavNode,{_handlers:null,getDefaultDate:function(){var t,n=e.getState(),a=new Date(n.date);a.setSeconds(0),a.setMilliseconds(0);var r=new Date;r.setSeconds(0),r.setMilliseconds(0);var i=e.matrix&&e.matrix[n.mode],o=!1;if(a.valueOf()===r.valueOf()&&(o=!0),i)o?("day"===i.x_unit?(r.setHours(0),r.setMinutes(0)):"hour"===i.x_unit&&r.setMinutes(0),t=r):t=e.date[i.name+"_start"](new Date(n.date)),t=this.findVisibleColumn(t);else if(t=new Date(e.getState().min_date),o&&(t=r),t=this.findVisibleColumn(t),o||t.setHours(e.config.first_hour),!e._table_view){var d=e.$container.querySelector(".dhx_cal_data");d.scrollTop&&t.setHours(e.config.first_hour+Math.ceil(d.scrollTop/e.config.hour_size_px))}return t},clone:function(t){return new e.$keyboardNavigation.TimeSlot(t.start_date,t.end_date,t.section,t.movingDate)},_getMultisectionView:function(){var t,n=e.getState();return e._props&&e._props[n.mode]?t=e._props[n.mode]:e.matrix&&e.matrix[n.mode]&&(t=e.matrix[n.mode]),t},_getDefaultSection:function(){var e=null;return this._getMultisectionView()&&!e&&(e=this._getNextSection()),e},_getNextSection:function(e,t){var n=this._getMultisectionView(),a=n.order[e],r=a;(r=void 0!==a?a+t:n.size&&n.position?n.position:0)<0&&(r=0);var i=n.options||n.y_unit;return r>=i.length&&(r=i.length-1),i[r]?i[r].key:null},isValid:function(){var t=e.getState();if(this.start_date.valueOf()<t.min_date.valueOf()||this.start_date.valueOf()>=t.max_date.valueOf()||!this.isVisible(this.start_date,this.end_date))return!1;var n=this._getMultisectionView();return!n||void 0!==n.order[this.section]},fallback:function(){var t=new e.$keyboardNavigation.TimeSlot;return t.isValid()?t:new e.$keyboardNavigation.DataArea},getNodes:function(){return Array.prototype.slice.call(e.$container.querySelectorAll(".dhx_focus_slot"))},getNode:function(){return this.getNodes()[0]},focus:function(){this.section&&e.getView()&&e.getView().smart_rendering&&e.getView().scrollTo&&!e.$container.querySelector(`[data-section-id="${this.section}"]`)&&e.getView().scrollTo({section:this.section}),e.$keyboardNavigation.marker.render(this.start_date,this.end_date,this.section),e.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this),e.$keyboardNavigation._pasteDate=this.start_date,e.$keyboardNavigation._pasteSection=this.section},blur:function(){e.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this),e.$keyboardNavigation.marker.clear()},_modes:e.$keyboardNavigation.SchedulerNode.prototype._modes,_getMode:e.$keyboardNavigation.SchedulerNode.prototype.getMode,addMonthDate:function(t,n,a){var r;switch(n){case"up":r=e.date.add(t,-1,"week");break;case"down":r=e.date.add(t,1,"week");break;case"left":r=e.date.day_start(e.date.add(t,-1,"day")),r=this.findVisibleColumn(r,-1);break;case"right":r=e.date.day_start(e.date.add(t,1,"day")),r=this.findVisibleColumn(r,1);break;default:r=e.date.day_start(new Date(t))}var i=e.getState();return(t.valueOf()<i.min_date.valueOf()||!a&&t.valueOf()>=i.max_date.valueOf())&&(r=new Date(i.min_date)),r},nextMonthSlot:function(t,n,a){var r,i;return(r=this.addMonthDate(t.start_date,n,a)).setHours(e.config.first_hour),(i=new Date(r)).setHours(e.config.last_hour),{start_date:r,end_date:i}},_alignTimeSlot:function(t,n,a,r){for(var i=new Date(n);i.valueOf()<t.valueOf();)i=e.date.add(i,r,a);return i.valueOf()>t.valueOf()&&(i=e.date.add(i,-r,a)),i},nextTimelineSlot:function(t,n,a){var r=e.getState(),i=e.matrix[r.mode],o=this._alignTimeSlot(t.start_date,e.date[i.name+"_start"](new Date(t.start_date)),i.x_unit,i.x_step),d=this._alignTimeSlot(t.end_date,e.date[i.name+"_start"](new Date(t.end_date)),i.x_unit,i.x_step);d.valueOf()<=o.valueOf()&&(d=e.date.add(o,i.x_step,i.x_unit));var s=this.clone(t);switch(s.start_date=o,s.end_date=d,s.section=t.section||this._getNextSection(),n){case"up":s.section=this._getNextSection(t.section,-1);break;case"down":s.section=this._getNextSection(t.section,1);break;case"left":s.start_date=this.findVisibleColumn(e.date.add(s.start_date,-i.x_step,i.x_unit),-1),s.end_date=e.date.add(s.start_date,i.x_step,i.x_unit);break;case"right":s.start_date=this.findVisibleColumn(e.date.add(s.start_date,i.x_step,i.x_unit),1),s.end_date=e.date.add(s.start_date,i.x_step,i.x_unit)}return(s.start_date.valueOf()<r.min_date.valueOf()||s.start_date.valueOf()>=r.max_date.valueOf())&&(a&&s.start_date.valueOf()>=r.max_date.valueOf()?s.start_date=new Date(r.max_date):(s.start_date=e.date[r.mode+"_start"](e.date.add(r.date,"left"==n?-1:1,r.mode)),s.end_date=e.date.add(s.start_date,i.x_step,i.x_unit))),s},nextUnitsSlot:function(t,n,a){var r=this.clone(t);r.section=t.section||this._getNextSection();var i=t.section||this._getNextSection(),o=e.getState(),d=e._props[o.mode];switch(n){case"left":i=this._getNextSection(t.section,-1);var s=d.size?d.size-1:d.options.length;d.days>1&&d.order[i]==s-1&&e.date.add(t.start_date,-1,"day").valueOf()>=o.min_date.valueOf()&&(r=this.nextDaySlot(t,n,a));break;case"right":i=this._getNextSection(t.section,1),d.days>1&&!d.order[i]&&e.date.add(t.start_date,1,"day").valueOf()<o.max_date.valueOf()&&(r=this.nextDaySlot(t,n,a));break;default:r=this.nextDaySlot(t,n,a),i=t.section}return r.section=i,r},_moveDate:function(t,n){var a=this.findVisibleColumn(e.date.add(t,n,"day"),n);return a.setHours(t.getHours()),a.setMinutes(t.getMinutes()),a},isBeforeLastHour:function(t,n){var a=t.getMinutes(),r=t.getHours(),i=e.config.last_hour;return r<i||!n&&(24==i||r==i)&&!a},isAfterFirstHour:function(t,n){var a=t.getMinutes(),r=t.getHours(),i=e.config.first_hour,o=e.config.last_hour;return r>=i||!n&&!a&&(!r&&24==o||r==o)},isInVisibleDayTime:function(e,t){return this.isBeforeLastHour(e,t)&&this.isAfterFirstHour(e,t)},nextDaySlot:function(t,n,a){var r,i,o=e.config.key_nav_step,d=this._alignTimeSlot(t.start_date,e.date.day_start(new Date(t.start_date)),"minute",o),s=t.start_date;switch(n){case"up":if(r=e.date.add(d,-o,"minute"),!this.isInVisibleDayTime(r,!0)&&(!a||this.isInVisibleDayTime(s,!0))){var l=!0;a&&e.date.date_part(new Date(r)).valueOf()!=e.date.date_part(new Date(s)).valueOf()&&(l=!1),l&&(r=this.findVisibleColumn(e.date.add(t.start_date,-1,"day"),-1)),r.setHours(e.config.last_hour),r.setMinutes(0),r=e.date.add(r,-o,"minute")}i=e.date.add(r,o,"minute");break;case"down":r=e.date.add(d,o,"minute");var c=a?r:e.date.add(r,o,"minute");this.isInVisibleDayTime(c,!1)||a&&!this.isInVisibleDayTime(s,!1)||(a?(l=!0,e.date.date_part(new Date(s)).valueOf()==s.valueOf()&&(l=!1),l&&(r=this.findVisibleColumn(e.date.add(t.start_date,1,"day"),1)),r.setHours(e.config.first_hour),r.setMinutes(0),r=e.date.add(r,o,"minute")):((r=this.findVisibleColumn(e.date.add(t.start_date,1,"day"),1)).setHours(e.config.first_hour),r.setMinutes(0))),i=e.date.add(r,o,"minute");break;case"left":r=this._moveDate(t.start_date,-1),i=this._moveDate(t.end_date,-1);break;case"right":r=this._moveDate(t.start_date,1),i=this._moveDate(t.end_date,1);break;default:r=d,i=e.date.add(r,o,"minute")}return{start_date:r,end_date:i}},nextWeekAgendaSlot:function(t,n){var a,r,i=e.getState();switch(n){case"down":case"left":a=e.date.day_start(e.date.add(t.start_date,-1,"day")),a=this.findVisibleColumn(a,-1);break;case"up":case"right":a=e.date.day_start(e.date.add(t.start_date,1,"day")),a=this.findVisibleColumn(a,1);break;default:a=e.date.day_start(t.start_date)}return(t.start_date.valueOf()<i.min_date.valueOf()||t.start_date.valueOf()>=i.max_date.valueOf())&&(a=new Date(i.min_date)),(r=new Date(a)).setHours(e.config.last_hour),{start_date:a,end_date:r}},nextAgendaSlot:function(e,t){return{start_date:e.start_date,end_date:e.end_date}},isDateVisible:function(t){if(!e._ignores_detected)return!0;var n,a=e.matrix&&e.matrix[e.getState().mode];return n=a?e._get_date_index(a,t):e.locate_holder_day(t),!e._ignores[n]},findVisibleColumn:function(t,n){var a=t;n=n||1;for(var r=e.getState();!this.isDateVisible(a)&&(n>0&&a.valueOf()<=r.max_date.valueOf()||n<0&&a.valueOf()>=r.min_date.valueOf());)a=this.nextDateColumn(a,n);return a},nextDateColumn:function(t,n){n=n||1;var a=e.matrix&&e.matrix[e.getState().mode];return a?e.date.add(t,n*a.x_step,a.x_unit):e.date.day_start(e.date.add(t,n,"day"))},isVisible:function(t,n){if(!e._ignores_detected)return!0;for(var a=new Date(t);a.valueOf()<n.valueOf();){if(this.isDateVisible(a))return!0;a=this.nextDateColumn(a)}return!1},nextSlot:function(t,n,a,r){var i;a=a||this._getMode();var o=e.$keyboardNavigation.TimeSlot.prototype.clone(t);switch(a){case this._modes.units:i=this.nextUnitsSlot(o,n,r);break;case this._modes.timeline:i=this.nextTimelineSlot(o,n,r);break;case this._modes.year:case this._modes.month:i=this.nextMonthSlot(o,n,r);break;case this._modes.weekAgenda:i=this.nextWeekAgendaSlot(o,n,r);break;case this._modes.list:i=this.nextAgendaSlot(o,n,r);break;case this._modes.dayColumns:i=this.nextDaySlot(o,n,r)}return i.start_date.valueOf()>=i.end_date.valueOf()&&(i=this.nextSlot(i,n,a)),e.$keyboardNavigation.TimeSlot.prototype.clone(i)},extendSlot:function(t,n){var a;switch(this._getMode()){case this._modes.units:a="left"==n||"right"==n?this.nextUnitsSlot(t,n):this.extendUnitsSlot(t,n);break;case this._modes.timeline:a="down"==n||"up"==n?this.nextTimelineSlot(t,n):this.extendTimelineSlot(t,n);break;case this._modes.year:case this._modes.month:a=this.extendMonthSlot(t,n);break;case this._modes.dayColumns:a=this.extendDaySlot(t,n);break;case this._modes.weekAgenda:a=this.extendWeekAgendaSlot(t,n);break;default:a=t}var r=e.getState();return a.start_date.valueOf()<r.min_date.valueOf()&&(a.start_date=this.findVisibleColumn(r.min_date),a.start_date.setHours(e.config.first_hour)),a.end_date.valueOf()>r.max_date.valueOf()&&(a.end_date=this.findVisibleColumn(r.max_date,-1)),e.$keyboardNavigation.TimeSlot.prototype.clone(a)},extendTimelineSlot:function(e,t){return this.extendGenericSlot({left:"start_date",right:"end_date"},e,t,"timeline")},extendWeekAgendaSlot:function(e,t){return this.extendGenericSlot({left:"start_date",right:"end_date"},e,t,"weekAgenda")},extendGenericSlot:function(t,n,a,r){var i,o=n.movingDate;if(o||(o=t[a]),!o||!t[a])return n;if(!a)return e.$keyboardNavigation.TimeSlot.prototype.clone(n);(i=this.nextSlot({start_date:n[o],section:n.section},a,r,!0)).start_date.valueOf()==n.start_date.valueOf()&&(i=this.nextSlot({start_date:i.start_date,section:i.section},a,r,!0)),i.movingDate=o;var d=this.extendSlotDates(n,i,i.movingDate);return d.end_date.valueOf()<=d.start_date.valueOf()&&(i.movingDate="end_date"==i.movingDate?"start_date":"end_date"),d=this.extendSlotDates(n,i,i.movingDate),i.start_date=d.start_date,i.end_date=d.end_date,i},extendSlotDates:function(e,t,n){var a={start_date:null,end_date:null};return"start_date"==n?(a.start_date=t.start_date,a.end_date=e.end_date):(a.start_date=e.start_date,a.end_date=t.start_date),a},extendMonthSlot:function(t,n){return(t=this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},t,n,"month")).start_date.setHours(e.config.first_hour),t.end_date=e.date.add(t.end_date,-1,"day"),t.end_date.setHours(e.config.last_hour),t},extendUnitsSlot:function(e,t){var n;switch(t){case"down":case"up":n=this.extendDaySlot(e,t);break;default:n=e}return n.section=e.section,n},extendDaySlot:function(e,t){return this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},e,t,"dayColumns")},scrollSlot:function(t){var n=e.getState(),a=this.nextSlot(this,t);(a.start_date.valueOf()<n.min_date.valueOf()||a.start_date.valueOf()>=n.max_date.valueOf())&&e.setCurrentView(new Date(a.start_date)),this.moveTo(a)},keys:{left:function(){this.scrollSlot("left")},right:function(){this.scrollSlot("right")},down:function(){this._getMode()==this._modes.list?e.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this.scrollSlot("down")},up:function(){this._getMode()==this._modes.list?e.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this.scrollSlot("up")},"shift+down":function(){this.moveTo(this.extendSlot(this,"down"))},"shift+up":function(){this.moveTo(this.extendSlot(this,"up"))},"shift+right":function(){this.moveTo(this.extendSlot(this,"right"))},"shift+left":function(){this.moveTo(this.extendSlot(this,"left"))},enter:function(){var t={start_date:new Date(this.start_date),end_date:new Date(this.end_date)},n=e.getState().mode;e.matrix&&e.matrix[n]?t[e.matrix[e.getState().mode].y_property]=this.section:e._props&&e._props[n]&&(t[e._props[n].map_to]=this.section),e.addEventNow(t)}}}),e.$keyboardNavigation.TimeSlot.prototype.bindAll(e.$keyboardNavigation.TimeSlot.prototype.keys)}(e),function(e){e.$keyboardNavigation.MinicalButton=function(e,t){this.container=e,this.index=t||0},e.$keyboardNavigation.MinicalButton.prototype=e._compose(e.$keyboardNavigation.KeyNavNode,{isValid:function(){return!!this.container.offsetWidth},fallback:function(){var t=new e.$keyboardNavigation.TimeSlot;return t.isValid()?t:new e.$keyboardNavigation.DataArea},focus:function(){e.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),e.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),e.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},getNode:function(){return this.index?this.container.querySelector(".dhx_cal_next_button"):this.container.querySelector(".dhx_cal_prev_button")},keys:{right:function(t){this.moveTo(new e.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},left:function(t){this.moveTo(new e.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},down:function(){var t=new e.$keyboardNavigation.MinicalCell(this.container,0,0);t&&!t.isValid()&&(t=t.fallback()),this.moveTo(t)},enter:function(e){this.getNode().click()}}}),e.$keyboardNavigation.MinicalButton.prototype.bindAll(e.$keyboardNavigation.MinicalButton.prototype.keys)}(e),function(e){e.$keyboardNavigation.MinicalCell=function(e,t,n){this.container=e,this.row=t||0,this.col=n||0},e.$keyboardNavigation.MinicalCell.prototype=e._compose(e.$keyboardNavigation.KeyNavNode,{isValid:function(){var e=this._getGrid();return!(!e[this.row]||!e[this.row][this.col])},fallback:function(){var t=this.row,n=this.col,a=this._getGrid();a[t]||(t=0);var r=!0;if(t>a.length/2&&(r=!1),!a[t]){var i=new e.$keyboardNavigation.TimeSlot;return i.isValid()?i:new e.$keyboardNavigation.DataArea}if(r){for(var o=n;a[t]&&o<a[t].length;o++)if(a[t][o]||o!=a[t].length-1||(t++,n=0),a[t][o])return new e.$keyboardNavigation.MinicalCell(this.container,t,o)}else for(o=n;a[t]&&o<a[t].length;o--)if(a[t][o]||o||(n=a[--t].length-1),a[t][o])return new e.$keyboardNavigation.MinicalCell(this.container,t,o);return new e.$keyboardNavigation.MinicalButton(this.container,0)},focus:function(){e.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),e.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),e.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getNode:function(e,t){return this.container.querySelector(".dhx_year_body tr:nth-child("+(e+1)+") td:nth-child("+(t+1)+")")},getNode:function(){return this._getNode(this.row,this.col)},_getGrid:function(){for(var t=this.container.querySelectorAll(".dhx_year_body tr"),n=[],a=0;a<t.length;a++){n[a]=[];for(var r=t[a].querySelectorAll("td"),i=0;i<r.length;i++){var o=r[i],d=!0,s=e._getClassName(o);(s.indexOf("dhx_after")>-1||s.indexOf("dhx_before")>-1||s.indexOf("dhx_scale_ignore")>-1)&&(d=!1),n[a][i]=d}}return n},keys:{right:function(t){var n=this._getGrid(),a=this.row,r=this.col+1;n[a]&&n[a][r]||(n[a+1]?(a+=1,r=0):r=this.col);var i=new e.$keyboardNavigation.MinicalCell(this.container,a,r);i.isValid()||(i=i.fallback()),this.moveTo(i)},left:function(t){var n=this._getGrid(),a=this.row,r=this.col-1;n[a]&&n[a][r]||(r=n[a-1]?n[a-=1].length-1:this.col);var i=new e.$keyboardNavigation.MinicalCell(this.container,a,r);i.isValid()||(i=i.fallback()),this.moveTo(i)},down:function(){var t=this._getGrid(),n=this.row+1,a=this.col;t[n]&&t[n][a]||(n=this.row);var r=new e.$keyboardNavigation.MinicalCell(this.container,n,a);r.isValid()||(r=r.fallback()),this.moveTo(r)},up:function(){var t=this._getGrid(),n=this.row-1,a=this.col;if(t[n]&&t[n][a]){var r=new e.$keyboardNavigation.MinicalCell(this.container,n,a);r.isValid()||(r=r.fallback()),this.moveTo(r)}else{var i=0;this.col>t[this.row].length/2&&(i=1),this.moveTo(new e.$keyboardNavigation.MinicalButton(this.container,i))}},enter:function(e){this.getNode().querySelector(".dhx_month_head").click()}}}),e.$keyboardNavigation.MinicalCell.prototype.bindAll(e.$keyboardNavigation.MinicalCell.prototype.keys)}(e),function(e){e.$keyboardNavigation.DataArea=function(e){this.index=e||0},e.$keyboardNavigation.DataArea.prototype=e._compose(e.$keyboardNavigation.KeyNavNode,{getNode:function(t){return e.$container.querySelector(".dhx_cal_data")},_handlers:null,isValid:function(){return!0},fallback:function(){return this},keys:{"up,down,right,left":function(){this.moveTo(new e.$keyboardNavigation.TimeSlot)}}}),e.$keyboardNavigation.DataArea.prototype.bindAll(e.$keyboardNavigation.DataArea.prototype.keys)}(e),function(e){!function(){var t=[];function n(){return!!t.length}function a(t){setTimeout(function(){if(e.$destroyed)return!0;n()||function(e,t){for(;e&&e!=t;)e=e.parentNode;return e==t}(document.activeElement,e.$container)||e.focus()},1)}function r(n){var a=(n=n||window.event).currentTarget;a==t[t.length-1]&&e.$keyboardNavigation.trapFocus(a,n)}if(e.attachEvent("onLightbox",function(){var n;n=e.getLightbox(),e.eventRemove(n,"keydown",r),e.event(n,"keydown",r),t.push(n)}),e.attachEvent("onAfterLightbox",function(){var n=t.pop();n&&e.eventRemove(n,"keydown",r),a()}),e.attachEvent("onAfterQuickInfo",function(){a()}),!e._keyNavMessagePopup){e._keyNavMessagePopup=!0;var i=null,o=null;const t=[];e.attachEvent("onMessagePopup",function(n){for(i=document.activeElement,o=i;o&&e._getClassName(o).indexOf("dhx_cal_data")<0;)o=o.parentNode;o&&(o=o.parentNode),e.eventRemove(n,"keydown",r),e.event(n,"keydown",r),t.push(n)}),e.attachEvent("onAfterMessagePopup",function(){var n=t.pop();n&&e.eventRemove(n,"keydown",r),setTimeout(function(){if(e.$destroyed)return!0;for(var t=document.activeElement;t&&e._getClassName(t).indexOf("dhx_cal_light")<0;)t=t.parentNode;t||(i&&i.parentNode?i.focus():o&&o.parentNode&&o.focus(),i=null,o=null)},1)})}e.$keyboardNavigation.isModal=n}()}(e),function(e){e.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new e.$keyboardNavigation.SchedulerNode,keepScrollPosition:function(t){var n,a,r=e.$container.querySelector(".dhx_timeline_scrollable_data");r||(r=e.$container.querySelector(".dhx_cal_data")),r&&(n=r.scrollTop,a=r.scrollLeft),t(),r&&(r.scrollTop=n,r.scrollLeft=a)},enable:function(){if(e.$container){this.isActive=!0;var t=this;this.keepScrollPosition(function(){t.globalNode.enable(),t.setActiveNode(t.getActiveNode())})}},disable:function(){this.isActive=!1,this.globalNode.disable()},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){return this.globalNode.getDefaultNode()},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var e=this.activeNode;return e&&!e.isValid()&&(e=e.fallback()),e},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(e){e&&e.isValid()&&(this.activeNode&&this.activeNode.compareTo(e)||this.isEnabled()&&(this.blurNode(this.activeNode),this.activeNode=e,this.focusNode(this.activeNode)))},focusNode:function(t){t&&t.focus&&(t.focus(),t.getNode&&document.activeElement!=t.getNode()&&this.setActiveNode(new e.$keyboardNavigation.DataArea))},blurNode:function(e){e&&e.blur&&e.blur()},getInlineEditor:function(t){var n=e.$container.querySelector(".dhx_cal_editor["+e.config.event_attribute+"='"+t+"'] textarea");return n&&n.offsetWidth?n:null},keyDownHandler:function(t){if(!t.defaultPrevented){var n=this.getActiveNode();if((!e.$keyboardNavigation.isModal()||n&&n.container&&e.utils.dom.locateCss({target:n.container},"dhx_minical_popup",!1))&&(!e.getState().editor_id||!this.getInlineEditor(e.getState().editor_id))&&this.isEnabled()){t=t||window.event;var a=this.globalNode,r=e.$keyboardNavigation.shortcuts.getCommandFromEvent(t);n?n.findHandler(r)?n.doAction(r,t):a.findHandler(r)&&a.doAction(r,t):this.setDefaultNode()}}},_timeout:null,delay:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t||1)}}}(e),function(e){e._temp_key_scope=function(){e.config.key_nav=!0,e.$keyboardNavigation._pasteDate=null,e.$keyboardNavigation._pasteSection=null;var t=null,n={};function a(e){e=e||window.event,n.x=e.clientX,n.y=e.clientY}function r(){for(var t,a,r=document.elementFromPoint(n.x,n.y);r&&r!=e._obj;)r=r.parentNode;return t=r==e._obj,a=e.$keyboardNavigation.dispatcher.isEnabled(),t||a}function i(t){return e._lame_copy({},t)}document.body?e.event(document.body,"mousemove",a):e.event(window,"load",function(){e.event(document.body,"mousemove",a)}),e.attachEvent("onMouseMove",function(t,n){var a=e.getState();if(a.mode&&a.min_date){var r=e.getActionData(n);e.$keyboardNavigation._pasteDate=r.date,e.$keyboardNavigation._pasteSection=r.section}}),e._make_pasted_event=function(t){var n,a=e.$keyboardNavigation._pasteDate,r=e.$keyboardNavigation._pasteSection,o=t.end_date-t.start_date,d=i(t);if(delete(n=d).rec_type,delete n.rec_pattern,delete n.event_pid,delete n.event_length,d.start_date=new Date(a),d.end_date=new Date(d.start_date.valueOf()+o),r){var s=e._get_section_property();e.config.multisection&&t[s]&&e.isMultisectionEvent&&e.isMultisectionEvent(t)?d[s]=t[s]:d[s]=r}return d},e._do_paste=function(t,n,a){!1!==e.callEvent("onBeforeEventPasted",[t,n,a])&&(e.addEvent(n),e.callEvent("onEventPasted",[t,n,a]))},e._is_key_nav_active=function(){return!(!this._is_initialized()||this._is_lightbox_open()||!this.config.key_nav)},e.event(document,"keydown",function(t){(t.ctrlKey||t.metaKey)&&86==t.keyCode&&e._buffer_event&&!e.$keyboardNavigation.dispatcher.isEnabled()&&(e.$keyboardNavigation.dispatcher.isActive=r())}),e._key_nav_copy_paste=function(n){if(!e._is_key_nav_active())return!0;if(37==n.keyCode||39==n.keyCode){n.cancelBubble=!0;var a=e.date.add(e._date,37==n.keyCode?-1:1,e._mode);return e.setCurrentView(a),!0}var o,d=(o=e.$keyboardNavigation.dispatcher.getActiveNode())&&o.eventId?o.eventId:e._select_id;if((n.ctrlKey||n.metaKey)&&67==n.keyCode)return d&&(e._buffer_event=i(e.getEvent(d)),t=!0,e.callEvent("onEventCopied",[e.getEvent(d)])),!0;if((n.ctrlKey||n.metaKey)&&88==n.keyCode&&d){t=!1;var s=e._buffer_event=i(e.getEvent(d));e.updateEvent(s.id),e.callEvent("onEventCut",[s])}if((n.ctrlKey||n.metaKey)&&86==n.keyCode&&r()){if(s=(s=e._buffer_event?e.getEvent(e._buffer_event.id):e._buffer_event)||e._buffer_event){var l=e._make_pasted_event(s);t?(l.id=e.uid(),e._do_paste(t,l,s)):e.callEvent("onBeforeEventChanged",[l,n,!1,s])&&(e._do_paste(t,l,s),t=!0)}return!0}}},e._temp_key_scope()}(e),function(){var t;(function(e){e.$keyboardNavigation.attachSchedulerHandlers=function(){var t,n=e.$keyboardNavigation.dispatcher,a=function(t){if(e.config.key_nav)return n.keyDownHandler(t)},r=function(){n.keepScrollPosition(function(){n.focusGlobalNode()})};e.attachEvent("onDataRender",function(){e.config.key_nav&&n.isEnabled()&&!e.getState().editor_id&&(clearTimeout(t),t=setTimeout(function(){if(e.$destroyed)return!0;n.isEnabled()||n.enable(),i()}))});var i=function(){if(n.isEnabled()){var t=n.getActiveNode();t&&(t.isValid()||(t=t.fallback()),!t||t instanceof e.$keyboardNavigation.MinicalButton||t instanceof e.$keyboardNavigation.MinicalCell||n.keepScrollPosition(function(){t.focus(!0)}))}};function o(t){if(!e.config.key_nav)return!0;const a=e.getView();let r=!1;if("month"===e.getState().mode)r=e.$keyboardNavigation.isChildOf(t.target||t.srcElement,e.$container.querySelector(".dhx_cal_month_table"));else if(a&&"timeline"===a.layout)r=e.$keyboardNavigation.isChildOf(t.target||t.srcElement,e.$container.querySelector(".dhx_timeline_data_col"));else{const n=e.$container.querySelectorAll(".dhx_scale_holder");r=Array.from(n).some(e=>e===t.target.parentNode)}var i,o=e.getActionData(t);e._locate_event(t.target||t.srcElement)?i=new e.$keyboardNavigation.Event(e._locate_event(t.target||t.srcElement)):r&&(i=new e.$keyboardNavigation.TimeSlot,o.date&&r&&(i=i.nextSlot(new e.$keyboardNavigation.TimeSlot(o.date,null,o.section)))),i&&(n.isEnabled()?o.date&&r&&n.delay(function(){n.setActiveNode(i)}):n.activeNode=i)}e.attachEvent("onSchedulerReady",function(){var t=e.$container;e.eventRemove(document,"keydown",a),e.eventRemove(t,"mousedown",o),e.eventRemove(t,"focus",r),e.config.key_nav?(e.event(document,"keydown",a),e.event(t,"mousedown",o),e.event(t,"focus",r),t.setAttribute("tabindex","0")):t.removeAttribute("tabindex")});var d=e.updateEvent;e.updateEvent=function(t){var a=d.apply(this,arguments);if(e.config.key_nav&&n.isEnabled()&&e.getState().select_id==t){var r=new e.$keyboardNavigation.Event(t);e.getState().lightbox_id||function(t){if(e.config.key_nav&&n.isEnabled()){var a=t,r=new e.$keyboardNavigation.Event(a.eventId);if(!r.isValid()){var i=r.start||a.start,o=r.end||a.end,d=r.section||a.section;(r=new e.$keyboardNavigation.TimeSlot(i,o,d)).isValid()||(r=new e.$keyboardNavigation.TimeSlot)}n.setActiveNode(r);var s=n.getActiveNode();s&&s.getNode&&document.activeElement!=s.getNode()&&n.focusNode(n.getActiveNode())}}(r)}return a},e.attachEvent("onEventDeleted",function(t){return e.config.key_nav&&n.isEnabled()&&n.getActiveNode().eventId==t&&n.setActiveNode(new e.$keyboardNavigation.TimeSlot),!0}),e.attachEvent("onClearAll",function(){if(!e.config.key_nav)return!0;n.isEnabled()&&n.getActiveNode()instanceof e.$keyboardNavigation.Event&&n.setActiveNode(new e.$keyboardNavigation.TimeSlot)})}})(e),(t=e).$keyboardNavigation._minicalendars=[],t.$keyboardNavigation.isMinical=function(e){for(var n=t.$keyboardNavigation._minicalendars,a=0;a<n.length;a++)if(this.isChildOf(e,n[a]))return!0;return!1},t.$keyboardNavigation.isChildOf=function(e,t){for(;e&&e!==t;)e=e.parentNode;return e===t},t.$keyboardNavigation.patchMinicalendar=function(){var e=t.$keyboardNavigation.dispatcher;function n(n){var a=n.target;e.enable(),e.setActiveNode(new t.$keyboardNavigation.MinicalButton(a,0))}function a(n){var a=n.target||n.srcElement,r=t.utils.dom.locateCss(n,"dhx_cal_prev_button",!1),i=t.utils.dom.locateCss(n,"dhx_cal_next_button",!1),o=t.utils.dom.locateCss(n,"dhx_year_body",!1),d=0,s=0;if(o){for(var l,c,_=a;_&&"td"!=_.tagName.toLowerCase();)_=_.parentNode;if(_&&(l=(c=_).parentNode),l&&c){for(var h=l.parentNode.querySelectorAll("tr"),u=0;u<h.length;u++)if(h[u]==l){d=u;break}var p=l.querySelectorAll("td");for(u=0;u<p.length;u++)if(p[u]==c){s=u;break}}}var f=n.currentTarget;e.delay(function(){var n;(r||i||o)&&(r?(n=new t.$keyboardNavigation.MinicalButton(f,0),e.setActiveNode(new t.$keyboardNavigation.MinicalButton(f,0))):i?n=new t.$keyboardNavigation.MinicalButton(f,1):o&&(n=new t.$keyboardNavigation.MinicalCell(f,d,s)),n&&(e.enable(),n.isValid()&&(e.activeNode=null,e.setActiveNode(n))))})}if(t.renderCalendar){var r=t.renderCalendar;t.renderCalendar=function(){var i=r.apply(this,arguments),o=t.$keyboardNavigation._minicalendars;t.eventRemove(i,"click",a),t.event(i,"click",a),t.eventRemove(i,"focus",n),t.event(i,"focus",n);for(var d=!1,s=0;s<o.length;s++)if(o[s]==i){d=!0;break}if(d||o.push(i),e.isEnabled()){var l=e.getActiveNode();l&&l.container==i?e.focusNode(l):i.setAttribute("tabindex","0")}else i.setAttribute("tabindex","0");return i}}if(t.destroyCalendar){var i=t.destroyCalendar;t.destroyCalendar=function(e,a){e=e||(t._def_count?t._def_count.firstChild:null);var r=i.apply(this,arguments);if(!e||!e.parentNode)for(var o=t.$keyboardNavigation._minicalendars,d=0;d<o.length;d++)o[d]==e&&(t.eventRemove(o[d],"focus",n),o.splice(d,1),d--);return r}}};var n=e.$keyboardNavigation.dispatcher;if(e.$keyboardNavigation.attachSchedulerHandlers(),e.renderCalendar)e.$keyboardNavigation.patchMinicalendar();else var a=e.attachEvent("onSchedulerReady",function(){e.detachEvent(a),e.$keyboardNavigation.patchMinicalendar()});function r(){if(e.config.key_nav){var t=document.activeElement;return!(!t||e.utils.dom.locateCss(t,"dhx_cal_quick_info",!1))&&(e.$keyboardNavigation.isChildOf(t,e.$container)||e.$keyboardNavigation.isMinical(t))}}function i(e){e&&!n.isEnabled()?n.enable():!e&&n.isEnabled()&&n.disable()}const o=setInterval(function(){if(e.$container&&e.$keyboardNavigation.isChildOf(e.$container,document.body)){var t=r();t?i(t):!t&&n.isEnabled()&&setTimeout(function(){e.$destroyed||(e.config.key_nav?i(r()):e.$container.removeAttribute("tabindex"))},100)}},500);e.attachEvent("onDestroy",function(){clearInterval(o)})}()},layer:function(e){e.attachEvent("onTemplatesReady",function(){this.layers.sort(function(e,t){return e.zIndex-t.zIndex}),e._dp_init=function(t){t._methods=["_set_event_text_style","","changeEventId","deleteEvent"],this.attachEvent("onEventAdded",function(e){!this._loading&&this.validId(e)&&this.getEvent(e)&&this.getEvent(e).layer==t.layer&&t.setUpdated(e,!0,"inserted")}),this.attachEvent("onBeforeEventDelete",function(e){if(this.getEvent(e)&&this.getEvent(e).layer==t.layer){if(!this.validId(e))return;var n=t.getState(e);return"inserted"==n||this._new_event?(t.setUpdated(e,!1),!0):"deleted"!=n&&("true_deleted"==n||(t.setUpdated(e,!0,"deleted"),!1))}return!0}),this.attachEvent("onEventChanged",function(e){!this._loading&&this.validId(e)&&this.getEvent(e)&&this.getEvent(e).layer==t.layer&&t.setUpdated(e,!0,"updated")}),t._getRowData=function(e,t){var n=this.obj.getEvent(e),a={};for(var r in n)0!==r.indexOf("_")&&(n[r]&&n[r].getUTCFullYear?a[r]=this.obj._helpers.formatDate(n[r]):a[r]=n[r]);return a},t._clearUpdateFlag=function(){},t.attachEvent("insertCallback",e._update_callback),t.attachEvent("updateCallback",e._update_callback),t.attachEvent("deleteCallback",function(e,t){this.obj.setUserData(t,this.action_param,"true_deleted"),this.obj.deleteEvent(t)})},function(){var t=function(e){if(null===e||"object"!=typeof e)return e;var n=new e.constructor;for(var a in e)n[a]=t(e[a]);return n};e._dataprocessors=[],e._layers_zindex={};for(var n=0;n<e.layers.length;n++){if(e.config["lightbox_"+e.layers[n].name]={},e.config["lightbox_"+e.layers[n].name].sections=t(e.config.lightbox.sections),e._layers_zindex[e.layers[n].name]=e.config.initial_layer_zindex||5+3*n,e.layers[n].url){var a=e.createDataProcessor({url:e.layers[n].url});a.layer=e.layers[n].name,e._dataprocessors.push(a),e._dataprocessors[n].init(e)}e.layers[n].isDefault&&(e.defaultLayer=e.layers[n].name)}}(),e.showLayer=function(e){this.toggleLayer(e,!0)},e.hideLayer=function(e){this.toggleLayer(e,!1)},e.toggleLayer=function(e,t){var n=this.getLayer(e);n.visible=void 0!==t?!!t:!n.visible,this.setCurrentView(this._date,this._mode)},e.getLayer=function(t){var n,a;"string"==typeof t&&(a=t),"object"==typeof t&&(a=t.layer);for(var r=0;r<e.layers.length;r++)e.layers[r].name==a&&(n=e.layers[r]);return n},e.attachEvent("onBeforeLightbox",function(t){var n=this.getEvent(t);return this.config.lightbox.sections=this.config["lightbox_"+n.layer].sections,e.resetLightbox(),!0}),e.attachEvent("onClick",function(t,n){var a=e.getEvent(t);return!e.getLayer(a.layer).noMenu}),e.attachEvent("onEventCollision",function(t,n){var a=this.getLayer(t);if(!a.checkCollision)return!1;for(var r=0,i=0;i<n.length;i++)n[i].layer==a.name&&n[i].id!=t.id&&r++;return r>=e.config.collision_limit}),e.addEvent=function(t,n,a,r,i){var o=t;1!=arguments.length&&((o=i||{}).start_date=t,o.end_date=n,o.text=a,o.id=r,o.layer=this.defaultLayer),o.id=o.id||e.uid(),o.text=o.text||"","string"==typeof o.start_date&&(o.start_date=this.templates.api_date(o.start_date)),"string"==typeof o.end_date&&(o.end_date=this.templates.api_date(o.end_date)),o._timed=this.isOneDayEvent(o);var d=!this._events[o.id];this._events[o.id]=o,this.event_updated(o),this._loading||this.callEvent(d?"onEventAdded":"onEventChanged",[o.id,o])},this._evs_layer={};for(var t=0;t<this.layers.length;t++)this._evs_layer[this.layers[t].name]=[];e.addEventNow=function(t,n,a){var r={};"object"==typeof t&&(r=t,t=null);var i=6e4*(this.config.event_duration||this.config.time_step);t||(t=Math.round(e._currentDate().valueOf()/i)*i);var o=new Date(t);if(!n){var d=this.config.first_hour;d>o.getHours()&&(o.setHours(d),t=o.valueOf()),n=t+i}r.start_date=r.start_date||o,r.end_date=r.end_date||new Date(n),r.text=r.text||this.locale.labels.new_event,r.id=this._drag_id=this.uid(),r.layer=this.defaultLayer,this._drag_mode="new-size",this._loading=!0,this.addEvent(r),this.callEvent("onEventCreated",[this._drag_id,a]),this._loading=!1,this._drag_event={},this._on_mouse_up(a)},e._t_render_view_data=function(e){if(this.config.multi_day&&!this._table_view){for(var t=[],n=[],a=0;a<e.length;a++)e[a]._timed?t.push(e[a]):n.push(e[a]);this._table_view=!0,this.render_data(n),this._table_view=!1,this.render_data(t)}else this.render_data(e)},e.render_view_data=function(){if(this._not_render)this._render_wait=!0;else{this._render_wait=!1,this.clear_view(),this._evs_layer={};for(var e=0;e<this.layers.length;e++)this._evs_layer[this.layers[e].name]=[];var t=this.get_visible_events();for(e=0;e<t.length;e++)this._evs_layer[t[e].layer]&&this._evs_layer[t[e].layer].push(t[e]);if("month"==this._mode){var n=[];for(e=0;e<this.layers.length;e++)this.layers[e].visible&&(n=n.concat(this._evs_layer[this.layers[e].name]));this._t_render_view_data(n)}else for(e=0;e<this.layers.length;e++)if(this.layers[e].visible){var a=this._evs_layer[this.layers[e].name];this._t_render_view_data(a)}}},e._render_v_bar=function(t,n,a,r,i,o,d,s,l){var c=t.id;-1==d.indexOf("<div class=")&&(d=e.templates["event_header_"+t.layer]?e.templates["event_header_"+t.layer](t.start_date,t.end_date,t):d),-1==s.indexOf("<div class=")&&(s=e.templates["event_text_"+t.layer]?e.templates["event_text_"+t.layer](t.start_date,t.end_date,t):s);var _=document.createElement("div"),h="dhx_cal_event",u=e.templates["event_class_"+t.layer]?e.templates["event_class_"+t.layer](t.start_date,t.end_date,t):e.templates.event_class(t.start_date,t.end_date,t);u&&(h=h+" "+u);var p=e._border_box_events(),f=r-2,v=p?f:r-4,g=p?f:r-6,m=p?f:r-14,x=p?f-2:r-8,b=p?i-this.xy.event_header_height:i-30+1,y='<div event_id="'+c+'" '+e.config.event_attribute+'="'+c+'" class="'+h+'" style="position:absolute; top:'+a+"px; left:"+n+"px; width:"+v+"px; height:"+i+"px;"+(o||"")+'">';return y+='<div class="dhx_header" style=" width:'+g+'px;" >&nbsp;</div>',y+='<div class="dhx_title">'+d+"</div>",y+='<div class="dhx_body" style=" width:'+m+"px; height:"+b+'px;">'+s+"</div>",y+='<div class="dhx_footer" style=" width:'+x+"px;"+(l?" margin-top:-1px;":"")+'" ></div></div>',_.innerHTML=y,_.style.zIndex=100,_.firstChild},e.render_event_bar=function(t){var n=this._els.dhx_cal_data[0],a=this._colsS[t._sday],r=this._colsS[t._eday];r==a&&(r=this._colsS[t._eday+1]);var i=this.xy.bar_height,o=this._colsS.heights[t._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+t._sorder*i,d=document.createElement("div"),s=t._timed?"dhx_cal_event_clear":"dhx_cal_event_line",l=e.templates["event_class_"+t.layer]?e.templates["event_class_"+t.layer](t.start_date,t.end_date,t):e.templates.event_class(t.start_date,t.end_date,t);l&&(s=s+" "+l);var c='<div event_id="'+t.id+'" '+this.config.event_attribute+'="'+t.id+'" class="'+s+'" style="position:absolute; top:'+o+"px; left:"+a+"px; width:"+(r-a-15)+"px;"+(t._text_style||"")+'">';t._timed&&(c+=e.templates["event_bar_date_"+t.layer]?e.templates["event_bar_date_"+t.layer](t.start_date,t.end_date,t):e.templates.event_bar_date(t.start_date,t.end_date,t)),c+=e.templates["event_bar_text_"+t.layer]?e.templates["event_bar_text_"+t.layer](t.start_date,t.end_date,t):e.templates.event_bar_text(t.start_date,t.end_date,t)+"</div>)",c+="</div>",d.innerHTML=c,this._rendered.push(d.firstChild),n.appendChild(d.firstChild)},e.render_event=function(t){var n=e.xy.menu_width;if(e.getLayer(t.layer).noMenu&&(n=0),!(t._sday<0)){var a=e.locate_holder(t._sday);if(a){var r=60*t.start_date.getHours()+t.start_date.getMinutes(),i=60*t.end_date.getHours()+t.end_date.getMinutes()||60*e.config.last_hour,o=Math.round((60*r*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)+1,d=Math.max(e.xy.min_event_height,(i-r)*this.config.hour_size_px/60)+1,s=Math.floor((a.clientWidth-n)/t._count),l=t._sorder*s+1;t._inner||(s*=t._count-t._sorder);var c=this._render_v_bar(t.id,n+l,o,s,d,t._text_style,e.templates.event_header(t.start_date,t.end_date,t),e.templates.event_text(t.start_date,t.end_date,t));if(this._rendered.push(c),a.appendChild(c),l=l+parseInt(a.style.left,10)+n,o+=this._dy_shift,c.style.zIndex=this._layers_zindex[t.layer],this._edit_id==t.id){c.style.zIndex=parseInt(c.style.zIndex)+1;var _=c.style.zIndex;s=Math.max(s-4,e.xy.editor_width),(c=document.createElement("div")).setAttribute("event_id",t.id),c.setAttribute(this.config.event_attribute,t.id),this.set_xy(c,s,d-20,l,o+14),c.className="dhx_cal_editor",c.style.zIndex=_;var h=document.createElement("div");this.set_xy(h,s-6,d-26),h.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",h.style.zIndex=_,c.appendChild(h),this._els.dhx_cal_data[0].appendChild(c),this._rendered.push(c),h.innerHTML="<textarea class='dhx_cal_editor'>"+t.text+"</textarea>",this._editor=h.firstChild,this._editor.addEventListener("keypress",function(t){if(t.shiftKey)return!0;var n=t.keyCode;n==e.keys.edit_save&&e.editStop(!0),n==e.keys.edit_cancel&&e.editStop(!1)}),this._editor.addEventListener("selectstart",function(e){return e.cancelBubble=!0,!0}),h.firstChild.focus(),this._els.dhx_cal_data[0].scrollLeft=0,h.firstChild.select()}if(this._select_id==t.id){c.style.zIndex=parseInt(c.style.zIndex)+1;for(var u=this.config["icons_"+(this._edit_id==t.id?"edit":"select")],p="",f=0;f<u.length;f++)p+="<div class='dhx_menu_icon "+u[f]+"' title='"+this.locale.labels[u[f]]+"'></div>";var v=this._render_v_bar(t.id,l-n+1,o,n,20*u.length+26,"","<div class='dhx_menu_head'></div>",p,!0);v.style.left=l-n+1,v.style.zIndex=c.style.zIndex,this._els.dhx_cal_data[0].appendChild(v),this._rendered.push(v)}}}},e.filter_agenda=function(t,n){var a=e.getLayer(n.layer);return a&&a.visible}})},limit:function(e){e.config.limit_start=null,e.config.limit_end=null,e.config.limit_view=!1,e.config.check_limits=!0,e._temp_limit_scope=function(){var t=null;e.attachEvent("onBeforeViewChange",function(t,n,a,r){function i(t,n){var a=e.config.limit_start,r=e.config.limit_end,i=e.date.add(t,1,n);return t.valueOf()>r.valueOf()||i<=a.valueOf()}return!e.config.limit_view||!i(r=r||n,a=a||t)||n.valueOf()==r.valueOf()||(setTimeout(function(){if(e.$destroyed)return!0;var t=i(n,a)?e.config.limit_start:n;e.setCurrentView(i(t,a)?null:t,a)},1),!1)}),e.attachEvent("onMouseDown",function(e){return"dhx_time_block"!=e}),e.attachEvent("onBeforeDrag",function(t){return!t||e.checkLimitViolation(e.getEvent(t))}),e.attachEvent("onClick",function(t,n){return e.checkLimitViolation(e.getEvent(t))}),e.attachEvent("onBeforeLightbox",function(n){var a=e.getEvent(n);return t=[a.start_date,a.end_date],e.checkLimitViolation(a)}),e.attachEvent("onEventSave",function(t,n,a){if(!n.start_date||!n.end_date){var r=e.getEvent(t);n.start_date=new Date(r.start_date),n.end_date=new Date(r.end_date)}if(n.rec_type){var i=e._lame_clone(n);return e._roll_back_dates(i),e.checkLimitViolation(i)}return e.checkLimitViolation(n)}),e.attachEvent("onEventAdded",function(t){if(!t)return!0;var n=e.getEvent(t);return!e.checkLimitViolation(n)&&e.config.limit_start&&e.config.limit_end&&(n.start_date<e.config.limit_start&&(n.start_date=new Date(e.config.limit_start)),n.start_date.valueOf()>=e.config.limit_end.valueOf()&&(n.start_date=this.date.add(e.config.limit_end,-1,"day")),n.end_date<e.config.limit_start&&(n.end_date=new Date(e.config.limit_start)),n.end_date.valueOf()>=e.config.limit_end.valueOf()&&(n.end_date=this.date.add(e.config.limit_end,-1,"day")),n.start_date.valueOf()>=n.end_date.valueOf()&&(n.end_date=this.date.add(n.start_date,this.config.event_duration||this.config.time_step,"minute")),n._timed=this.isOneDayEvent(n)),!0}),e.attachEvent("onEventChanged",function(n){if(!n)return!0;var a=e.getEvent(n);if(!e.checkLimitViolation(a)){if(!t)return!1;a.start_date=t[0],a.end_date=t[1],a._timed=this.isOneDayEvent(a)}return!0}),e.attachEvent("onBeforeEventChanged",function(t,n,a){return e.checkLimitViolation(t)}),e.attachEvent("onBeforeEventCreated",function(t){var n=e.getActionData(t).date,a={_timed:!0,start_date:n,end_date:e.date.add(n,e.config.time_step,"minute")};return e.checkLimitViolation(a)}),e.attachEvent("onViewChange",function(){e._mark_now()}),e.attachEvent("onAfterSchedulerResize",function(){return window.setTimeout(function(){if(e.$destroyed)return!0;e._mark_now()},1),!0}),e.attachEvent("onTemplatesReady",function(){e._mark_now_timer=window.setInterval(function(){e._is_initialized()&&e._mark_now()},6e4)}),e.attachEvent("onDestroy",function(){clearInterval(e._mark_now_timer)})},e._temp_limit_scope()},map_view:function(e){let t=null,n=[];const a={googleMap:new Ni(e),openStreetMaps:new Oi(e),mapbox:new zi(e)};function r(a){t=a.ext.mapView.createAdapter(),n.push(e.attachEvent("onEventSave",function(t,n,a){let r=e.getEvent(t);return r&&r.event_location!=n.event_location&&(e._eventLocationChanged=!0),!0}),e.attachEvent("onEventChanged",(n,a)=>{const{start_date:r,end_date:o}=a,{min_date:d,max_date:s}=e.getState();return r.valueOf()<s.valueOf()&&o.valueOf()>d.valueOf()&&t&&(e.config.map_settings.resolve_event_location&&a.event_location&&!e._latLngUpdate?i(a,t):t.updateEventMarker(a)),e._latLngUpdate=!1,!0}),e.attachEvent("onEventIdChange",function(n,a){let r=e.getEvent(a);null==t||t.removeEventMarker(n),null==t||t.addEventMarker(r)}),e.attachEvent("onEventAdded",(n,a)=>{const{start_date:r,end_date:o}=a,{min_date:d,max_date:s}=e.getState();r.valueOf()<s.valueOf()&&o.valueOf()>d.valueOf()&&t&&(e.config.map_settings.resolve_event_location&&a.event_location&&e._eventLocationChanged?(i(a,t),e._eventLocationChanged=!1):(t.addEventMarker(a),t.onEventClick(a)))}),e.attachEvent("onClick",function(n,a){const r=e.getEvent(n);return t&&r&&t.onEventClick(r),!1}),e.attachEvent("onBeforeEventDelete",(e,n)=>(t&&t.removeEventMarker(e),!0)))}async function i(e,t){let n=await t.resolveAddress(e.event_location);return e.lat=n.lat,e.lng=n.lng,t.removeEventMarker(String(e.id)),t.addEventMarker(e),e}e.ext||(e.ext={}),e.ext.mapView={createAdapter:function(){return a[e.config.map_view_provider]},createMarker:function(e){return new google.maps.Marker(e)},currentAdapter:null,adapters:a},e._latLngUpdate=!1,e._eventLocationChanged=!1,e.config.map_view_provider="googleMap",e.config.map_settings={initial_position:{lat:48.724,lng:8.215},error_position:{lat:15,lng:15},initial_zoom:1,zoom_after_resolve:15,info_window_max_width:300,resolve_user_location:!0,resolve_event_location:!0,view_provider:"googleMap"},e.config.map_initial_position&&(e.config.map_settings.initial_position={lat:e.config.map_initial_position.lat(),lng:e.config.map_initial_position.lng()}),e.config.map_error_position&&(e.config.map_settings.error_position={lat:e.config.map_error_position.lat(),lng:e.config.map_error_position.lng()}),e.xy.map_date_width=188,e.xy.map_icon_width=25,e.xy.map_description_width=400,e.date.add_map=function(e,t,n){return new Date(e.valueOf())},e.templates.map_date=function(e,t,n){return""},e.templates.map_time=function(t,n,a){return e.config.rtl&&!a._timed?e.templates.day_date(n)+" &ndash; "+e.templates.day_date(t):a._timed?this.day_date(a.start_date,a.end_date,a)+" "+this.event_date(t):e.templates.day_date(t)+" &ndash; "+e.templates.day_date(n)},e.templates.map_text=function(e,t,n){return n.text},e.templates.map_info_content=function(t){return`<div><b>Event's text:</b> ${t.text}\n\t\t\t\t<div><b>Location:</b> ${t.event_location}</div>\n\t\t\t\t<div><b>Starts:</b> ${e.templates.tooltip_date_format(t.start_date)}</div>\n\t\t\t\t<div><b>Ends:</b> ${e.templates.tooltip_date_format(t.end_date)}</div>\n\t\t\t</div>`},e.date.map_start=function(e){return e},e.dblclick_dhx_map_area=function(t){let n=t.target.closest(`[${e.config.event_attribute}]`);if(n){let t=n.getAttribute(`${e.config.event_attribute}`);e.showLightbox(t)}this.config.readonly||!this.config.dblclick_create||n||this.addEventNow({start_date:e.config.map_start,end_date:e.date.add(e.config.map_start,e.config.time_step,"minute")})},e.attachEvent("onSchedulerReady",function(){void 0!==e.config.map_initial_zoom&&(e.config.map_settings.initial_zoom=e.config.map_initial_zoom),void 0!==e.config.map_zoom_after_resolve&&(e.config.map_settings.zoom_after_resolve=e.config.map_zoom_after_resolve),void 0!==e.config.map_infowindow_max_width&&(e.config.map_settings.info_window_max_width=e.config.map_infowindow_max_width),void 0!==e.config.map_resolve_user_location&&(e.config.map_settings.resolve_user_location=e.config.map_resolve_user_location),void 0!==e.config.map_view_provider&&(e.config.map_settings.view_provider=e.config.map_view_provider),void 0!==e.config.map_type&&(e.config.map_settings.type=e.config.map_type),void 0!==e.config.map_resolve_event_location&&(e.config.map_settings.resolve_event_location=e.config.map_resolve_event_location),e.ext.mapView.currentAdapter=e.config.map_view_provider;let a=document.createElement("div");a.className="mapContainer",a.id="mapContainer",a.style.display="none",a.style.zIndex="1",e._obj.appendChild(a);const i=e.render_data;function o(){let t=e.get_visible_events();t.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e.id>t.id?1:-1:e.start_date>t.start_date?1:-1});let n="<div "+e._waiAria.mapAttrString()+" class='dhx_map_area'>";for(let a=0;a<t.length;a++){let r=t[a],i=r.id==e._selected_event_id?"dhx_map_line highlight":"dhx_map_line",o=r.color?"--dhx-scheduler-event-background:"+r.color+";":"",d=r.textColor?"--dhx-scheduler-event-color:"+r.textColor+";":"",s=e._waiAria.mapRowAttrString(r),l=e._waiAria.mapDetailsBtnString();n+="<div "+s+" class='"+i+"' event_id='"+r.id+"' "+e.config.event_attribute+"='"+r.id+"' style='"+o+d+(r._text_style||"")+" width: "+(e.xy.map_date_width+e.xy.map_description_width+2)+"px;'><div class='dhx_map_event_time' style='width: "+e.xy.map_date_width+"px;' >"+e.templates.map_time(r.start_date,r.end_date,r)+"</div>",n+=`<div ${l} class='dhx_event_icon icon_details'><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M15.4444 16.4H4.55556V7.6H15.4444V16.4ZM13.1111 2V3.6H6.88889V2H5.33333V3.6H4.55556C3.69222 3.6 3 4.312 3 5.2V16.4C3 16.8243 3.16389 17.2313 3.45561 17.5314C3.74733 17.8314 4.143 18 4.55556 18H15.4444C15.857 18 16.2527 17.8314 16.5444 17.5314C16.8361 17.2313 17 16.8243 17 16.4V5.2C17 4.312 16.3 3.6 15.4444 3.6H14.6667V2H13.1111ZM13.8889 10.8H10V14.8H13.8889V10.8Z" fill="#A1A4A6"/>\n\t\t\t</svg></div>`,n+="<div class='line_description' style='width:"+(e.xy.map_description_width-e.xy.map_icon_width)+"px;'>"+e.templates.map_text(r.start_date,r.end_date,r)+"</div></div>"}n+="<div class='dhx_v_border' style="+(e.config.rtl?"'right: ":"'left: ")+(e.xy.map_date_width-1)+"px;'></div><div class='dhx_v_border_description'></div></div>",e._els.dhx_cal_data[0].scrollTop=0,e._els.dhx_cal_data[0].innerHTML=n;let a=e._els.dhx_cal_data[0].firstChild.childNodes,r=e._getNavDateElement();r&&(r.innerHTML=e.templates[e._mode+"_date"](e._min_date,e._max_date,e._mode)),e._rendered=[];for(let t=0;t<a.length-2;t++)e._rendered[t]=a[t]}e.render_data=function(n,a){if("map"!=this._mode)return i.apply(this,arguments);{o();let n=e.get_visible_events();t&&(t.clearEventMarkers(),n.forEach(e=>null==t?void 0:t.addEventMarker(e)))}},e.map_view=function(i){e._els.dhx_cal_data[0].style.width=e.xy.map_date_width+e.xy.map_description_width+1+"px",e._min_date=e.config.map_start||e._currentDate(),e._max_date=e.config.map_end||e.date.add(e._currentDate(),1,"year"),e._table_view=!0,function(t){if(t){const t=e.locale.labels;e._els.dhx_cal_header[0].innerHTML="<div class='dhx_map_head' style='width: "+(e.xy.map_date_width+e.xy.map_description_width+2)+"px;' ><div class='headline_date' style='width: "+e.xy.map_date_width+"px;'>"+t.date+"</div><div class='headline_description' style='width: "+e.xy.map_description_width+"px;'>"+t.description+"</div></div>",e._table_view=!0,e.set_sizes()}}(i);let d=document.getElementById("mapContainer");var s,l;(function(){let t=document.getElementById("mapContainer");if(t){const n=e.$container.querySelector(".dhx_cal_navline").offsetHeight;let a=e.$container.querySelector(".dhx_cal_data").offsetHeight+e.$container.querySelector(".dhx_cal_header").offsetHeight;a<0&&(a=0);let r=e._x-e.xy.map_date_width-e.xy.map_description_width-1;r<0&&(r=0),t.style.height=a+"px",t.style.width=r+"px",t.style.position="absolute",t.style.top=n+"px",e.config.rtl?t.style.marginRight=e.xy.map_date_width+e.xy.map_description_width+1+"px":t.style.marginLeft=e.xy.map_date_width+e.xy.map_description_width+1+"px",t.style.marginTop=e.xy.nav_height+2+"px"}})(),i&&d?(a.style.display="block",o(),e.config.map_view_provider==e.ext.mapView.currentAdapter?(null==t||t.destroy(d),r(e),null==t||t.initialize(d,e.config.map_settings)):(null==t||t.destroy(d),r(e),null==t||t.initialize(d,e.config.map_settings),e.ext.mapView.currentAdapter=e.config.map_view_provider),t&&(s=e.config.map_settings,l=t,s.resolve_user_location?navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){l.setView(e.coords.latitude,e.coords.longitude,s.zoom_after_resolve||s.initial_zoom)}):l.setView(s.initial_position.lat,s.initial_position.lng,s.initial_zoom))):(a.style.display="none",e._els.dhx_cal_data[0].style.width="100%",t&&d&&(t.destroy(d),t=null,e.ext.mapView.currentAdapter=e.config.map_view_provider),n.forEach(t=>e.detachEvent(t)),n=[])},e.attachEvent("onLocationError",function(e){return alert("Location can't be found"),google.maps.LatLng(51.47784,-.001492)});let d=async function(n){if(t){const a=await t.resolveAddress(n.event_location);a.lat&&a.lng?(n.lat=+a.lat,n.lng=+a.lng):(e.callEvent("onLocationError",[n.id]),n.lng=e.config.map_settings.error_position.lng,n.lat=e.config.map_settings.error_position.lat),e._latLngUpdate=!0,e.callEvent("onEventChanged",[n.id,n])}};e._event_resolve_delay=1500,e.attachEvent("onEventLoading",function(t){return t.lat&&t.lng&&(t.lat=+t.lat,t.lng=+t.lng),e.config.map_settings.resolve_event_location&&t.event_location&&!t.lat&&!t.lng&&(e._event_resolve_delay+=1500,function(t,n,a,r){setTimeout(function(){if(e.$destroyed)return!0;let r=t.apply(n,a);return t=n=a=null,r},r||1)}(d,this,[t],e._event_resolve_delay)),!0})})},minical:function(e){const t=e._createDomEventScope();e.config.minicalendar={mark_events:!0},e._synced_minicalendars=[],e.renderCalendar=function(n,a,r){var i=null,o=n.date||e._currentDate();if("string"==typeof o&&(o=this.templates.api_date(o)),a)i=this._render_calendar(a.parentNode,o,n,a),e.unmarkCalendar(i);else{var d=n.container,s=n.position;if("string"==typeof d&&(d=document.getElementById(d)),"string"==typeof s&&(s=document.getElementById(s)),s&&void 0===s.left&&void 0===s.right){var l=e.$domHelpers.getOffset(s);s={top:l.top+s.offsetHeight,left:l.left}}d||(d=e._get_def_cont(s)),(i=this._render_calendar(d,o,n)).$_eventAttached||(i.$_eventAttached=!0,t.attach(i,"click",function(t){var n=t.target||t.srcElement,a=e.$domHelpers;if(a.closest(n,".dhx_month_head")&&!a.closest(n,".dhx_after")&&!a.closest(n,".dhx_before")){var r=a.closest(n,"[data-cell-date]").getAttribute("data-cell-date"),i=e.templates.parse_date(r);e.unmarkCalendar(this),e.markCalendar(this,i,"dhx_calendar_click"),this._last_date=i,this.conf.events&&this.conf.events.onDateClick&&this.conf.events.onDateClick.call(this,i,t),this.conf.handler&&this.conf.handler.call(e,i,this)}}.bind(i)),t.attach(i,"mouseover",function(t){const n=t.target;if(n.classList.contains("dhx_cal_month_cell")){var a=n.getAttribute("data-cell-date"),r=e.templates.parse_date(a);this.conf.events&&this.conf.events.onDateMouseOver&&this.conf.events.onDateMouseOver.call(this,r,t)}}.bind(i)))}if(e.config.minicalendar.mark_events)for(var c=e.date.month_start(o),_=e.date.add(c,1,"month"),h=this.getEvents(c,_),u=this["filter_"+this._mode],p={},f=0;f<h.length;f++){var v=h[f];if(!u||u(v.id,v)){var g=v.start_date;for(g.valueOf()<c.valueOf()&&(g=c),g=e.date.date_part(new Date(g.valueOf()));g<v.end_date&&(p[+g]||(p[+g]=!0,this.markCalendar(i,g,"dhx_year_event")),!((g=this.date.add(g,1,"day")).valueOf()>=_.valueOf())););}}return this._markCalendarCurrentDate(i),i.conf=n,n.sync&&!r&&this._synced_minicalendars.push(i),i.conf._on_xle_handler||(i.conf._on_xle_handler=e.attachEvent("onXLE",function(){e.updateCalendar(i,i.conf.date)})),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&i.setAttribute("role","application"),i},e._get_def_cont=function(t){return this._def_count||(this._def_count=document.createElement("div"),this._def_count.className="dhx_minical_popup",e.event(this._def_count,"click",function(e){e.cancelBubble=!0}),document.body.appendChild(this._def_count)),t.left&&(this._def_count.style.left=t.left+"px"),t.right&&(this._def_count.style.right=t.right+"px"),t.top&&(this._def_count.style.top=t.top+"px"),t.bottom&&(this._def_count.style.bottom=t.bottom+"px"),this._def_count._created=new Date,this._def_count},e._locateCalendar=function(t,n){if("string"==typeof n&&(n=e.templates.api_date(n)),+n>+t._max_date||+n<+t._min_date)return null;for(var a=t.querySelector(".dhx_year_body").childNodes[0],r=0,i=new Date(t._min_date);+this.date.add(i,1,"week")<=+n;)i=this.date.add(i,1,"week"),r++;var o=e.config.start_on_monday,d=(n.getDay()||(o?7:0))-(o?1:0);const s=a.querySelector(`.dhx_cal_month_row:nth-child(${r+1}) .dhx_cal_month_cell:nth-child(${d+1})`);return s?s.firstChild:null},e.markCalendar=function(e,t,n){var a=this._locateCalendar(e,t);a&&(a.className+=" "+n)},e.unmarkCalendar=function(e,t,n){if(n=n||"dhx_calendar_click",t=t||e._last_date){var a=this._locateCalendar(e,t);a&&(a.className=(a.className||"").replace(RegExp(n,"g")))}},e._week_template=function(t){for(var n=t||250,a=0,r=document.createElement("div"),i=this.date.week_start(e._currentDate()),o=0;o<7;o++)this._cols[o]=Math.floor(n/(7-o)),this._render_x_header(o,a,i,r),i=this.date.add(i,1,"day"),n-=this._cols[o],a+=this._cols[o];return r.lastChild.className+=" dhx_scale_bar_last",r},e.updateCalendar=function(e,t){if(e.conf.date&&e.conf.events&&e.conf.events.onBeforeMonthChange&&!1===e.conf.events.onBeforeMonthChange.call(e,e.conf.date,t,e))return;const n=e.conf.date;e.conf.date=t,this.renderCalendar(e.conf,e,!0),e.conf.events&&e.conf.events.onMonthChange&&e.conf.events.onMonthChange.call(e,n,t)},e._mini_cal_arrows=["&nbsp;","&nbsp;"],e._render_calendar=function(n,a,r,i){var o=e.templates,d=this._cols;this._cols=[];var s=this._mode;this._mode="calendar";var l=this._colsS;this._colsS={height:0};var c=new Date(this._min_date),_=new Date(this._max_date),h=new Date(e._date),u=o.month_day,p=this._ignores_detected;this._ignores_detected=0,o.month_day=o.calendar_date,a=this.date.month_start(a);var f,v=this._week_template(n.offsetWidth-1-this.config.minicalendar.padding);i?f=i:((f=document.createElement("div")).className="dhx_cal_container dhx_mini_calendar",this.config.rtl&&(f.className+=" dhx_cal_container_rtl")),f.setAttribute("date",this._helpers.formatDate(a)),f.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid"+(e.config.rtl?" dhx_grid_rtl'>":"'>")+"<div class='dhx_year_week'>"+(v?v.innerHTML:"")+"</div><div class='dhx_year_body'></div></div>";var g=f.querySelector(".dhx_year_month"),m=f.querySelector(".dhx_year_week"),x=f.querySelector(".dhx_year_body");if(g.innerHTML=this.templates.calendar_month(a),r.navigation)for(var b=function(t,n){var a=e.date.add(t._date,n,"month");e.updateCalendar(t,a),e._date.getMonth()==t._date.getMonth()&&e._date.getFullYear()==t._date.getFullYear()&&e._markCalendarCurrentDate(t)},y=["dhx_cal_prev_button","dhx_cal_next_button"],w=["left:1px;top:4px;position:absolute;","left:auto; right:1px;top:4px;position:absolute;"],k=[-1,1],E=function(t){return function(){if(r.sync)for(var n=e._synced_minicalendars,a=0;a<n.length;a++)b(n[a],t);else e.config.rtl&&(t=-t),b(f,t)}},D=[e.locale.labels.prev,e.locale.labels.next],S=0;S<2;S++){var A=document.createElement("div");A.className=y[S],e._waiAria.headerButtonsAttributes(A,D[S]),A.style.cssText=w[S],A.innerHTML=this._mini_cal_arrows[S],g.appendChild(A),t.attach(A,"click",E(k[S]))}f._date=new Date(a),f.week_start=(a.getDay()-(this.config.start_on_monday?1:0)+7)%7;var M=f._min_date=this.date.week_start(a);f._max_date=this.date.add(f._min_date,6,"week"),this._reset_month_scale(x,a,M,6),i||n.appendChild(f),m.style.height=m.childNodes[0].offsetHeight-1+"px";var T=e.uid();e._waiAria.minicalHeader(g,T),e._waiAria.minicalGrid(f.querySelector(".dhx_year_grid"),T),e._waiAria.minicalRow(m);for(var C=m.querySelectorAll(".dhx_scale_bar"),N=0;N<C.length;N++)e._waiAria.minicalHeadCell(C[N]);var O=x.querySelectorAll(".dhx_cal_month_cell"),z=new Date(M);for(N=0;N<O.length;N++)e._waiAria.minicalDayCell(O[N],new Date(z)),z=e.date.add(z,1,"day");return e._waiAria.minicalHeader(g,T),this._cols=d,this._mode=s,this._colsS=l,this._min_date=c,this._max_date=_,e._date=h,o.month_day=u,this._ignores_detected=p,f},e.destroyCalendar=function(n,a){!n&&this._def_count&&this._def_count.firstChild&&(a||(new Date).valueOf()-this._def_count._created.valueOf()>500)&&(n=this._def_count.firstChild),n&&(t.detachAll(),n.innerHTML="",n.parentNode&&n.parentNode.removeChild(n),this._def_count&&(this._def_count.style.top="-1000px"),n.conf&&n.conf._on_xle_handler&&e.detachEvent(n.conf._on_xle_handler))},e.isCalendarVisible=function(){return!!(this._def_count&&parseInt(this._def_count.style.top,10)>0)&&this._def_count},e.attachEvent("onTemplatesReady",function(){e.event(document.body,"click",function(){e.destroyCalendar()})},{once:!0}),e.form_blocks.calendar_time={render:function(t){var n="<span class='dhx_minical_input_wrapper'><input class='dhx_readonly dhx_minical_input' type='text' readonly='true'></span>",a=e.config,r=this.date.date_part(e._currentDate()),i=1440,o=0;a.limit_time_select&&(o=60*a.first_hour,i=60*a.last_hour+1),r.setHours(o/60),t._time_values=[],n+=" <select class='dhx_lightbox_time_select'>";for(var d=o;d<i;d+=1*this.config.time_step)n+="<option value='"+d+"'>"+this.templates.time_picker(r)+"</option>",t._time_values.push(d),r=this.date.add(r,this.config.time_step,"minute");return"<div class='dhx_section_time dhx_lightbox_minical'>"+(n+="</select>")+"<span class='dhx_lightbox_minical_spacer'> &nbsp;&ndash;&nbsp; </span>"+n+"</div>"},set_value:function(t,n,a,r){var i,o,d=t.getElementsByTagName("input"),s=t.getElementsByTagName("select"),l=function(t,n,a){e.event(t,"click",function(){e.destroyCalendar(null,!0),e.renderCalendar({position:t,date:new Date(this._date),navigation:!0,handler:function(n){t.value=e.templates.calendar_time(n),t._date=new Date(n),e.destroyCalendar(),e.config.event_duration&&e.config.auto_end_date&&0===a&&u()}})})};if(e.config.full_day){if(!t._full_day){var c="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+e.locale.labels.full_day+"&nbsp;</label></input>";e.config.wide_form||(c=t.previousSibling.innerHTML+c),t.previousSibling.innerHTML=c,t._full_day=!0}var _=t.previousSibling.getElementsByTagName("input")[0],h=0===e.date.time_part(a.start_date)&&0===e.date.time_part(a.end_date);_.checked=h,s[0].disabled=_.checked,s[1].disabled=_.checked,_.$_eventAttached||(_.$_eventAttached=!0,e.event(_,"click",function(){if(!0===_.checked){var n={};e.form_blocks.calendar_time.get_value(t,n),i=e.date.date_part(n.start_date),(+(o=e.date.date_part(n.end_date))==+i||+o>=+i&&(0!==a.end_date.getHours()||0!==a.end_date.getMinutes()))&&(o=e.date.add(o,1,"day"))}else i=null,o=null;var r=i||a.start_date,l=o||a.end_date;p(d[0],r),p(d[1],l),s[0].value=60*r.getHours()+r.getMinutes(),s[1].value=60*l.getHours()+l.getMinutes(),s[0].disabled=_.checked,s[1].disabled=_.checked}))}if(e.config.event_duration&&e.config.auto_end_date){var u=function(){e.config.auto_end_date&&e.config.event_duration&&(i=e.date.add(d[0]._date,s[0].value,"minute"),o=new Date(i.getTime()+60*e.config.event_duration*1e3),d[1].value=e.templates.calendar_time(o),d[1]._date=e.date.date_part(new Date(o)),s[1].value=60*o.getHours()+o.getMinutes())};s[0].$_eventAttached||s[0].addEventListener("change",u)}function p(t,n,a){l(t,n,a),t.value=e.templates.calendar_time(n),t._date=e.date.date_part(new Date(n))}function f(e){for(var t=r._time_values,n=60*e.getHours()+e.getMinutes(),a=n,i=!1,o=0;o<t.length;o++){var d=t[o];if(d===n){i=!0;break}d<n&&(a=d)}return i||a?i?n:a:-1}p(d[0],a.start_date,0),p(d[1],a.end_date,1),l=function(){},s[0].value=f(a.start_date),s[1].value=f(a.end_date)},get_value:function(t,n){var a=t.getElementsByTagName("input"),r=t.getElementsByTagName("select");return n.start_date=e.date.add(a[0]._date,r[0].value,"minute"),n.end_date=e.date.add(a[1]._date,r[1].value,"minute"),n.end_date<=n.start_date&&(n.end_date=e.date.add(n.start_date,e.config.time_step,"minute")),{start_date:new Date(n.start_date),end_date:new Date(n.end_date)}},focus:function(e){}},e.linkCalendar=function(t,n){var a=function(){var a=e._date,r=new Date(a.valueOf());return n&&(r=n(r)),r.setDate(1),e.updateCalendar(t,r),!0};e.attachEvent("onViewChange",a),e.attachEvent("onXLE",a),e.attachEvent("onEventAdded",a),e.attachEvent("onEventChanged",a),e.attachEvent("onEventDeleted",a),a()},e._markCalendarCurrentDate=function(t){var n=e.getState(),a=n.min_date,r=n.max_date,i=n.mode,o=e.date.month_start(new Date(t._date)),d=e.date.add(o,1,"month");if(!({month:!0,year:!0,agenda:!0,grid:!0}[i]||a.valueOf()<=o.valueOf()&&r.valueOf()>=d.valueOf()))for(var s=a;s.valueOf()<r.valueOf();)o.valueOf()<=s.valueOf()&&d>s&&e.markCalendar(t,s,"dhx_calendar_click"),s=e.date.add(s,1,"day")},e.attachEvent("onEventCancel",function(){e.destroyCalendar(null,!0)}),e.attachEvent("onDestroy",function(){e.destroyCalendar()})},monthheight:function(e){e.attachEvent("onTemplatesReady",function(){e.xy.scroll_width=0;var t=e.render_view_data;e.render_view_data=function(){var n=this._els.dhx_cal_data[0];n.firstChild._h_fix=!0,t.apply(e,arguments);var a=parseInt(n.style.height);n.style.height="1px",n.style.height=n.scrollHeight+"px",this._obj.style.height=this._obj.clientHeight+n.scrollHeight-a+"px"};var n=e._reset_month_scale;e._reset_month_scale=function(t,a,r,i){var o={clientHeight:100};n.apply(e,[o,a,r,i]),t.innerHTML=o.innerHTML}})},multisection:function(e){Ci("Multisection",e.assert)},multiselect:function(e){e.form_blocks.multiselect={render:function(e){var t="dhx_multi_select_control dhx_multi_select_"+e.name;e.vertical&&(t+=" dhx_multi_select_control_vertical");for(var n="<div class='"+t+"' style='overflow: auto; height: "+e.height+"px; position: relative;' >",a=0;a<e.options.length;a++)n+="<label><input type='checkbox' value='"+e.options[a].key+"'/>"+e.options[a].label+"</label>";return n+"</div>"},set_value:function(t,n,a,r){for(var i=t.getElementsByTagName("input"),o=0;o<i.length;o++)i[o].checked=!1;function d(e){for(var n=t.getElementsByTagName("input"),a=0;a<n.length;a++)n[a].checked=!!e[n[a].value]}var s={};if(a[r.map_to]){var l=(a[r.map_to]+"").split(r.delimiter||e.config.section_delimiter||",");for(o=0;o<l.length;o++)s[l[o]]=!0;d(s)}else{if(e._new_event||!r.script_url)return;var c=document.createElement("div");c.className="dhx_loading",c.style.cssText="position: absolute; top: 40%; left: 40%;",t.appendChild(c);var _=[r.script_url,-1==r.script_url.indexOf("?")?"?":"&","dhx_crosslink_"+r.map_to+"="+a.id+"&uid="+e.uid()].join("");e.ajax.get(_,function(n){var a=function(e){try{for(var t=JSON.parse(e.xmlDoc.responseText),n={},a=0;a<t.length;a++){var r=t[a];n[r.value||r.key||r.id]=!0}return n}catch{return null}}(n);a||(a=function(t,n){for(var a=e.ajax.xpath("//data/item",t.xmlDoc),r={},i=0;i<a.length;i++)r[a[i].getAttribute(n.map_to)]=!0;return r}(n,r)),d(a),t.removeChild(c)})}},get_value:function(t,n,a){for(var r=[],i=t.getElementsByTagName("input"),o=0;o<i.length;o++)i[o].checked&&r.push(i[o].value);return r.join(a.delimiter||e.config.section_delimiter||",")},focus:function(e){}}},multisource:function(e){var t=e._load;e._load=function(e,n){if("object"==typeof(e=e||this._load_url))for(var a=(i=this._loaded,o=void 0,(o=function(){}).prototype=i,o),r=0;r<e.length;r++)this._loaded=new a,t.call(this,e[r],n);else t.apply(this,arguments);var i,o}},mvc:function(e){var t,n={use_id:!1};function a(e){var t={};for(var a in e)0!==a.indexOf("_")&&(t[a]=e[a]);return n.use_id||delete t.id,t}function r(e){e._not_render=!1,e._render_wait&&e.render_view_data(),e._loading=!1,e.callEvent("onXLE",[])}function i(e){return n.use_id?e.id:e.cid}e.backbone=function(o,d){d&&(n=d),o.bind("change",function(n,a){var r=i(n),o=e._events[r]=n.toJSON();o.id=r,e._init_event(o),clearTimeout(t),t=setTimeout(function(){if(e.$destroyed)return!0;e.updateView()},1)}),o.bind("remove",function(t,n){var a=i(t);e._events[a]&&e.deleteEvent(a)});var s=[];function l(){if(e.$destroyed)return!0;s.length&&(e.parse(s,"json"),s=[])}o.bind("add",function(t,n){var a=i(t);if(!e._events[a]){var r=t.toJSON();r.id=a,e._init_event(r),s.push(r),1==s.length&&setTimeout(l,1)}}),o.bind("request",function(t){var n;t instanceof Backbone.Collection&&((n=e)._loading=!0,n._not_render=!0,n.callEvent("onXLS",[]))}),o.bind("sync",function(t){t instanceof Backbone.Collection&&r(e)}),o.bind("error",function(t){t instanceof Backbone.Collection&&r(e)}),e.attachEvent("onEventCreated",function(t){var n=new o.model(e.getEvent(t));return e._events[t]=n.toJSON(),e._events[t].id=t,!0}),e.attachEvent("onEventAdded",function(t){if(!o.get(t)){var n=a(e.getEvent(t)),r=new o.model(n),d=i(r);d!=t&&this.changeEventId(t,d),o.add(r),o.trigger("scheduler:add",r)}return!0}),e.attachEvent("onEventChanged",function(t){var n=o.get(t),r=a(e.getEvent(t));return n.set(r),o.trigger("scheduler:change",n),!0}),e.attachEvent("onEventDeleted",function(e){var t=o.get(e);return t&&(o.trigger("scheduler:remove",t),o.remove(e)),!0})}},outerdrag:function(e){e.attachEvent("onTemplatesReady",function(){var t,n=new dhtmlDragAndDropObject,a=n.stopDrag;function r(n,a,r,i){if(!e.checkEvent("onBeforeExternalDragIn")||e.callEvent("onBeforeExternalDragIn",[n,a,r,i,t])){var o=e.attachEvent("onEventCreated",function(a){e.callEvent("onExternalDragIn",[a,n,t])||(this._drag_mode=this._drag_id=null,this.deleteEvent(a))}),d=e.getActionData(t),s={start_date:new Date(d.date)};if(e.matrix&&e.matrix[e._mode]){var l=e.matrix[e._mode];s[l.y_property]=d.section;var c=e._locate_cell_timeline(t);s.start_date=l._trace_x[c.x],s.end_date=e.date.add(s.start_date,l.x_step,l.x_unit)}e._props&&e._props[e._mode]&&(s[e._props[e._mode].map_to]=d.section),e.addEventNow(s),e.detachEvent(o)}}n.stopDrag=function(e){return t=e,a.apply(this,arguments)},n.addDragLanding(e._els.dhx_cal_data[0],{_drag:function(e,t,n,a){r(e,t,n,a)},_dragIn:function(e,t){return e},_dragOut:function(e){return this}}),dhtmlx.DragControl&&dhtmlx.DragControl.addDrop(e._els.dhx_cal_data[0],{onDrop:function(e,n,a,i){var o=dhtmlx.DragControl.getMaster(e);t=i,r(e,o,n,i.target||i.srcElement)},onDragIn:function(e,t,n){return t}},!0)})},pdf:function(e){var t,n,a=new RegExp("<[^>]*>","g"),r=new RegExp("<br[^>]*>","g");function i(e){return e.replace(r,"\n").replace(a,"")}function o(e,n){e=parseFloat(e),n=parseFloat(n),isNaN(n)||(e-=n);var a=s(e);return e=e-a.width+a.cols*t,isNaN(e)?"auto":100*e/t}function d(e,n,a){e=parseFloat(e),n=parseFloat(n),!isNaN(n)&&a&&(e-=n);var r=s(e);return e=e-r.width+r.cols*t,isNaN(e)?"auto":100*e/(t-(isNaN(n)?0:n))}function s(t){for(var n=0,a=e._els.dhx_cal_header[0].childNodes,r=a[1]?a[1].childNodes:a[0].childNodes,i=0;i<r.length;i++){var o=r[i].style?r[i]:r[i].parentNode,d=parseFloat(o.style.width);if(!(t>d))break;t-=d+1,n+=d+1}return{width:n,cols:i}}function l(e){return e=parseFloat(e),isNaN(e)?"auto":100*e/n}function c(e,t){return(window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:null)||""}function _(t,n){for(var a=parseInt(t.style.left,10),r=0;r<e._cols.length;r++)if((a-=e._cols[r])<0)return r;return n}function h(t,n){for(var a=parseInt(t.style.top,10),r=0;r<e._colsS.heights.length;r++)if(e._colsS.heights[r]>a)return r;return n}function u(e){return e?"</"+e+">":""}function p(e,t,n,a){var r="<"+e+" profile='"+t+"'";return n&&(r+=" header='"+n+"'"),a&&(r+=" footer='"+a+"'"),r+">"}function f(){var t="",a=e._mode;if(e.matrix&&e.matrix[e._mode]&&(a="cell"==e.matrix[e._mode].render?"matrix":"timeline"),t+="<scale mode='"+a+"' today='"+e._els.dhx_cal_date[0].innerHTML+"'>","week_agenda"==e._mode)for(var r=e._els.dhx_cal_data[0].getElementsByTagName("DIV"),o=0;o<r.length;o++)"dhx_wa_scale_bar"==r[o].className&&(t+="<column>"+i(r[o].innerHTML)+"</column>");else if("agenda"==e._mode||"map"==e._mode)t+="<column>"+i((r=e._els.dhx_cal_header[0].childNodes[0].childNodes)[0].innerHTML)+"</column><column>"+i(r[1].innerHTML)+"</column>";else if("year"==e._mode)for(r=e._els.dhx_cal_data[0].childNodes,o=0;o<r.length;o++)t+="<month label='"+i(r[o].querySelector(".dhx_year_month").innerHTML)+"'>",t+=g(r[o].querySelector(".dhx_year_week").childNodes),t+=v(r[o].querySelector(".dhx_year_body")),t+="</month>";else{t+="<x>",t+=g(r=e._els.dhx_cal_header[0].childNodes),t+="</x>";var d=e._els.dhx_cal_data[0];if(e.matrix&&e.matrix[e._mode]){for(t+="<y>",o=0;o<d.firstChild.rows.length;o++)t+="<row><![CDATA["+i(d.firstChild.rows[o].cells[0].innerHTML)+"]]></row>";t+="</y>",n=d.firstChild.rows[0].cells[0].offsetHeight}else if("TABLE"==d.firstChild.tagName)t+=v(d);else{for(d=d.childNodes[d.childNodes.length-1];-1==d.className.indexOf("dhx_scale_holder");)d=d.previousSibling;for(d=d.childNodes,t+="<y>",o=0;o<d.length;o++)t+="\n<row><![CDATA["+i(d[o].innerHTML)+"]]></row>";t+="</y>",n=d[0].offsetHeight}}return t+"</scale>"}function v(e){for(var t="",a=e.querySelectorAll("tr"),r=0;r<a.length;r++){for(var o=[],d=a[r].querySelectorAll("td"),s=0;s<d.length;s++)o.push(d[s].querySelector(".dhx_month_head").innerHTML);t+="\n<row height='"+d[0].offsetHeight+"'><![CDATA["+i(o.join("|"))+"]]></row>",n=d[0].offsetHeight}return t}function g(n){var a,r="";e.matrix&&e.matrix[e._mode]&&(e.matrix[e._mode].second_scale&&(a=n[1].childNodes),n=n[0].childNodes);for(var o=0;o<n.length;o++)r+="\n<column><![CDATA["+i(n[o].innerHTML)+"]]></column>";if(t=n[0].offsetWidth,a){var d=0,s=n[0].offsetWidth,l=1;for(o=0;o<a.length;o++)r+="\n<column second_scale='"+l+"'><![CDATA["+i(a[o].innerHTML)+"]]></column>",(d+=a[o].offsetWidth)>=s&&(s+=n[l]?n[l].offsetWidth:0,l++),t=a[0].offsetWidth}return r}function m(t){var a="",r=e._rendered,s=e.matrix&&e.matrix[e._mode];if("agenda"==e._mode||"map"==e._mode)for(var u=0;u<r.length;u++)a+="<event><head><![CDATA["+i(r[u].childNodes[0].innerHTML)+"]]></head><body><![CDATA["+i(r[u].childNodes[2].innerHTML)+"]]></body></event>";else if("week_agenda"==e._mode)for(u=0;u<r.length;u++)a+="<event day='"+r[u].parentNode.getAttribute("day")+"'><body>"+i(r[u].innerHTML)+"</body></event>";else if("year"==e._mode)for(r=e.get_visible_events(),u=0;u<r.length;u++){var p=r[u].start_date;for(p.valueOf()<e._min_date.valueOf()&&(p=e._min_date);p<r[u].end_date;){var f=p.getMonth()+12*(p.getFullYear()-e._min_date.getFullYear())-e.week_starts._month,v=e.week_starts[f]+p.getDate()-1,g=t?c(e._get_year_cell(p),"color"):"",m=t?c(e._get_year_cell(p),"backgroundColor"):"";if(a+="<event day='"+v%7+"' week='"+Math.floor(v/7)+"' month='"+f+"' backgroundColor='"+m+"' color='"+g+"'></event>",(p=e.date.add(p,1,"day")).valueOf()>=e._max_date.valueOf())break}}else if(s&&"cell"==s.render)for(r=e._els.dhx_cal_data[0].getElementsByTagName("TD"),u=0;u<r.length;u++)g=t?c(r[u],"color"):"",a+="\n<event><body backgroundColor='"+(m=t?c(r[u],"backgroundColor"):"")+"' color='"+g+"'><![CDATA["+i(r[u].innerHTML)+"]]></body></event>";else for(u=0;u<r.length;u++){var x,b;if(e.matrix&&e.matrix[e._mode])x=o(r[u].style.left),b=o(r[u].offsetWidth)-1;else{var y=e.config.use_select_menu_space?0:26;x=d(r[u].style.left,y,!0),b=d(r[u].style.width,y)-1}if(!isNaN(1*b)){var w=l(r[u].style.top),k=l(r[u].style.height),E=r[u].className.split(" ")[0].replace("dhx_cal_","");if("dhx_tooltip_line"!==E){var D=e.getEvent(r[u].getAttribute(e.config.event_attribute));if(D){v=D._sday;var S=D._sweek,A=D._length||0;if("month"==e._mode)k=parseInt(r[u].offsetHeight,10),w=parseInt(r[u].style.top,10)-e.xy.month_head_height,v=_(r[u],v),S=h(r[u],S);else if(e.matrix&&e.matrix[e._mode]){v=0,S=r[u].parentNode.parentNode.parentNode.rowIndex;var M=n;n=r[u].parentNode.offsetHeight,w=l(r[u].style.top),w-=.2*w,n=M}else{if(r[u].parentNode==e._els.dhx_cal_data[0])continue;var T=e._els.dhx_cal_data[0].childNodes[0],C=parseFloat(-1!=T.className.indexOf("dhx_scale_holder")?T.style.left:0);x+=o(r[u].parentNode.style.left,C)}a+="\n<event week='"+S+"' day='"+v+"' type='"+E+"' x='"+x+"' y='"+w+"' width='"+b+"' height='"+k+"' len='"+A+"'>","event"==E?(a+="<header><![CDATA["+i(r[u].childNodes[1].innerHTML)+"]]></header>",g=t?c(r[u].childNodes[2],"color"):"",a+="<body backgroundColor='"+(m=t?c(r[u].childNodes[2],"backgroundColor"):"")+"' color='"+g+"'><![CDATA["+i(r[u].childNodes[2].innerHTML)+"]]></body>"):(g=t?c(r[u],"color"):"",a+="<body backgroundColor='"+(m=t?c(r[u],"backgroundColor"):"")+"' color='"+g+"'><![CDATA["+i(r[u].innerHTML)+"]]></body>"),a+="</event>"}}}}return a}function x(t,n,a,r,i,o){var d=!1;"fullcolor"==r&&(d=!0,r="color"),r=r||"color";var s="";if(t){var l=e._date,c=e._mode;n=e.date[a+"_start"](n),n=e.date["get_"+a+"_end"]?e.date["get_"+a+"_end"](n):e.date.add(n,1,a),s=p("pages",r,i,o);for(var _=new Date(t);+_<+n;_=this.date.add(_,1,a))this.setCurrentView(_,a),s+=("page"?"<page>":"")+f().replace("–","-")+m(d)+u("page");s+=u("pages"),this.setCurrentView(l,c)}else s=p("data",r,i,o)+f().replace("–","-")+m(d)+u("data");return s}function b(t,n,a,r,i,o,d){var s,l,c,_;s="object"==typeof i?function(e){for(var t="<data>",n=0;n<e.length;n++)t+=e[n].source.getPDFData(e[n].start,e[n].end,e[n].view,e[n].mode,e[n].header,e[n].footer);return t+="</data>"}(i):x.apply(this,[t,n,a,i,o,d]),l=r,c=e.uid(),(_=document.createElement("div")).style.display="none",document.body.appendChild(_),_.innerHTML='<form id="'+c+'" method="post" target="_blank" action="'+l+'" accept-charset="utf-8" enctype="application/x-www-form-urlencoded"><input type="hidden" name="mycoolxmlbody"/> </form>',document.getElementById(c).firstChild.value=encodeURIComponent(s),document.getElementById(c).submit(),_.parentNode.removeChild(_)}e.getPDFData=x,e.toPDF=function(e,t,n,a){return b.apply(this,[null,null,null,e,t,n,a])},e.toPDFRange=function(t,n,a,r,i,o,d){return"string"==typeof t&&(t=e.templates.api_date(t),n=e.templates.api_date(n)),b.apply(this,arguments)}},quick_info:function(e){e.config.icons_select=["icon_form","icon_delete"],e.config.details_on_create=!0,e.config.show_quick_info=!0,e.xy.menu_width=0;let t=null;function n(t){const n=t.getBoundingClientRect(),a=e.$container.getBoundingClientRect().bottom-n.bottom;a<0&&(t.style.top=`${parseFloat(t.style.top)+a}px`)}function a(t){let n=0,a=0,r=t;for(;r&&r!=e._obj;)n+=r.offsetLeft,a+=r.offsetTop-r.scrollTop,r=r.offsetParent;return r?{left:n,top:a,dx:n+t.offsetWidth/2>e._x/2?1:0,dy:a+t.offsetHeight/2>e._y/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:0}e.attachEvent("onSchedulerReady",function(){const n=e.$container;n._$quickInfoHandler||(n._$quickInfoHandler=!0,e.event(n,"mousedown",function(n){const r=n.target.closest(`[${e.config.event_attribute}]`);r&&(t={id:r.getAttribute(e.config.event_attribute),position:a(r)})}),e.attachEvent("onDestroy",()=>{delete n._$quickInfoHandler}))}),e.attachEvent("onClick",function(t){if(e.config.show_quick_info)return e.showQuickInfo(t),!0}),function(){for(var t=["onEmptyClick","onViewChange","onLightbox","onBeforeEventDelete","onBeforeDrag"],n=function(){return e.hideQuickInfo(!0),!0},a=0;a<t.length;a++)e.attachEvent(t[a],n)}(),e.templates.quick_info_title=function(e,t,n){return n.text.substr(0,50)},e.templates.quick_info_content=function(e,t,n){return n.details||""},e.templates.quick_info_date=function(t,n,a){return e.isOneDayEvent(a)&&e.config.rtl?e.templates.day_date(t,n,a)+" "+e.templates.event_header(n,t,a):e.isOneDayEvent(a)?e.templates.day_date(t,n,a)+" "+e.templates.event_header(t,n,a):e.config.rtl?e.templates.week_date(n,t,a):e.templates.week_date(t,n,a)},e.showQuickInfo=function(e){if(e==this._quick_info_box_id||(this.hideQuickInfo(!0),!1===this.callEvent("onBeforeQuickInfo",[e])))return;let n;n=t&&t.id==e?t.position:this._get_event_counter_part(e),n&&(this._quick_info_box=this._init_quick_info(n),this._fill_quick_data(e),this._show_quick_info(n),this.callEvent("onQuickInfo",[e]))},function(){function t(e){e=e||"";var t,n=parseFloat(e),a=e.match(/m?s/);switch(a&&(a=a[0]),a){case"s":t=1e3*n;break;case"ms":t=n;break;default:t=0}return t}e.hideQuickInfo=function(n){var a=this._quick_info_box,r=this._quick_info_box_id;if(this._quick_info_box_id=0,a&&a.parentNode){var i=a.offsetWidth;if(e.config.quick_info_detached)return this.callEvent("onAfterQuickInfo",[r]),a.parentNode.removeChild(a);if("auto"==a.style.right?a.style.left=-i+"px":a.style.right=-i+"px",n)a.parentNode.removeChild(a);else{var o;window.getComputedStyle?o=window.getComputedStyle(a,null):a.currentStyle&&(o=a.currentStyle);var d=t(o["transition-delay"])+t(o["transition-duration"]);setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a)},d)}this.callEvent("onAfterQuickInfo",[r])}}}(),e.event(window,"keydown",function(t){27==t.keyCode&&e.hideQuickInfo()}),e._show_quick_info=function(t){var a=e._quick_info_box;e._obj.appendChild(a);var r=a.offsetWidth,i=a.offsetHeight;if(e.config.quick_info_detached){var o=t.left-t.dx*(r-t.width);e.getView()&&e.getView()._x_scroll&&(e.config.rtl?o+=e.getView()._x_scroll:o-=e.getView()._x_scroll),o+r>window.innerWidth&&(o=window.innerWidth-r),o=Math.max(0,o),a.style.left=o+"px",a.style.top=t.top-(t.dy?i:-t.height)+"px"}else{const n=e.$container.querySelector(".dhx_cal_data").offsetTop;a.style.top=n+20+"px",1==t.dx?(a.style.right="auto",a.style.left=-r+"px",setTimeout(function(){a.style.left="-10px"},1)):(a.style.left="auto",a.style.right=-r+"px",setTimeout(function(){a.style.right="-10px"},1)),a.className=a.className.replace(" dhx_qi_left","").replace(" dhx_qi_right","")+" dhx_qi_"+(1==t.dx?"left":"right")}a.ontransitionend=()=>{n(a),a.ontransitionend=null},setTimeout(()=>{n(a)},1)},e.attachEvent("onTemplatesReady",function(){if(e.hideQuickInfo(),this._quick_info_box){var t=this._quick_info_box;t.parentNode&&t.parentNode.removeChild(t),this._quick_info_box=null}}),e._quick_info_onscroll_handler=function(t){e.hideQuickInfo()},e._init_quick_info=function(){if(!this._quick_info_box){var t=this._quick_info_box=document.createElement("div");this._waiAria.quickInfoAttr(t),t.className="dhx_cal_quick_info",e.$testmode&&(t.className+=" dhx_no_animate"),e.config.rtl&&(t.className+=" dhx_quick_info_rtl");var n=`\n\t\t<div class="dhx_cal_qi_tcontrols">\n\t\t\t<a class="dhx_cal_qi_close_btn scheduler_icon close"></a>\n\t\t</div>\n\t\t<div class="dhx_cal_qi_title" ${this._waiAria.quickInfoHeaderAttrString()}>\n\t\t\t\t\n\t\t\t\t<div class="dhx_cal_qi_tcontent"></div>\n\t\t\t\t<div class="dhx_cal_qi_tdate"></div>\n\t\t\t</div>\n\t\t\t<div class="dhx_cal_qi_content"></div>`;n+='<div class="dhx_cal_qi_controls">';for(var a=e.config.icons_select,r=0;r<a.length;r++)n+=`<div ${this._waiAria.quickInfoButtonAttrString(this.locale.labels[a[r]])} class="dhx_qi_big_icon ${a[r]}" title="${e.locale.labels[a[r]]}">\n\t\t\t\t<div class='dhx_menu_icon ${a[r]}'></div><div>${e.locale.labels[a[r]]}</div></div>`;n+="</div>",t.innerHTML=n,e.event(t,"click",function(t){e._qi_button_click(t.target||t.srcElement)}),e.config.quick_info_detached&&(e._detachDomEvent(e._els.dhx_cal_data[0],"scroll",e._quick_info_onscroll_handler),e.event(e._els.dhx_cal_data[0],"scroll",e._quick_info_onscroll_handler))}return this._quick_info_box},e._qi_button_click=function(t){var n=e._quick_info_box;if(t&&t!=n)if(t.closest(".dhx_cal_qi_close_btn"))e.hideQuickInfo();else{var a=e._getClassName(t);if(-1!=a.indexOf("_icon")){var r=e._quick_info_box_id;e._click.buttons[a.split(" ")[1].replace("icon_","")](r)}else e._qi_button_click(t.parentNode)}},e._get_event_counter_part=function(t){return a(e.getRenderedEvent(t))},e._fill_quick_data=function(t){var n=e.getEvent(t),a=e._quick_info_box;e._quick_info_box_id=t;var r={content:e.templates.quick_info_title(n.start_date,n.end_date,n),date:e.templates.quick_info_date(n.start_date,n.end_date,n)};a.querySelector(".dhx_cal_qi_tcontent").innerHTML=`<span>${r.content}</span>`,a.querySelector(".dhx_cal_qi_tdate").innerHTML=r.date,e._waiAria.quickInfoHeader(a,[r.content,r.date].join(" "));var i=a.querySelector(".dhx_cal_qi_content");const o=e.templates.quick_info_content(n.start_date,n.end_date,n);o?(i.classList.remove("dhx_hidden"),i.innerHTML=o):i.classList.add("dhx_hidden")}},readonly:function(e){e.attachEvent("onTemplatesReady",function(){var t;e.form_blocks.recurring&&(t=e.form_blocks.recurring.set_value);var n=e.config.buttons_left.slice(),a=e.config.buttons_right.slice();function r(e,t,n,a){for(var r=t.getElementsByTagName(e),i=n.getElementsByTagName(e),o=i.length-1;o>=0;o--)if(n=i[o],a){var d=document.createElement("span");d.className="dhx_text_disabled",d.innerHTML=a(r[o]),n.parentNode.insertBefore(d,n),n.parentNode.removeChild(n)}else n.disabled=!0,t.checked&&(n.checked=!0)}e.attachEvent("onBeforeLightbox",function(r){if(this.config.readonly_form||this.getEvent(r).readonly?this.config.readonly_active=!0:(this.config.readonly_active=!1,e.config.buttons_left=n.slice(),e.config.buttons_right=a.slice(),e.form_blocks.recurring&&(e.form_blocks.recurring.set_value=t)),this.config.readonly_active)for(var i=["dhx_delete_btn","dhx_save_btn"],o=[e.config.buttons_left,e.config.buttons_right],d=0;d<i.length;d++)for(var s=i[d],l=0;l<o.length;l++){for(var c=o[l],_=-1,h=0;h<c.length;h++)if(c[h]==s){_=h;break}-1!=_&&c.splice(_,1)}return this.resetLightbox(),!0});var i=e._fill_lightbox;e._fill_lightbox=function(){var t=this.getLightbox();this.config.readonly_active&&(t.style.visibility="hidden",t.style.display="block");var n=i.apply(this,arguments);if(this.config.readonly_active&&(t.style.visibility="",t.style.display="none"),this.config.readonly_active){var a=this.getLightbox(),o=this._lightbox_r=a.cloneNode(!0);o.id=e.uid(),o.className+=" dhx_cal_light_readonly",r("textarea",a,o,function(e){return e.value}),r("input",a,o,!1),r("select",a,o,function(e){return e.options.length?e.options[Math.max(e.selectedIndex||0,0)].text:""}),a.parentNode.insertBefore(o,a),this.showCover(o),e._lightbox&&e._lightbox.parentNode.removeChild(e._lightbox),this._lightbox=o,e.config.drag_lightbox&&e.event(o.firstChild,"mousedown",e._ready_to_dnd),e._init_lightbox_events(),this.setLightboxSize()}return n};var o=e.hide_lightbox;e.hide_lightbox=function(){return this._lightbox_r&&(this._lightbox_r.parentNode.removeChild(this._lightbox_r),this._lightbox_r=this._lightbox=null),o.apply(this,arguments)}})},recurring:function(e){function t(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),0)}function n(e){return!!e.rrule&&!e.recurring_event_id}function a(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}function r(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function i(e){e.rrule.includes(";UNTIL=")&&(e.rrule=e.rrule.split(";UNTIL=")[0]);let t=yd(`RRULE:${e.rrule};UNTIL=${v(r(e._end_date||e.end_date))}`,{dtstart:e.start_date}),n=new xd(t.origOptions).toString().replace("RRULE:","");n=n.split("\n")[1],e.rrule=n}function o(t,n){n||(n=e.getEvent(t));let a=n.rrule.split(";"),r=[];for(let e=0;e<a.length;e++){let t=a[e].split("="),i=t[0],o=t[1];("BYDAY"!==i||n.rrule.includes("WEEKLY")&&o.length>3)&&("UNTIL"===i&&yd(n.rrule).options.until.valueOf()<n.start_date.valueOf()&&(n._end_date=n.end_date),r.push(i),r.push("="),r.push(o),r.push(";"))}r.pop(),n.rrule=r.join("")}var d;function s(t,n){t._end_date=t.end_date,e._isExceptionFirstOccurrence(n)?(t.start_date=n.start_date,t.end_date=new Date(n.start_date.valueOf()+1e3*t.duration),t._start_date=n.original_start,t._modified=!0):(t.end_date=new Date(n.start_date.valueOf()+1e3*t.duration),t.start_date=n.start_date,t._firstOccurrence=!0),t._thisAndFollowing=n.id}function l(t,n,a,r){const i=a._modified?r.id:t;e._events[i]={...r,text:n.text,duration:n.duration,start_date:n.start_date,rrule:n.rrule,end_date:r._end_date,_start_date:r.start_date,_thisAndFollowing:null,_end_date:null},a._modified&&delete e._events[t],e.callEvent("onEventChanged",[e._events[i].id,e._events[i]])}function c(t){for(const n in e._events)e._events[n].id==t.id&&delete e._events[n]}function _(t,n){for(let a in e._events){let r=e._events[a];(r.recurring_event_id==t||e._is_virtual_event(r.id)&&r.id.split("#")[0]==t)&&(r.text=n.text,e.updateEvent(r.id))}}function h(t,n){let a=t,r=new Date(n.original_start).valueOf();t=String(a).split("#")||n._pid_time||r;let i=e.uid(),o=t[1]?t[1]:n._pid_time||r,d=e._copy_event(n);d.id=i,d.recurring_event_id=n.recurring_event_id||t[0],d.original_start=new Date(Number(o)),d.deleted=!0,e.addEvent(d)}function u(){for(const t in e._events)"$dnd_recurring_placeholder"===t&&delete e._events[t];e.render()}function p(t,n){const a=e.locale;t.find(e=>e.checked)||(t[0].checked=!0);const r=t.reduce((e,t)=>(e[t.value]=t.callback,e),{});e.modalbox({text:`<div class="dhx_edit_recurrence_options">\n\t\t\t\t${t.map(e=>`<label class="dhx_styled_radio">\n\t\t\t\t\t<input type="radio" value="${e.value}" name="option" ${e.checked?"checked":""}>\n\t\t\t\t\t${e.label}\n\t\t\t\t</label>`).join("")}\n\t\t\t</div>`,type:"recurring_mode",title:a.labels.confirm_recurring,width:"auto",position:"middle",buttons:[{label:a.labels.message_ok,value:"ok",css:"rec_ok"},{label:a.labels.message_cancel,value:"cancel"}],callback:function(e,t){if(n&&n(e,t),"cancel"===e)return;const a=t.target.closest(".scheduler_modal_box").querySelector("input[type='radio']:checked");let i;a&&(i=a.value),i&&r[i]()}})}function f(){const t={};for(const n in e._events){const a=e._events[n];a.recurring_event_id&&a.original_start&&(t[a.recurring_event_id]||(t[a.recurring_event_id]={}),t[a.recurring_event_id][a.original_start.valueOf()]=a)}return t}e._isFollowing=function(t){let n=e.getEvent(t);return!(!n||!n._thisAndFollowing)},e._isFirstOccurrence=function(t){if(e._is_virtual_event(t.id)){let n=t.id.split("#")[0];return e.getEvent(n).start_date.valueOf()===t.start_date.valueOf()}},e._isExceptionFirstOccurrence=function(t){if(e._is_modified_occurrence(t)){let n=t.recurring_event_id,a=e.getEvent(n);return!(!t.original_start||!t.original_start.valueOf()||t.original_start.valueOf()!==a.start_date.valueOf())}},e._rec_temp=[],e._rec_markers_pull={},e._rec_markers={},e._add_rec_marker=function(e,t){e._pid_time=t,this._rec_markers[e.id]=e,this._rec_markers_pull[e.event_pid]||(this._rec_markers_pull[e.event_pid]={}),this._rec_markers_pull[e.event_pid][t]=e},e._get_rec_marker=function(e,t){let n=this._rec_markers_pull[t];return n?n[e]:null},e._get_rec_markers=function(e){return this._rec_markers_pull[e]||[]},d=e.addEvent,e.addEvent=function(n,a,r,i,o){var s=d.apply(this,arguments);if(s&&e.getEvent(s)){var l=e.getEvent(s);l.start_date&&(l.start_date=t(l.start_date)),l.end_date&&(l.end_date=t(l.end_date))}return s},e.attachEvent("onEventLoading",function(t){return t.original_start&&!t.original_start.getFullYear&&(t.original_start=e.templates.parse_date(t.original_start)),!0}),e.attachEvent("onEventIdChange",function(t,n){if(!this._ignore_call){this._ignore_call=!0,e._rec_markers[t]&&(e._rec_markers[n]=e._rec_markers[t],delete e._rec_markers[t]),e._rec_markers_pull[t]&&(e._rec_markers_pull[n]=e._rec_markers_pull[t],delete e._rec_markers_pull[t]);for(var a=0;a<this._rec_temp.length;a++){var r=this._rec_temp[a];this._is_virtual_event(r.id)&&r.id.split("#")[0]==t&&(r.recurring_event_id=n,this.changeEventId(r.id,n+"#"+r.id.split("#")[1]))}for(var a in this._rec_markers)(r=this._rec_markers[a]).recurring_event_id==t&&(r.recurring_event_id=n,r._pid_changed=!0);var i=e._rec_markers[n];i&&i._pid_changed&&(delete i._pid_changed,setTimeout(function(){if(e.$destroyed)return!0;e.callEvent("onEventChanged",[n,e.getEvent(n)])},1)),delete this._ignore_call}}),e.attachEvent("onConfirmedBeforeEventDelete",function(e){var t=this.getEvent(e);if(this._is_virtual_event(e)||this._is_modified_occurrence(t)&&!t.deleted)h(e,t);else{n(t)&&this._lightbox_id&&this._roll_back_dates(t);var a=this._get_rec_markers(e);for(var r in a)a.hasOwnProperty(r)&&(e=a[r].id,this.getEvent(e)&&this.deleteEvent(e,!0))}return!0}),e.attachEvent("onEventDeleted",function(t,n){!this._is_virtual_event(t)&&this._is_modified_occurrence(n)&&(e._events[t]||(n.deleted=!0,this.setEvent(t,n),e.render()))}),e.attachEvent("onBeforeEventChanged",function(t,n,a,r){return!(!a&&t&&(e._is_virtual_event(t.id)||e._is_modified_occurrence(t))&&(r.start_date.getDate()!==t.start_date.getDate()?t._beforeEventChangedFlag="edit":t._beforeEventChangedFlag="ask",!e.config.collision_limit||e.checkCollision(t))&&(e._events.$dnd_recurring_placeholder=e._lame_clone(t),e._showRequiredModalBox(t.id,t._beforeEventChangedFlag),1))}),e.attachEvent("onEventChanged",function(a,r){if(this._loading)return!0;let i=this.getEvent(a);if(this._is_virtual_event(a))!function(t){let n=t.id.split("#"),a=e.uid();e._not_render=!0;let r=e._copy_event(t);r.id=a,r.recurring_event_id=n[0];let i=n[1];r.original_start=new Date(Number(i)),e._add_rec_marker(r,i),e.addEvent(r),e._not_render=!1}(i);else{i.start_date&&(i.start_date=t(i.start_date)),i.end_date&&(i.end_date=t(i.end_date)),n(i)&&this._lightbox_id&&(i._removeFollowing||this._isFollowing(a)?i._removeFollowing=null:this._roll_back_dates(i));var o=this._get_rec_markers(a);for(var d in o)o.hasOwnProperty(d)&&(delete this._rec_markers[o[d].id],this.deleteEvent(o[d].id,!0));delete this._rec_markers_pull[a];for(var s=!1,l=0;l<this._rendered.length;l++)this._rendered[l].getAttribute(this.config.event_attribute)==a&&(s=!0);s||(this._select_id=null)}return u(),!0}),e.attachEvent("onEventAdded",function(e){if(!this._loading){var t=this.getEvent(e);n(t)&&this._roll_back_dates(t)}return!0}),e.attachEvent("onEventSave",function(t,a,r){let o=this.getEvent(t),d=e._lame_clone(o),s=a.rrule;if(o&&n(o)&&!r&&this._isFollowing(t)){if(o._removeFollowing){if(e.getEvent(o._thisAndFollowing)&&(o._firstOccurrence||o._modified))return e.hideLightbox(),e.deleteEvent(o.id),!1;if(o.end_date=new Date(o.start_date.valueOf()-1e3),o._end_date=o._shorten_end_date,o.start_date=o._start_date,o._shorten=!0,i(o),e.callEvent("onEventChanged",[o.id,o]),e.getEvent(o._thisAndFollowing))for(const n in e._events){let a=e._events[n];a.recurring_event_id===t&&a.start_date.valueOf()>d.start_date.valueOf()&&h(a.id,a)}return e.hideLightbox(),!1}{let n=e.getEvent(o._thisAndFollowing);if(n&&o._firstOccurrence)for(const t in e._events)e._events[t].id==o.id&&l(t,a,o,d);else if(n&&o._modified)for(const n in e._events){let r=e._events[n];r.recurring_event_id==t&&r.id==d._thisAndFollowing&&l(n,a,o,d)}else{e._is_modified_occurrence(n)&&c(n),o.end_date=o._shorten_end_date,o._end_date=o._shorten_end_date,o.start_date=o._start_date,o._shorten=!0,i(o),e.callEvent("onEventChanged",[o.id,o]);let t={...d};t.text=a.text,t.duration=a.duration,t.rrule=s,t._start_date=null,t.id=e.uid(),e.addEvent(t.start_date,t.end_date,t.text,t.id,t)}return r||_(t,a),e.hideLightbox(),!1}}return r||_(t,a),d._ocr&&d._beforeEventChangedFlag?(o.start_date=d.start_date,o.end_date=d.end_date,o._start_date=d._start_date,o._end_date=d._end_date,e.updateEvent(o.id),!0):(this._select_id=null,u(),!0)}),e.attachEvent("onEventCreated",function(e){var t,a=this.getEvent(e);return n(a)||((t=a).rrule="",t.original_start=null,t.recurring_event_id=null,t.duration=null,t.deleted=null),!0}),e.attachEvent("onEventCancel",function(e){var t=this.getEvent(e);n(t)&&(this._roll_back_dates(t),this.render_view_data()),u()}),e.attachEvent("onLightbox",function(t){const n=e.getEvent(t);if(e._is_virtual_event(n.id)){const t=e.formSection("recurring");if(t&&t.node){const e=t.node.querySelector("select");e&&(e.disabled=!0)}}}),e._roll_back_dates=function(e){e.start_date&&(e.start_date=t(e.start_date)),e.end_date&&(e.end_date=t(e.end_date)),e._end_date&&(e._shorten||(e.duration=Math.round((e.end_date.valueOf()-e.start_date.valueOf())/1e3)),e.end_date=e._end_date),e._start_date&&(e.start_date.setMonth(0),e.start_date.setDate(e._start_date.getDate()),e.start_date.setMonth(e._start_date.getMonth()),e.start_date.setFullYear(e._start_date.getFullYear()),this._isFollowing(e.id)&&(e.start_date.setHours(e._start_date.getHours()),e.start_date.setMinutes(e._start_date.getMinutes()),e.start_date.setSeconds(e._start_date.getSeconds()))),e._thisAndFollowing=null,e._shorten_end_date&&(e._shorten_end_date=null),e._removeFollowing&&(e._removeFollowing=null),e._firstOccurrence&&(e._firstOccurrence=null),e._modified&&(e._modified=null)},e._is_virtual_event=function(e){return-1!=e.toString().indexOf("#")},e._is_modified_occurrence=function(e){return e.recurring_event_id&&"0"!=e.recurring_event_id},e.showLightbox_rec=e.showLightbox,e.showLightbox=function(t){const a=this.locale;let r=e.config.lightbox_recurring,i=this.getEvent(t),o=i.recurring_event_id,d=this._is_virtual_event(t);d&&(o=t.split("#")[0]);const l=function(t,n){const a=e.getEvent(t),r=e.getEvent(o),d=e.getView();if(d&&a[d.y_property]&&(r[d.y_property]=a[d.y_property]),d&&a[d.property]&&(r[d.property]=a[d.property]),"Occurrence"===n)return e.showLightbox_rec(t);if("Following"===n){if(e._isExceptionFirstOccurrence(a)||e._isFirstOccurrence(a))return s(r,a),e.showLightbox_rec(o);{r._end_date=r.end_date;const t=a.original_start||a.start_date;return r._shorten_end_date=new Date(t.valueOf()-1e3),r.end_date=new Date(a.start_date.valueOf()+1e3*r.duration),r._start_date=r.start_date,r.start_date=a.start_date,r._thisAndFollowing=a.id,i._beforeEventChangedFlag&&(r._beforeEventChangedFlag=i._beforeEventChangedFlag,r._shorten_end_date=new Date(t.valueOf()-1e3)),e.showLightbox_rec(o)}}if("AllEvents"===n){if(e._isExceptionFirstOccurrence(a)||e._isFirstOccurrence(a))return s(r,a),e.showLightbox_rec(o);const t=new Date(r.start_date);return r._end_date=r.end_date,r._start_date=t,r.start_date.setHours(a.start_date.getHours()),r.start_date.setMinutes(a.start_date.getMinutes()),r.start_date.setSeconds(a.start_date.getSeconds()),r.end_date=new Date(r.start_date.valueOf()+1e3*r.duration),r._thisAndFollowing=null,e.showLightbox_rec(o)}};if((o||1*o==0)&&n(i))return l(t,"AllEvents");if(!o||"0"===o||!a.labels.confirm_recurring||"instance"==r||"series"==r&&!d)return this.showLightbox_rec(t);if("ask"===r){const n=e.locale;p([{value:"Occurrence",label:n.labels.button_edit_occurrence,checked:!0,callback:()=>l(t,"Occurrence")},{value:"Following",label:n.labels.button_edit_occurrence_and_following,callback:()=>l(t,"Following")},{value:"AllEvents",label:n.labels.button_edit_series,callback:()=>l(t,"AllEvents")}])}},e._showRequiredModalBox=function(t,n){let a;const r=e.locale;let i=e.getEvent(t),d=i.recurring_event_id;e._is_virtual_event(i.id)&&(d=i.id.split("#")[0]);let s=e.getEvent(d);const l=e.getView();let _,h,f=e._lame_clone(s);l&&i[l.y_property]&&(f[l.y_property]=i[l.y_property]),l&&i[l.property]&&(f[l.property]=i[l.property]),i&&i._beforeEventChangedFlag&&(_=i.start_date,h=i.end_date);const v={value:"AllEvents",label:r.labels.button_edit_series,callback:()=>function(t){let n=e._lame_clone(t);if(e._isExceptionFirstOccurrence(n)&&c(n),h&&_&&(f.start_date.setHours(_.getHours()),f.start_date.setMinutes(_.getMinutes()),f.start_date.setSeconds(_.getSeconds()),f.duration=(+h-+_)/1e3),f._beforeEventChangedFlag=t._beforeEventChangedFlag,f._thisAndFollowing=null,!e.config.collision_limit||e.checkCollision(f))for(const t in e._events)e._events[t].id==f.id&&(e._events[t]={...f},e.callEvent("onEventChanged",[e._events[t].id,e._events[t]]))}(i)},g={value:"Following",label:r.labels.button_edit_occurrence_and_following,callback:()=>function(t){let n=e._lame_clone(t);if(h&&_&&(t._start_date=t.start_date,t.start_date=_,t.end_date=h),e._isFirstOccurrence(n)||e._isExceptionFirstOccurrence(n)){if(e._isExceptionFirstOccurrence(n)&&c(n),f._start_date=s.start_date,f.start_date=t.start_date,f.duration=(+t.end_date-+t.start_date)/1e3,f._beforeEventChangedFlag=t._beforeEventChangedFlag,f.rrule&&o(f.id,f),!e.config.collision_limit||e.checkCollision(f))for(const t in e._events)e._events[t].id==f.id&&(e._events[t]={...f},e.callEvent("onEventChanged",[e._events[t].id,e._events[t]]))}else{f._end_date=s.end_date;const n=t.original_start||e.date.date_part(new Date(t._start_date));f._shorten_end_date=new Date(n.valueOf()-1e3),f.end_date=t.end_date,f._start_date=s.start_date,f.start_date=t.start_date,f._thisAndFollowing=t.id,f.rrule&&o(f.id,f);let a=f.end_date;if(f.end_date=f._end_date,!e.config.collision_limit||e.checkCollision(f)){f.end_date=a;for(const t in e._events)e._events[t].id==f.id&&(e._events[t]={...f},e.callEvent("onEventSave",[e._events[t].id,e._events[t],e._new_event]),e.callEvent("onEventChanged",[e._events[t].id,e._events[t]]))}}}(i)},m={value:"Occurrence",label:r.labels.button_edit_occurrence,callback:()=>function(t){let n={...s,...e.getEvent("$dnd_recurring_placeholder")};if(h&&_&&(n.start_date=_,n.end_date=h,n._beforeEventChangedFlag=t._beforeEventChangedFlag,n._ocr=!0),!e.config.collision_limit||e.checkCollision(n))for(const t in e._events){let a=e._events[t];"$dnd_recurring_placeholder"!==t&&a.id==n.id&&(e._events[t]={...n},e.callEvent("onEventChanged",[e._events[t].id,e._events[t]]))}}(i),checked:!0};a="ask"===n?[m,g,v]:[m,g],p(a,e=>{"cancel"===e&&u()})},e.get_visible_events_rec=e.get_visible_events,e.get_visible_events=function(e){for(var t=0;t<this._rec_temp.length;t++)delete this._events[this._rec_temp[t].id];this._rec_temp=[];const a=f();var r=this.get_visible_events_rec(e),i=[];for(t=0;t<r.length;t++)r[t].deleted||r[t].recurring_event_id||(n(r[t])?this.repeat_date(r[t],i,void 0,void 0,void 0,void 0,a):i.push(r[t]));return function(e){const t={};return e.forEach(e=>{const n=t[e.id];(!n||n._beforeEventChangedFlag||e._beforeEventChangedFlag)&&(t[e.id]=e)}),Object.values(t)}(i)},function(){var t=e.isOneDayEvent;e.isOneDayEvent=function(e){return!!n(e)||t.call(this,e)};var a=e.updateEvent;e.updateEvent=function(t){var r=e.getEvent(t);r&&n(r)&&!this._is_virtual_event(t)?e.update_view():a.call(this,t)}}();const v=e.date.date_to_str("%Y%m%dT%H%i%s");function g(e){const t=e.getDay(),n=e.getDate();return{dayOfWeek:t,dayNumber:Math.ceil(n/7)}}e.repeat_date=function(t,n,i,o,d,s,l){if(!t.rrule)return;let c=l?l[t.id]:f()[t.id];c||(c={}),o=a(o||new Date(e._min_date.valueOf()-6048e5)),d=a(d||new Date(e._max_date.valueOf()-1e3));const _=a(t.start_date);let h;h=yd(s?`RRULE:${t.rrule};UNTIL=${v(t.end_date)};COUNT=${s}`:`RRULE:${t.rrule};UNTIL=${v(t.end_date)}`,{dtstart:_});const u=h.between(o,d,!0).map(e=>{const n=r(e);return n.setHours(t.start_date.getHours()),n.setMinutes(t.start_date.getMinutes()),n.setSeconds(t.start_date.getSeconds()),n});let p=0;const g=t.duration;for(let a=0;a<u.length&&!(s&&p>=s);a++){const r=u[a];let o=c[r.valueOf()];if(o){if(o.deleted||o.end_date.valueOf()<e._min_date.valueOf()||!e.filter_event(o.id,o))continue;p++,n.push(o)}else{const a=e._copy_event(t);if(a.text=t.text,a.start_date=r,a.id=t.id+"#"+Math.ceil(r.valueOf()),a.end_date=new Date(r.valueOf()+1e3*g),a.end_date.valueOf()<e._min_date.valueOf()||(a.end_date=e._fix_daylight_saving_date(a.start_date,a.end_date,t,r,a.end_date),a._timed=e.isOneDayEvent(a),!a._timed&&!e._table_view&&!e.config.multi_day))continue;n.push(a),i||(e._events[a.id]=a,e._rec_temp.push(a)),p++}}if(c&&0==u.length)for(let t in c){let a=c[t];if(a){if(a.deleted||a.end_date.valueOf()<e._min_date.valueOf()||!e.filter_event(a.id,a))continue;o&&d&&a.start_date<d&&a.end_date>o&&n.push(a)}}},e._fix_daylight_saving_date=function(e,t,n,a,r){var i=e.getTimezoneOffset()-t.getTimezoneOffset();return i?i>0?new Date(a.valueOf()+1e3*n.duration-60*i*1e3):new Date(t.valueOf()-60*i*1e3):new Date(r.valueOf())},e.getRecDates=function(t,a){var r="object"==typeof t?t:e.getEvent(t),i=[];if(a=a||100,!n(r))return[{start_date:r.start_date,end_date:r.end_date}];if(r.deleted)return[];e.repeat_date(r,i,!0,r.start_date,r.end_date,a);for(var o=[],d=0;d<i.length;d++)i[d].deleted||o.push({start_date:i[d].start_date,end_date:i[d].end_date});return o},e.getEvents=function(e,t){var a=[];const r=f();for(var i in this._events){var o=this._events[i];if(!o.recurring_event_id)if(e&&t&&o.start_date<t&&o.end_date>e)if(n(o)){var d=[];this.repeat_date(o,d,!0,e,t,void 0,r),d.forEach(function(n){n.start_date<t&&n.end_date>e&&a.push(n)})}else this._is_virtual_event(o.id)||a.push(o);else e||t||this._is_virtual_event(o.id)||a.push(o)}return a},e._copy_dummy=function(e){var t=new Date(this.start_date),n=new Date(this.end_date);this.start_date=t,this.end_date=n,this.duration=this.rrule=null},e.config.include_end_by=!1,e.config.lightbox_recurring="ask",e.config.recurring_workdays=[xd.MO.weekday,xd.TU.weekday,xd.WE.weekday,xd.TH.weekday,xd.FR.weekday],e.config.repeat_date="%m.%d.%Y",e.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rrule"},{name:"time",height:72,type:"time",map_to:"auto"}],e.attachEvent("onClearAll",function(){e._rec_markers={},e._rec_markers_pull={},e._rec_temp=[]});const m={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},x={0:1,1:2,2:3,3:4,4:5,5:6,6:0};function b(e,t){const n=e.querySelector("[name='repeat_interval_value']");n&&(n.value=(t?t.interval:1)||1)}function y(e){switch(e){case 1:case 31:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`;default:return`${e}th`}}e.templates.repeat_monthly_date=function(e,t){return`Every ${y(e.getDate())}`},e.templates.repeat_monthly_weekday=function(t,n){const a=g(t);return`Every ${y(a.dayNumber)} ${e.locale.date.day_full[a.dayOfWeek]}`},e.templates.repeat_yearly_month_date=function(t,n){const a=t.getDate(),r=e.locale.date.month_full[t.getMonth()];return`Every ${y(a)} day of ${r}`},e.templates.repeat_yearly_month_weekday=function(t,n){const a=g(t),r=e.locale.date.month_full[t.getMonth()];return`Every ${y(a.dayNumber)} ${e.locale.date.day_full[a.dayOfWeek]} of ${r}`};const w={MONTHLY:function(e){return{rrule:{freq:xd.MONTHLY,interval:1,bymonthday:e.start.getDate()},until:new Date(9999,1,1)}},WEEKLY:function(e){let t=e.start.getDay()-1;return-1==t&&(t=6),{rrule:{freq:xd.WEEKLY,interval:1,byweekday:[t]},until:new Date(9999,1,1)}},DAILY:function(e){return{rrule:{freq:xd.DAILY,interval:1},until:new Date(9999,1,1)}},YEARLY:function(e){return{rrule:{freq:xd.YEARLY,bymonth:e.start.getMonth()+1,interval:1,bymonthday:e.start.getDate()},until:new Date(9999,1,1)}},WORKDAYS:function(t){return{rrule:{freq:xd.WEEKLY,interval:1,byweekday:e.config.recurring_workdays},until:new Date(9999,1,1)}},CUSTOM:function(t,n){const a={},r=n.querySelector('[name="repeat_interval_unit"]').value,i=Math.max(1,n.querySelector('[name="repeat_interval_value"]').value),o=n.querySelector('[name="dhx_custom_month_option"]')?n.querySelector('[name="dhx_custom_month_option"]').value:null,d=n.querySelector('[name="dhx_custom_year_option"]')?n.querySelector('[name="dhx_custom_year_option"]').value:null;let s,l;switch(a.interval=i,r){case"DAILY":a.freq=xd.DAILY;break;case"WEEKLY":a.freq=xd.WEEKLY,s=[],n.querySelectorAll('.dhx_form_repeat_custom_week [name="week_day"]').forEach(e=>{e.checked&&s.push(e.value)}),a.byweekday=s.map(e=>{switch(e){case"MO":return xd.MO.weekday;case"TU":return xd.TU.weekday;case"WE":return xd.WE.weekday;case"TH":return xd.TH.weekday;case"FR":return xd.FR.weekday;case"SA":return xd.SA.weekday;case"SU":return xd.SU.weekday}});break;case"MONTHLY":a.freq=xd.MONTHLY,"month_date"===o?a.bymonthday=t.start.getDate():(l=t.start.getDay()-1,-1==l&&(l=6),a.byweekday=[l],a.bysetpos=g(t.start).dayNumber);break;case"YEARLY":a.freq=xd.YEARLY,a.bymonth=t.start.getMonth()+1,"month_date"==d?a.bymonthday=t.start.getDate():(l=t.start.getDay()-1,-1==l&&(l=6),a.byweekday=[l],a.bysetpos=g(t.start).dayNumber)}const c=e.date.str_to_date("%Y-%m-%d");let _=new Date(9999,1,1);const h=n.querySelector('[name="dhx_custom_repeat_ends"]');return h&&"ON"===h.value?(_=c(n.querySelector('[name="dhx_form_repeat_ends_ondate"]').value),a.until=new Date(_)):h&&"AFTER"===h.value&&(a.count=Math.max(1,n.querySelector('[name="dhx_form_repeat_ends_after"]').value)),{rrule:a,until:_}},NEVER:function(){}};function k(t,n,a){b(t,n),function(e,t,n){if(b(e,t),e.querySelectorAll(".dhx_form_repeat_custom_week input").forEach(e=>e.checked=!1),t&&t.byweekday)t.byweekday.forEach(t=>{const n=x[t.weekday],a=m[n],r=e.querySelector(`.dhx_form_repeat_custom_week input[value="${a}"]`);r&&(r.checked=!0)});else{const t=m[n.start_date.getDay()],a=e.querySelector(`.dhx_form_repeat_custom_week input[value="${t}"]`);a&&(a.checked=!0)}}(t,n,a),function(t,n,a){b(t,n);const r=t.querySelector('.dhx_form_repeat_custom_month [value="month_date"]'),i=t.querySelector('.dhx_form_repeat_custom_month [value="month_nth_weekday"]');if(r&&i){r.innerText=e.templates.repeat_monthly_date(a.start_date,a),i.innerText=e.templates.repeat_monthly_weekday(a.start_date,a);const o=t.querySelector('[name="dhx_custom_month_option"]');o&&(o.value=!n||!n.bysetpos||n.byweekday&&n.byweekday.length?"month_nth_weekday":"month_date")}}(t,n,a),function(t,n,a){const r=t.querySelector('.dhx_form_repeat_custom_year [value="month_date"]'),i=t.querySelector('.dhx_form_repeat_custom_year [value="month_nth_weekday"]');r&&i&&(r.innerText=e.templates.repeat_yearly_month_date(a.start_date,a),i.innerText=e.templates.repeat_yearly_month_weekday(a.start_date,a),n&&(!n.bysetpos||n.byweekday&&n.byweekday.length)?t.querySelector('[name="dhx_custom_year_option"]').value="month_nth_weekday":t.querySelector('[name="dhx_custom_year_option"]').value="month_date")}(t,n,a),function(t,n,a){const r=t.querySelector('.dhx_form_repeat_ends_extra [name="dhx_form_repeat_ends_after"]'),i=t.querySelector('.dhx_form_repeat_ends_extra [name="dhx_form_repeat_ends_ondate"]'),o=t.querySelector("[name='dhx_custom_repeat_ends']");if(r&&i&&o){r.value=1;let t=e.date.date_to_str("%Y-%m-%d");e.config.repeat_date_of_end||(e.config.repeat_date_of_end=t(e.date.add(e._currentDate(),30,"day"))),i.value=e.config.repeat_date_of_end,n&&n.count?(o.value="AFTER",r.value=n.count):a._end_date&&9999!==a._end_date.getFullYear()?(o.value="ON",i.value=t(a._end_date)):o.value="NEVER",o.dispatchEvent(new Event("change"))}}(t,n,a)}function E(t){for(let n=0;n<e.config.lightbox.sections.length;n++){let a=e.config.lightbox.sections[n];if(a.type===t)return e.formSection(a.name)}return null}e.form_blocks.recurring={_get_node:function(t){if("string"==typeof t){let n=e._lightbox.querySelector(`#${t}`);n||(n=document.getElementById(t)),t=n}return"none"==t.style.display&&(t.style.display=""),t},_outer_html:function(e){return e.outerHTML||(t=e,(a=document.createElement("div")).appendChild(t.cloneNode(!0)),n=a.innerHTML,a=null,n);var t,n,a},render:function(t){if(t.form){let n=e.form_blocks.recurring,a=n._get_node(t.form),r=n._outer_html(a);return a.style.display="none",r}let n=e.locale.labels;return`<div class="dhx_form_rrule">\n\t\t<div class="dhx_form_repeat_pattern">\n\t\t\t<select>\n\t\t\t\t<option value="NEVER">${n.repeat_never}</option>\n\t\t\t\t<option value="DAILY">${n.repeat_daily}</option>\n\t\t\t\t<option value="WEEKLY">${n.repeat_weekly}</option>\n\t\t\t\t<option value="MONTHLY">${n.repeat_monthly}</option>\n\t\t\t\t<option value="YEARLY">${n.repeat_yearly}</option>\n\t\t\t\t<option value="WORKDAYS">${n.repeat_workdays}</option>\n\t\t\t\t<option value="CUSTOM">${n.repeat_custom}</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="dhx_form_repeat_custom dhx_hidden">\n\t\t\t<div class="dhx_form_repeat_custom_interval">\n\t\t\t\t<input name="repeat_interval_value" type="number" min="1">\n\t\t\t\t<select name="repeat_interval_unit">\n\t\t\t\t\t<option value="DAILY">${n.repeat_freq_day}</option>\n\t\t\t\t\t<option value="WEEKLY">${n.repeat_freq_week}</option>\n\t\t\t\t\t<option value="MONTHLY">${n.repeat_freq_month}</option>\n\t\t\t\t\t<option value="YEARLY">${n.repeat_freq_year}</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<div class="dhx_form_repeat_custom_additional">\n\t\t\t\t<div class="dhx_form_repeat_custom_week dhx_hidden">\n\t\t\t\t\t<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="MO" />${n.day_for_recurring[1]}</label>\n\t\t\t\t\t<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="TU" />${n.day_for_recurring[2]}</label>\n\t\t\t\t\t<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="WE" />${n.day_for_recurring[3]}</label>\n\t\t\t\t\t<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="TH" />${n.day_for_recurring[4]}</label>\n\t\t\t\t\t<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="FR" />${n.day_for_recurring[5]}</label>\n\t\t\t\t\t<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="SA" />${n.day_for_recurring[6]}</label>\n\t\t\t\t\t<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="SU" />${n.day_for_recurring[0]}</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="dhx_form_repeat_custom_month dhx_hidden">\n\t\t\t\t\t<select name="dhx_custom_month_option">\n\t\t\t\t\t\t<option value="month_date"></option>\n\t\t\t\t\t\t<option value="month_nth_weekday"></option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="dhx_form_repeat_custom_year dhx_hidden">\n\t\t\t\t\t<select name="dhx_custom_year_option">\n\t\t\t\t\t\t<option value="month_date"></option>\n\t\t\t\t\t\t<option value="month_nth_weekday"></option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="dhx_form_repeat_ends">\n\t\t\t\t<div>${n.repeat_ends}</div>\n\t\t\t\t<div class="dhx_form_repeat_ends_options">\n\t\t\t\t\t<select name="dhx_custom_repeat_ends">\n\t\t\t\t\t\t<option value="NEVER">${n.repeat_never}</option>\n\t\t\t\t\t\t<option value="AFTER">${n.repeat_radio_end2}</option>\n\t\t\t\t\t\t<option value="ON">${n.repeat_on_date}</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<div class="dhx_form_repeat_ends_extra">\n\t\t\t\t\t\t<div class="dhx_form_repeat_ends_after dhx_hidden">\n\t\t\t\t\t\t\t<label><input type="number" min="1" name="dhx_form_repeat_ends_after">${n.repeat_text_occurrences_count}</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="dhx_form_repeat_ends_on dhx_hidden">\n\t\t\t\t\t\t\t<input type="date" name="dhx_form_repeat_ends_ondate">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>`},_init_set_value:function(t,n,a){function r(e){e&&e.classList.add("dhx_hidden")}function i(e){e&&e.classList.remove("dhx_hidden")}e.form_blocks.recurring._ds={start:a.start_date,end:a.end_date};const o=t.querySelector(".dhx_form_repeat_pattern select");o&&o.addEventListener("change",function(){!function(e){const n=t.querySelector(".dhx_form_repeat_custom");"CUSTOM"===e?i(n):r(n)}(this.value)});const d=t.querySelector(".dhx_form_repeat_custom_interval [name='repeat_interval_unit']");d&&d.addEventListener("change",function(){!function(e){const n={weekly:t.querySelector(".dhx_form_repeat_custom_week"),monthly:t.querySelector(".dhx_form_repeat_custom_month"),yearly:t.querySelector(".dhx_form_repeat_custom_year")};switch(e){case"DAILY":r(n.weekly),r(n.monthly),r(n.yearly);break;case"WEEKLY":i(n.weekly),r(n.monthly),r(n.yearly);break;case"MONTHLY":r(n.weekly),i(n.monthly),r(n.yearly);break;case"YEARLY":r(n.weekly),r(n.monthly),i(n.yearly)}}(this.value)});const s=t.querySelector(".dhx_form_repeat_ends [name='dhx_custom_repeat_ends']");s&&s.addEventListener("change",function(){!function(e){const n={after:t.querySelector(".dhx_form_repeat_ends_extra .dhx_form_repeat_ends_after"),on:t.querySelector(".dhx_form_repeat_ends_extra .dhx_form_repeat_ends_on")};switch(e){case"NEVER":r(n.after),r(n.on);break;case"AFTER":i(n.after),r(n.on);break;case"ON":r(n.after),i(n.on)}}(this.value)}),e._lightbox._rec_init_done=!0},button_click:function(){},set_value:function(t,n,a){let r=e.form_blocks.recurring;e._lightbox._rec_init_done||r._init_set_value(t,n,a),t.open=!a.rrule,t.blocked=this._is_modified_occurrence(a);let i=r._ds;if(i.start=a.start_date,i.end=a._end_date,a.rrule){const n=yd(a.rrule);k(t,n.origOptions,a);const r=function(t,n){const a=t.options,r=a.until||n;return a.count||r&&9999!==r.getFullYear()?"CUSTOM":a.freq!==xd.DAILY||1!==a.interval||a.byweekday?a.freq!==xd.WEEKLY||1!==a.interval||a.byweekday?a.freq!==xd.MONTHLY||1!==a.interval||a.bysetpos?a.freq!==xd.YEARLY||1!==a.interval||a.bysetpos?a.freq===xd.DAILY&&a.byweekday&&a.byweekday.length===e.config.recurring_workdays.length&&a.byweekday.includes(xd.MO)&&a.byweekday.includes(xd.TU)&&a.byweekday.includes(xd.WE)&&a.byweekday.includes(xd.TH)&&a.byweekday.includes(xd.FR)?"WORKDAYS":"CUSTOM":"YEARLY":"MONTHLY":"WEEKLY":"DAILY"}(n,a._end_date);if(t.querySelector(".dhx_form_repeat_pattern select").value=r,"CUSTOM"===r){let e;switch(n.origOptions.freq){case xd.DAILY:e="DAILY";break;case xd.WEEKLY:e="WEEKLY";break;case xd.MONTHLY:e="MONTHLY";break;case xd.YEARLY:e="YEARLY"}e&&(t.querySelector('[name="repeat_interval_unit"]').value=e,t.querySelector('[name="repeat_interval_unit"]').dispatchEvent(new Event("change")))}}else{k(t,null,a);const e=t.querySelector(".dhx_form_repeat_pattern select");e&&(e.value="NEVER")}const o=t.querySelector(".dhx_form_repeat_pattern select");o&&o.dispatchEvent(new Event("change"))},get_value:function(t,n){const a=t.querySelector(".dhx_form_repeat_pattern select");if(t.blocked||a&&"NEVER"===a.value)n.rrule=n.rrule="",n._end_date=n.end_date;else{let r=e.form_blocks.recurring._ds,i={};(function(){let t=e.formSection("time");if(t||(t=E("time")),t||(t=E("calendar_time")),!t)throw new Error(["Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.","You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. ",'In the latter case, make sure the control is named "time":',"","scheduler.config.lightbox.sections = [",'{name:"time", height:72, type:"YOU CONTROL", map_to:"auto" }];'].join("\n"));return t})().getValue(i),r.start=i.start_date;const o=a?a.value:"CUSTOM",d=w[o](r,t);n.rrule=new xd(d.rrule).toString().replace("RRULE:",""),r.end=d.until,n.duration=Math.floor((i.end_date-i.start_date)/1e3),r._start?(n.start_date=new Date(r.start),n._start_date=new Date(r.start),r._start=!1):n._start_date=null,n._end_date=r.end}return n.rrule},focus:function(e){}}},recurring_legacy:function(e){function t(){var t=e.formSection("recurring");if(t||(t=n("recurring")),!t)throw new Error(["Can't locate the Recurring form section.","Make sure that you have the recurring control on the lightbox configuration https://docs.dhtmlx.com/scheduler/recurring_events.html#recurringlightbox ",'and that the recurring control has name "recurring":',"","scheduler.config.lightbox.sections = [",'\t{name:"recurring", ... }',"];"].join("\n"));return t}function n(t){for(var n=0;n<e.config.lightbox.sections.length;n++){var a=e.config.lightbox.sections[n];if(a.type===t)return e.formSection(a.name)}return null}function a(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),0)}var r;e.config.occurrence_timestamp_in_utc=!1,e.config.recurring_workdays=[1,2,3,4,5],e.form_blocks.recurring={_get_node:function(t){if("string"==typeof t){let n=e._lightbox.querySelector(`#${t}`);n||(n=document.getElementById(t)),t=n}return"none"==t.style.display&&(t.style.display=""),t},_outer_html:function(e){return e.outerHTML||(t=e,(a=document.createElement("div")).appendChild(t.cloneNode(!0)),n=a.innerHTML,a=null,n);var t,n,a},render:function(t){if(t.form){var n=e.form_blocks.recurring,a=n._get_node(t.form),r=n._outer_html(a);return a.style.display="none",r}var i=e.locale.labels;return'<div class="dhx_form_repeat"> <form> <div class="dhx_repeat_left"> <div><label><input class="dhx_repeat_radio" type="radio" name="repeat" value="day" />'+i.repeat_radio_day+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="repeat" value="week"/>'+i.repeat_radio_week+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="repeat" value="month" checked />'+i.repeat_radio_month+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="repeat" value="year" />'+i.repeat_radio_year+'</label></div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_center"> <div style="display:none;" id="dhx_repeat_day"> <div><label><input class="dhx_repeat_radio" type="radio" name="day_type" value="d"/>'+i.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="day_count" value="1" />'+i.repeat_text_day_count+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="day_type" checked value="w"/>'+i.repeat_radio_day_type2+'</label></div> </div> <div style="display:none;" id="dhx_repeat_week"><div><label>'+i.repeat_week+'<input class="dhx_repeat_text" type="text" name="week_count" value="1" /></label><span>'+i.repeat_text_week_count+'</span></div>  <table class="dhx_repeat_days"> <tr> <td><div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="1" />'+i.day_for_recurring[1]+'</label></div> <div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="4" />'+i.day_for_recurring[4]+'</label></div></td> <td><div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="2" />'+i.day_for_recurring[2]+'</label></div> <div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="5" />'+i.day_for_recurring[5]+'</label></div></td> <td><div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="3" />'+i.day_for_recurring[3]+'</label></div> <div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="6" />'+i.day_for_recurring[6]+'</label></div></td> <td><div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="0" />'+i.day_for_recurring[0]+'</label></div> </td> </tr> </table> </div> <div id="dhx_repeat_month"> <div><label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" value="d"/>'+i.repeat_radio_month_type+'</label><label><input class="dhx_repeat_text" type="text" name="month_day" value="1" />'+i.repeat_text_month_day+'</label><label><input class="dhx_repeat_text" type="text" name="month_count" value="1" />'+i.repeat_text_month_count+'</label></div> <div><label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" checked value="w"/>'+i.repeat_radio_month_start+'</label><input class="dhx_repeat_text" type="text" name="month_week2" value="1" /><label><select name="month_day2">\t<option value="1" selected >'+e.locale.date.day_full[1]+'<option value="2">'+e.locale.date.day_full[2]+'<option value="3">'+e.locale.date.day_full[3]+'<option value="4">'+e.locale.date.day_full[4]+'<option value="5">'+e.locale.date.day_full[5]+'<option value="6">'+e.locale.date.day_full[6]+'<option value="0">'+e.locale.date.day_full[0]+"</select>"+i.repeat_text_month_count2_before+'</label><label><input class="dhx_repeat_text" type="text" name="month_count2" value="1" />'+i.repeat_text_month_count2_after+'</label></div> </div> <div style="display:none;" id="dhx_repeat_year"> <div><label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" value="d"/>'+i.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="year_day" value="1" />'+i.repeat_text_year_day+'</label><label><select name="year_month"><option value="0" selected >'+i.month_for_recurring[0]+'<option value="1">'+i.month_for_recurring[1]+'<option value="2">'+i.month_for_recurring[2]+'<option value="3">'+i.month_for_recurring[3]+'<option value="4">'+i.month_for_recurring[4]+'<option value="5">'+i.month_for_recurring[5]+'<option value="6">'+i.month_for_recurring[6]+'<option value="7">'+i.month_for_recurring[7]+'<option value="8">'+i.month_for_recurring[8]+'<option value="9">'+i.month_for_recurring[9]+'<option value="10">'+i.month_for_recurring[10]+'<option value="11">'+i.month_for_recurring[11]+"</select>"+i.select_year_month+'</label></div> <div><label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" checked value="w"/>'+i.repeat_year_label+'</label><input class="dhx_repeat_text" type="text" name="year_week2" value="1" /><select name="year_day2"><option value="1" selected >'+e.locale.date.day_full[1]+'<option value="2">'+e.locale.date.day_full[2]+'<option value="3">'+e.locale.date.day_full[3]+'<option value="4">'+e.locale.date.day_full[4]+'<option value="5">'+e.locale.date.day_full[5]+'<option value="6">'+e.locale.date.day_full[6]+'<option value="7">'+e.locale.date.day_full[0]+"</select>"+i.select_year_day2+'<select name="year_month2"><option value="0" selected >'+i.month_for_recurring[0]+'<option value="1">'+i.month_for_recurring[1]+'<option value="2">'+i.month_for_recurring[2]+'<option value="3">'+i.month_for_recurring[3]+'<option value="4">'+i.month_for_recurring[4]+'<option value="5">'+i.month_for_recurring[5]+'<option value="6">'+i.month_for_recurring[6]+'<option value="7">'+i.month_for_recurring[7]+'<option value="8">'+i.month_for_recurring[8]+'<option value="9">'+i.month_for_recurring[9]+'<option value="10">'+i.month_for_recurring[10]+'<option value="11">'+i.month_for_recurring[11]+'</select></div> </div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_right"> <div><label><input class="dhx_repeat_radio" type="radio" name="end" checked/>'+i.repeat_radio_end+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="end" />'+i.repeat_radio_end2+'</label><input class="dhx_repeat_text" type="text" name="occurences_count" value="1" />'+i.repeat_text_occurrences_count+'</div> <div><label><input class="dhx_repeat_radio" type="radio" name="end" />'+i.repeat_radio_end3+'</label><input class="dhx_repeat_date" type="text" name="date_of_end" value="'+e.config.repeat_date_of_end+'" /></div> </div> </form> </div> </div>'},_ds:{},_get_form_node:function(e,t,n){var a=e[t];if(!a)return null;if(a.nodeName)return a;if(a.length)for(var r=0;r<a.length;r++)if(a[r].value==n)return a[r]},_get_node_value:function(e,t,n){var a=e[t];if(!a)return"";if(a.length){if(n){for(var r=[],i=0;i<a.length;i++)a[i].checked&&r.push(a[i].value);return r}for(i=0;i<a.length;i++)if(a[i].checked)return a[i].value}return a.value?n?[a.value]:a.value:void 0},_get_node_numeric_value:function(t,n){return 1*e.form_blocks.recurring._get_node_value(t,n)||0},_set_node_value:function(e,t,n){var a=e[t];if(a)if(a.name==t)a.value=n;else if(a.length)for(var r="object"==typeof n,i=0;i<a.length;i++)(r||a[i].value==n)&&(a[i].checked=r?!!n[a[i].value]:!!n)},_init_set_value:function(t,n,a){var r=e.form_blocks.recurring,i=r._get_node_value,o=r._set_node_value;e.form_blocks.recurring._ds={start:a.start_date,end:a._end_date};var d=e.date.str_to_date(e.config.repeat_date,!1,!0),s=e.date.date_to_str(e.config.repeat_date),l=t.getElementsByTagName("FORM")[0],c={};function _(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.name)if(c[n.name])if(c[n.name].nodeType){var a=c[n.name];c[n.name]=[a,n]}else c[n.name].push(n);else c[n.name]=n}}if(_(l.getElementsByTagName("INPUT")),_(l.getElementsByTagName("SELECT")),!e.config.repeat_date_of_end){var h=e.date.date_to_str(e.config.repeat_date);e.config.repeat_date_of_end=h(e.date.add(e._currentDate(),30,"day"))}o(c,"date_of_end",e.config.repeat_date_of_end);var u=function(t){return e._lightbox.querySelector(`#${t}`)||{style:{}}};function p(){u("dhx_repeat_day").style.display="none",u("dhx_repeat_week").style.display="none",u("dhx_repeat_month").style.display="none",u("dhx_repeat_year").style.display="none",u("dhx_repeat_"+this.value).style.display="",e.setLightboxSize()}function f(e,t){var n=e.end;if(n.length)if(n[0].value&&"on"!=n[0].value)for(var a=0;a<n.length;a++)n[a].value==t&&(n[a].checked=!0);else{var r=0;switch(t){case"no":r=0;break;case"date_of_end":r=2;break;default:r=1}n[r].checked=!0}else n.value=t}e.form_blocks.recurring._get_repeat_code=function(t){var n=[i(c,"repeat")];for(v[n[0]](n,t);n.length<5;)n.push("");var a,r,o="",s=function(e){var t=e.end;if(t.length){for(var n=0;n<t.length;n++)if(t[n].checked)return t[n].value&&"on"!=t[n].value?t[n].value:n?2==n?"date_of_end":"occurences_count":"no"}else if(t.value)return t.value;return"no"}(c);return"no"==s?(t.end=new Date(9999,1,1),o="no"):"date_of_end"==s?t.end=(a=i(c,"date_of_end"),r=d(a),e.config.include_end_by&&(r=e.date.add(r,1,"day")),r):(e.transpose_type(n.join("_")),o=Math.max(1,i(c,"occurences_count")),t.end=e.date["add_"+n.join("_")](new Date(t.start),o+0,{start_date:t.start})||t.start),n.join("_")+"#"+o};var v={month:function(t,n){var a=e.form_blocks.recurring._get_node_value,r=e.form_blocks.recurring._get_node_numeric_value;"d"==a(c,"month_type")?(t.push(Math.max(1,r(c,"month_count"))),n.start.setDate(a(c,"month_day"))):(t.push(Math.max(1,r(c,"month_count2"))),t.push(a(c,"month_day2")),t.push(Math.max(1,r(c,"month_week2"))),e.config.repeat_precise||n.start.setDate(1)),n._start=!0},week:function(t,n){var a=e.form_blocks.recurring._get_node_value,r=e.form_blocks.recurring._get_node_numeric_value;t.push(Math.max(1,r(c,"week_count"))),t.push(""),t.push("");for(var i=[],o=a(c,"week_day",!0),d=n.start.getDay(),s=!1,l=0;l<o.length;l++)i.push(o[l]),s=s||o[l]==d;i.length||(i.push(d),s=!0),i.sort(),e.config.repeat_precise?s||(e.transpose_day_week(n.start,i,1,7),n._start=!0):(n.start=e.date.week_start(n.start),n._start=!0),t.push(i.join(","))},day:function(t){var n=e.form_blocks.recurring._get_node_value,a=e.form_blocks.recurring._get_node_numeric_value;"d"==n(c,"day_type")?t.push(Math.max(1,a(c,"day_count"))):(t.push("week"),t.push(1),t.push(""),t.push(""),t.push(e.config.recurring_workdays.join(",")),t.splice(0,1))},year:function(t,n){var a=e.form_blocks.recurring._get_node_value;"d"==a(c,"year_type")?(t.push("1"),n.start.setMonth(0),n.start.setDate(a(c,"year_day")),n.start.setMonth(a(c,"year_month"))):(t.push("1"),t.push(a(c,"year_day2")),t.push(a(c,"year_week2")),n.start.setDate(1),n.start.setMonth(a(c,"year_month2"))),n._start=!0}},g={week:function(t,n){var a=e.form_blocks.recurring._set_node_value;a(c,"week_count",t[1]);for(var r=t[4].split(","),i={},o=0;o<r.length;o++)i[r[o]]=!0;a(c,"week_day",i)},month:function(t,n){var a=e.form_blocks.recurring._set_node_value;""===t[2]?(a(c,"month_type","d"),a(c,"month_count",t[1]),a(c,"month_day",n.start.getDate())):(a(c,"month_type","w"),a(c,"month_count2",t[1]),a(c,"month_week2",t[3]),a(c,"month_day2",t[2]))},day:function(t,n){var a=e.form_blocks.recurring._set_node_value;a(c,"day_type","d"),a(c,"day_count",t[1])},year:function(t,n){var a=e.form_blocks.recurring._set_node_value;""===t[2]?(a(c,"year_type","d"),a(c,"year_day",n.start.getDate()),a(c,"year_month",n.start.getMonth())):(a(c,"year_type","w"),a(c,"year_week2",t[3]),a(c,"year_day2",t[2]),a(c,"year_month2",n.start.getMonth()))}};e.form_blocks.recurring._set_repeat_code=function(t,n){var a=e.form_blocks.recurring._set_node_value,r=t.split("#");switch(t=r[0].split("_"),g[t[0]](t,n),r[1]){case"no":f(c,"no");break;case"":f(c,"date_of_end");var i=n.end;e.config.include_end_by&&(i=e.date.add(i,-1,"day")),a(c,"date_of_end",s(i));break;default:f(c,"occurences_count"),a(c,"occurences_count",r[1])}a(c,"repeat",t[0]);var o=e.form_blocks.recurring._get_form_node(c,"repeat",t[0]);"SELECT"==o.nodeName?(o.dispatchEvent(new Event("change")),o.dispatchEvent(new MouseEvent("click"))):o.dispatchEvent(new MouseEvent("click"))};for(var m=0;m<l.elements.length;m++){var x=l.elements[m];"repeat"===x.name&&("SELECT"!=x.nodeName||x.$_eventAttached?x.$_eventAttached||(x.$_eventAttached=!0,x.addEventListener("click",p)):(x.$_eventAttached=!0,x.addEventListener("change",p)))}e._lightbox._rec_init_done=!0},set_value:function(t,n,a){var r=e.form_blocks.recurring;e._lightbox._rec_init_done||r._init_set_value(t,n,a),t.open=!a.rec_type,t.blocked=this._is_modified_occurence(a);var i=r._ds;i.start=a.start_date,i.end=a._end_date,r._toggle_block(),n&&r._set_repeat_code(n,i)},get_value:function(t,a){if(t.open){var r=e.form_blocks.recurring._ds,i={};(function(){var t=e.formSection("time");if(t||(t=n("time")),t||(t=n("calendar_time")),!t)throw new Error(["Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.","You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. ",'In the latter case, make sure the control is named "time":',"","scheduler.config.lightbox.sections = [",'{name:"time", height:72, type:"YOU CONTROL", map_to:"auto" }];'].join("\n"));return t})().getValue(i),r.start=i.start_date,a.rec_type=e.form_blocks.recurring._get_repeat_code(r),r._start?(a.start_date=new Date(r.start),a._start_date=new Date(r.start),r._start=!1):a._start_date=null,a._end_date=r.end,a.rec_pattern=a.rec_type.split("#")[0]}else a.rec_type=a.rec_pattern="",a._end_date=a.end_date;return a.rec_type},_get_button:function(){return t().header.firstChild.firstChild},_get_form:function(){return t().node},open:function(){var t=e.form_blocks.recurring;t._get_form().open||t._toggle_block()},close:function(){var t=e.form_blocks.recurring;t._get_form().open&&t._toggle_block()},_toggle_block:function(){var t=e.form_blocks.recurring,n=t._get_form(),a=t._get_button();n.open||n.blocked?(n.style.height="0px",a&&(a.style.backgroundPosition="-5px 20px",a.nextSibling.innerHTML=e.locale.labels.button_recurring)):(n.style.height="auto",a&&(a.style.backgroundPosition="-5px 0px",a.nextSibling.innerHTML=e.locale.labels.button_recurring_open)),n.open=!n.open,e.setLightboxSize()},focus:function(e){},button_click:function(t,n,a){e.form_blocks.recurring._get_form().blocked||e.form_blocks.recurring._toggle_block()}},e._rec_markers={},e._rec_markers_pull={},e._add_rec_marker=function(e,t){e._pid_time=t,this._rec_markers[e.id]=e,this._rec_markers_pull[e.event_pid]||(this._rec_markers_pull[e.event_pid]={}),this._rec_markers_pull[e.event_pid][t]=e},e._get_rec_marker=function(e,t){var n=this._rec_markers_pull[t];return n?n[e]:null},e._get_rec_markers=function(e){return this._rec_markers_pull[e]||[]},e._rec_temp=[],r=e.addEvent,e.addEvent=function(t,n,i,o,d){var s=r.apply(this,arguments);if(s&&e.getEvent(s)){var l=e.getEvent(s);l.start_date&&(l.start_date=a(l.start_date)),l.end_date&&(l.end_date=a(l.end_date)),this._is_modified_occurence(l)&&e._add_rec_marker(l,1e3*l.event_length),l.rec_type&&(l.rec_pattern=l.rec_type.split("#")[0])}return s},e.attachEvent("onEventIdChange",function(t,n){if(!this._ignore_call){this._ignore_call=!0,e._rec_markers[t]&&(e._rec_markers[n]=e._rec_markers[t],delete e._rec_markers[t]),e._rec_markers_pull[t]&&(e._rec_markers_pull[n]=e._rec_markers_pull[t],delete e._rec_markers_pull[t]);for(var a=0;a<this._rec_temp.length;a++)(r=this._rec_temp[a]).event_pid==t&&(r.event_pid=n,this.changeEventId(r.id,n+"#"+r.id.split("#")[1]));for(var a in this._rec_markers){var r;(r=this._rec_markers[a]).event_pid==t&&(r.event_pid=n,r._pid_changed=!0)}var i=e._rec_markers[n];i&&i._pid_changed&&(delete i._pid_changed,setTimeout(function(){if(e.$destroyed)return!0;e.callEvent("onEventChanged",[n,e.getEvent(n)])},1)),delete this._ignore_call}}),e.attachEvent("onConfirmedBeforeEventDelete",function(e){var t=this.getEvent(e);if(this._is_virtual_event(e)||this._is_modified_occurence(t)&&t.rec_type&&"none"!=t.rec_type){e=e.split("#");var n=this.uid(),a=e[1]?e[1]:Math.round(t._pid_time/1e3),r=this._copy_event(t);r.id=n,r.event_pid=t.event_pid||e[0];var i=a;r.event_length=i,r.rec_type=r.rec_pattern="none",this.addEvent(r),this._add_rec_marker(r,1e3*i)}else{t.rec_type&&this._lightbox_id&&this._roll_back_dates(t);var o=this._get_rec_markers(e);for(var d in o)o.hasOwnProperty(d)&&(e=o[d].id,this.getEvent(e)&&this.deleteEvent(e,!0))}return!0}),e.attachEvent("onEventDeleted",function(t,n){!this._is_virtual_event(t)&&this._is_modified_occurence(n)&&(e._events[t]||(n.rec_type=n.rec_pattern="none",this.setEvent(t,n)))}),e.attachEvent("onEventChanged",function(e,t){if(this._loading)return!0;var n=this.getEvent(e);if(this._is_virtual_event(e)){e=e.split("#");var r=this.uid();this._not_render=!0;var i=this._copy_event(t);i.id=r,i.event_pid=e[0];var o=e[1];i.event_length=o,i.rec_type=i.rec_pattern="",this._add_rec_marker(i,1e3*o),this.addEvent(i),this._not_render=!1}else{n.start_date&&(n.start_date=a(n.start_date)),n.end_date&&(n.end_date=a(n.end_date)),n.rec_type&&this._lightbox_id&&this._roll_back_dates(n);var d=this._get_rec_markers(e);for(var s in d)d.hasOwnProperty(s)&&(delete this._rec_markers[d[s].id],this.deleteEvent(d[s].id,!0));delete this._rec_markers_pull[e];for(var l=!1,c=0;c<this._rendered.length;c++)this._rendered[c].getAttribute(this.config.event_attribute)==e&&(l=!0);l||(this._select_id=null)}return!0}),e.attachEvent("onEventAdded",function(e){if(!this._loading){var t=this.getEvent(e);t.rec_type&&!t.event_length&&this._roll_back_dates(t)}return!0}),e.attachEvent("onEventSave",function(e,t,n){return this.getEvent(e).rec_type||!t.rec_type||this._is_virtual_event(e)||(this._select_id=null),!0}),e.attachEvent("onEventCreated",function(e){var t=this.getEvent(e);return t.rec_type||(t.rec_type=t.rec_pattern=t.event_length=t.event_pid=""),!0}),e.attachEvent("onEventCancel",function(e){var t=this.getEvent(e);t.rec_type&&(this._roll_back_dates(t),this.render_view_data())}),e._roll_back_dates=function(e){e.start_date&&(e.start_date=a(e.start_date)),e.end_date&&(e.end_date=a(e.end_date)),e.event_length=Math.round((e.end_date.valueOf()-e.start_date.valueOf())/1e3),e.end_date=e._end_date,e._start_date&&(e.start_date.setMonth(0),e.start_date.setDate(e._start_date.getDate()),e.start_date.setMonth(e._start_date.getMonth()),e.start_date.setFullYear(e._start_date.getFullYear()))},e._is_virtual_event=function(e){return-1!=e.toString().indexOf("#")},e._is_modified_occurence=function(e){return e.event_pid&&"0"!=e.event_pid},e.showLightbox_rec=e.showLightbox,e.showLightbox=function(t){var n=this.locale,a=e.config.lightbox_recurring,r=this.getEvent(t),i=r.event_pid,o=this._is_virtual_event(t);o&&(i=t.split("#")[0]);var d=function(t){var n=e.getEvent(t);return n._end_date=n.end_date,n.end_date=new Date(n.start_date.valueOf()+1e3*n.event_length),e.showLightbox_rec(t)};if((i||1*i==0)&&r.rec_type)return d(t);if(!i||"0"===i||!n.labels.confirm_recurring||"instance"==a||"series"==a&&!o)return this.showLightbox_rec(t);if("ask"==a){var s=this;e.modalbox({text:n.labels.confirm_recurring,title:n.labels.title_confirm_recurring,width:"500px",position:"middle",buttons:[n.labels.button_edit_series,n.labels.button_edit_occurrence,n.labels.icon_cancel],callback:function(e){switch(+e){case 0:return d(i);case 1:return s.showLightbox_rec(t);case 2:return}}})}else d(i)},e.get_visible_events_rec=e.get_visible_events,e.get_visible_events=function(e){for(var t=0;t<this._rec_temp.length;t++)delete this._events[this._rec_temp[t].id];this._rec_temp=[];var n=this.get_visible_events_rec(e),a=[];for(t=0;t<n.length;t++)n[t].rec_type?"none"!=n[t].rec_pattern&&this.repeat_date(n[t],a):a.push(n[t]);return a},function(){var t=e.isOneDayEvent;e.isOneDayEvent=function(e){return!!e.rec_type||t.call(this,e)};var n=e.updateEvent;e.updateEvent=function(t){var a=e.getEvent(t);a&&a.rec_type&&(a.rec_pattern=(a.rec_type||"").split("#")[0]),a&&a.rec_type&&!this._is_virtual_event(t)?e.update_view():n.call(this,t)}}(),e.transponse_size={day:1,week:7,month:1,year:12},e.date.day_week=function(t,n,a){t.setDate(1);var r=e.date.month_start(new Date(t)),i=1*n+(a=7*(a-1))-t.getDay()+1;t.setDate(i<=a?i+7:i);var o=e.date.month_start(new Date(t));return r.valueOf()===o.valueOf()},e.transpose_day_week=function(t,n,a,r,i){for(var o=(t.getDay()||(e.config.start_on_monday?7:0))-a,d=0;d<n.length;d++)if(n[d]>o)return t.setDate(t.getDate()+1*n[d]-o-(r?a:i));this.transpose_day_week(t,n,a+r,null,a)},e.transpose_type=function(t){var n="transpose_"+t;if(!this.date[n]){var a=t.split("_"),r="add_"+t,i=this.transponse_size[a[0]]*a[1];if("day"==a[0]||"week"==a[0]){var o=null;if(a[4]&&(o=a[4].split(","),e.config.start_on_monday)){for(var d=0;d<o.length;d++)o[d]=1*o[d]||7;o.sort()}this.date[n]=function(t,n){var a=Math.floor((n.valueOf()-t.valueOf())/(864e5*i));return a>0&&t.setDate(t.getDate()+a*i),o&&e.transpose_day_week(t,o,1,i),t},this.date[r]=function(t,n){var a=new Date(t.valueOf());if(o)for(var r=0;r<n;r++)e.transpose_day_week(a,o,0,i);else a.setDate(a.getDate()+n*i);return a}}else"month"!=a[0]&&"year"!=a[0]||(this.date[n]=function(t,n,a){var o=Math.ceil((12*n.getFullYear()+1*n.getMonth()+1-(12*t.getFullYear()+1*t.getMonth()+1))/i-1);return o>=0&&(t.setDate(1),t.setMonth(t.getMonth()+o*i)),e.date[r](t,0,a)},this.date[r]=function(t,n,o,d){if(d?d++:d=1,d>12)return null;var s=new Date(t.valueOf());s.setDate(1),s.setMonth(s.getMonth()+n*i);var l=s.getMonth(),c=s.getFullYear();s.setDate(o.start_date.getDate()),a[3]&&e.date.day_week(s,a[2],a[3]);var _=e.config.recurring_overflow_instances;return s.getMonth()!=l&&"none"!=_&&(s="lastDay"===_?new Date(c,l+1,0,s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()):e.date[r](new Date(c,l+1,0),n||1,o,d)),s})}},e.repeat_date=function(t,n,a,r,i,o){r=r||this._min_date,i=i||this._max_date;var d=o||-1,s=new Date(t.start_date.valueOf()),l=s.getHours(),c=0;for(!t.rec_pattern&&t.rec_type&&(t.rec_pattern=t.rec_type.split("#")[0]),this.transpose_type(t.rec_pattern),s=e.date["transpose_"+t.rec_pattern](s,r,t);s&&(s<t.start_date||e._fix_daylight_saving_date(s,r,t,s,new Date(s.valueOf()+1e3*t.event_length)).valueOf()<=r.valueOf()||s.valueOf()+1e3*t.event_length<=r.valueOf());)s=this.date["add_"+t.rec_pattern](s,1,t);for(;s&&s<i&&s<t.end_date&&(d<0||c<d);){s.setHours(l);var _=e.config.occurrence_timestamp_in_utc?Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()):s.valueOf(),h=this._get_rec_marker(_,t.id);if(h)a&&("none"!=h.rec_type&&c++,n.push(h));else{var u=new Date(s.valueOf()+1e3*t.event_length),p=this._copy_event(t);if(p.text=t.text,p.start_date=s,p.event_pid=t.id,p.id=t.id+"#"+Math.round(_/1e3),p.end_date=u,p.end_date=e._fix_daylight_saving_date(p.start_date,p.end_date,t,s,p.end_date),p._timed=this.isOneDayEvent(p),!p._timed&&!this._table_view&&!this.config.multi_day)return;n.push(p),a||(this._events[p.id]=p,this._rec_temp.push(p)),c++}s=this.date["add_"+t.rec_pattern](s,1,t)}},e._fix_daylight_saving_date=function(e,t,n,a,r){var i=e.getTimezoneOffset()-t.getTimezoneOffset();return i?i>0?new Date(a.valueOf()+1e3*n.event_length-60*i*1e3):new Date(t.valueOf()-60*i*1e3):new Date(r.valueOf())},e.getRecDates=function(t,n){var a="object"==typeof t?t:e.getEvent(t),r=[];if(n=n||100,!a.rec_type)return[{start_date:a.start_date,end_date:a.end_date}];if("none"==a.rec_type)return[];e.repeat_date(a,r,!0,a.start_date,a.end_date,n);for(var i=[],o=0;o<r.length;o++)"none"!=r[o].rec_type&&i.push({start_date:r[o].start_date,end_date:r[o].end_date});return i},e.getEvents=function(e,t){var n=[];for(var a in this._events){var r=this._events[a];if(r&&r.start_date<t&&r.end_date>e)if(r.rec_pattern){if("none"==r.rec_pattern)continue;var i=[];this.repeat_date(r,i,!0,e,t);for(var o=0;o<i.length;o++)!i[o].rec_pattern&&i[o].start_date<t&&i[o].end_date>e&&!this._rec_markers[i[o].id]&&n.push(i[o])}else this._is_virtual_event(r.id)||n.push(r)}return n},e.config.repeat_date="%m.%d.%Y",e.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type",button:"recurring"},{name:"time",height:72,type:"time",map_to:"auto"}],e._copy_dummy=function(e){var t=new Date(this.start_date),n=new Date(this.end_date);this.start_date=t,this.end_date=n,this.event_length=this.event_pid=this.rec_pattern=this.rec_type=null},e.config.include_end_by=!1,e.config.lightbox_recurring="ask",e.attachEvent("onClearAll",function(){e._rec_markers={},e._rec_markers_pull={},e._rec_temp=[]})},serialize:function(e){const t=yi(e);e.data_attributes=function(){var n=[],a=e._helpers.formatDate,r=t();for(var i in r){var o=r[i];for(var d in o)"_"!=d.substr(0,1)&&n.push([d,"start_date"==d||"end_date"==d?a:null]);break}return n},e.toXML=function(e){var n=[],a=this.data_attributes(),r=t();for(var i in r){var o=r[i];n.push("<event>");for(var d=0;d<a.length;d++)n.push("<"+a[d][0]+"><![CDATA["+(a[d][1]?a[d][1](o[a[d][0]]):o[a[d][0]])+"]]></"+a[d][0]+">");n.push("</event>")}return(e||"")+"<data>"+n.join("\n")+"</data>"},e._serialize_json_value=function(e){return null===e||"boolean"==typeof e?e=""+e:(e||0===e||(e=""),e='"'+e.toString().replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'),e},e.toJSON=function(){return JSON.stringify(this.serialize())},e.toICal=function(n){var a=e.date.date_to_str("%Y%m%dT%H%i%s"),r=e.date.date_to_str("%Y%m%d"),i=[],o=t();for(var d in o){var s=o[d];i.push("BEGIN:VEVENT"),s._timed&&(s.start_date.getHours()||s.start_date.getMinutes())?i.push("DTSTART:"+a(s.start_date)):i.push("DTSTART:"+r(s.start_date)),s._timed&&(s.end_date.getHours()||s.end_date.getMinutes())?i.push("DTEND:"+a(s.end_date)):i.push("DTEND:"+r(s.end_date)),i.push("SUMMARY:"+s.text),i.push("END:VEVENT")}return"BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//dhtmlXScheduler//NONSGML v2.2//EN\nDESCRIPTION:"+(n||"")+"\n"+i.join("\n")+"\nEND:VCALENDAR"}},timeline:function(e){Ci("Timeline",e.assert)},tooltip:function(e){e.config.tooltip_timeout=30,e.config.tooltip_offset_y=20,e.config.tooltip_offset_x=10,e.config.tooltip_hide_timeout=30;const t=new Cd(e);e.ext.tooltips=t,e.attachEvent("onSchedulerReady",function(){t.tooltipFor({selector:"["+e.config.event_attribute+"]",html:t=>{if(e._mobile&&!e.config.touch_tooltip)return;const n=e._locate_event(t.target);if(e.getEvent(n)){const t=e.getEvent(n);return e.templates.tooltip_text(t.start_date,t.end_date,t)}return null},global:!1})}),e.attachEvent("onDestroy",function(){t.destructor()}),e.attachEvent("onLightbox",function(){t.hideTooltip()}),e.attachEvent("onBeforeDrag",function(){return e._mobile&&e.config.touch_tooltip||t.hideTooltip(),!0}),e.attachEvent("onEventDeleted",function(){return t.hideTooltip(),!0})},treetimeline:function(e){Ci("Tree Timeline",e.assert)},units:function(e){Ci("Units",e.assert)},url:function(e){e._get_url_nav=function(){for(var e={},t=(document.location.hash||"").replace("#","").split(","),n=0;n<t.length;n++){var a=t[n].split("=");2==a.length&&(e[a[0]]=a[1])}return e},e.attachEvent("onTemplatesReady",function(){var t=!0,n=e.date.str_to_date("%Y-%m-%d"),a=e.date.date_to_str("%Y-%m-%d"),r=e._get_url_nav().event||null;function i(t){if(e.$destroyed)return!0;r=t,e.getEvent(t)&&e.showEvent(t)}e.attachEvent("onAfterEventDisplay",function(e){return r=null,!0}),e.attachEvent("onBeforeViewChange",function(o,d,s,l){if(t){t=!1;var c=e._get_url_nav();if(c.event)try{if(e.getEvent(c.event))return setTimeout(function(){i(c.event)}),!1;var _=e.attachEvent("onXLE",function(){setTimeout(function(){i(c.event)}),e.detachEvent(_)})}catch{}if(c.date||c.mode){try{this.setCurrentView(c.date?n(c.date):null,c.mode||null)}catch{this.setCurrentView(c.date?n(c.date):null,s)}return!1}}var h=["date="+a(l||d),"mode="+(s||o)];r&&h.push("event="+r);var u="#"+h.join(",");return document.location.hash=u,!0})})},week_agenda:function(e){Ci("Week Agenda",e.assert)},wp:function(e){e.attachEvent("onLightBox",function(){if(this._cover)try{this._cover.style.height=this.expanded?"100%":(document.body.parentNode||document.body).scrollHeight+"px"}catch{}}),e.form_blocks.select.set_value=function(e,t,n){void 0!==t&&""!==t||(t=(e.firstChild.options[0]||{}).value),e.firstChild.value=t||""}},year_view:function(e){e.templates.year_date=function(t){return e.date.date_to_str(e.locale.labels.year_tab+" %Y")(t)},e.templates.year_month=e.date.date_to_str("%F"),e.templates.year_scale_date=e.date.date_to_str("%D"),e.templates.year_tooltip=function(e,t,n){return n.text};const t=function(){return"year"==e._mode},n=function(t){var n=e.$domHelpers.closest(t,"[data-cell-date]");return n&&n.hasAttribute("data-cell-date")?e.templates.parse_date(n.getAttribute("data-cell-date")):null};e.dblclick_dhx_year_grid=function(a){if(t()){const t=a.target;if(e.$domHelpers.closest(t,".dhx_before")||e.$domHelpers.closest(t,".dhx_after"))return!1;const r=n(t);if(r){const e=r,t=this.date.add(e,1,"day");!this.config.readonly&&this.config.dblclick_create&&this.addEventNow(e.valueOf(),t.valueOf(),a)}}},e.attachEvent("onEventIdChange",function(){t()&&this.year_view(!0)});var a=e.render_data;e.render_data=function(e){if(!t())return a.apply(this,arguments);for(var n=0;n<e.length;n++)this._year_render_event(e[n])};var r=e.clear_view;e.clear_view=function(){if(!t())return r.apply(this,arguments);var n=e._year_marked_cells;for(var a in n)n.hasOwnProperty(a)&&n[a].classList.remove("dhx_year_event","dhx_cal_datepicker_event");e._year_marked_cells={}},e._hideToolTip=function(){this._tooltip&&(this._tooltip.style.display="none",this._tooltip.date=new Date(9999,1,1))},e._showToolTip=function(t,n,a,r){if(this._tooltip){if(this._tooltip.date.valueOf()==t.valueOf())return;this._tooltip.innerHTML=""}else{var i=this._tooltip=document.createElement("div");i.className="dhx_year_tooltip",this.config.rtl&&(i.className+=" dhx_tooltip_rtl"),document.body.appendChild(i),i.addEventListener("click",e._click.dhx_cal_data),i.addEventListener("click",function(t){if(t.target.closest(`[${e.config.event_attribute}]`)){const n=t.target.closest(`[${e.config.event_attribute}]`).getAttribute(e.config.event_attribute);e.showLightbox(n)}})}for(var o=this.getEvents(t,this.date.add(t,1,"day")),d="",s=0;s<o.length;s++){var l=o[s];if(this.filter_event(l.id,l)){var c=l.color?"--dhx-scheduler-event-background:"+l.color+";":"",_=l.textColor?"--dhx-scheduler-event-color:"+l.textColor+";":"";d+="<div class='dhx_tooltip_line' style='"+c+_+"' event_id='"+o[s].id+"' "+this.config.event_attribute+"='"+o[s].id+"'>",d+="<div class='dhx_tooltip_date' style='"+c+_+"'>"+(o[s]._timed?this.templates.event_date(o[s].start_date):"")+"</div>",d+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",d+=this.templates.year_tooltip(o[s].start_date,o[s].end_date,o[s])+"</div>"}}this._tooltip.style.display="",this._tooltip.style.top="0px",document.body.offsetWidth-n.left-this._tooltip.offsetWidth<0?this._tooltip.style.left=n.left-this._tooltip.offsetWidth+"px":this._tooltip.style.left=n.left+r.offsetWidth+"px",this._tooltip.date=t,this._tooltip.innerHTML=d,document.body.offsetHeight-n.top-this._tooltip.offsetHeight<0?this._tooltip.style.top=n.top-this._tooltip.offsetHeight+r.offsetHeight+"px":this._tooltip.style.top=n.top+"px"},e._year_view_tooltip_handler=function(n){if(t()){var a=n.target||n.srcElement;"a"==a.tagName.toLowerCase()&&(a=a.parentNode),-1!=e._getClassName(a).indexOf("dhx_year_event")?e._showToolTip(e.templates.parse_date(a.getAttribute("data-year-date")),e.$domHelpers.getOffset(a),n,a):e._hideToolTip()}},e._init_year_tooltip=function(){e._detachDomEvent(e._els.dhx_cal_data[0],"mouseover",e._year_view_tooltip_handler),e.event(e._els.dhx_cal_data[0],"mouseover",e._year_view_tooltip_handler)},e._get_year_cell=function(t){for(var n=e.templates.format_date(t),a=this.$root.querySelectorAll(`.dhx_cal_data .dhx_cal_datepicker_date[data-cell-date="${n}"]`),r=0;r<a.length;r++)if(!e.$domHelpers.closest(a[r],".dhx_after, .dhx_before"))return a[r];return null},e._year_marked_cells={},e._mark_year_date=function(t,n){var a=e.templates.format_date(t),r=this._get_year_cell(t);if(r){var i=this.templates.event_class(n.start_date,n.end_date,n);e._year_marked_cells[a]||(r.classList.add("dhx_year_event","dhx_cal_datepicker_event"),r.setAttribute("data-year-date",a),r.setAttribute("date",a),e._year_marked_cells[a]=r),i&&r.classList.add(i)}},e._unmark_year_date=function(e){var t=this._get_year_cell(e);t&&t.classList.remove("dhx_year_event","dhx_cal_datepicker_event")},e._year_render_event=function(e){var t=e.start_date;for(t=t.valueOf()<this._min_date.valueOf()?this._min_date:this.date.date_part(new Date(t));t<e.end_date;)if(this._mark_year_date(t,e),(t=this.date.add(t,1,"day")).valueOf()>=this._max_date.valueOf())return},e.year_view=function(t){if(e.set_sizes(),e._table_view=t,!this._load_mode||!this._load())if(t){if(e._init_year_tooltip(),e._reset_year_scale(),e._load_mode&&e._load())return void(e._render_wait=!0);e.render_view_data()}else e._hideToolTip()},e._reset_year_scale=function(){var t=this._els.dhx_cal_data[0];t.scrollTop=0,t.innerHTML="";let n=this.date.year_start(new Date(this._date));this._min_date=this.date.week_start(new Date(n));const a=document.createElement("div");a.classList.add("dhx_year_wrapper");let r=n;for(let t=0;t<12;t++){let t=document.createElement("div");t.className="dhx_year_box",t.setAttribute("date",this._helpers.formatDate(r)),t.setAttribute("data-month-date",this._helpers.formatDate(r)),t.innerHTML=`<div class='dhx_year_month'>${this.templates.year_month(r)}</div>\n\t\t\t<div class='dhx_year_grid'></div>`;const n=t.querySelector(".dhx_year_grid"),i=e._createDatePicker(null,{date:r,filterDays:e.ignore_year,minWeeks:6});i._renderDayGrid(n),i.destructor(),a.appendChild(t),r=this.date.add(r,1,"month")}t.appendChild(a);let i=this.date.add(n,1,"year");i.valueOf()!=this.date.week_start(new Date(i)).valueOf()&&(i=this.date.week_start(new Date(i)),i=this.date.add(i,1,"week")),this._max_date=i;var o=this._getNavDateElement();o&&(o.innerHTML=this.templates[this._mode+"_date"](n,i,this._mode))};var i=e.getActionData;e.getActionData=function(a){return t()?{date:n(a.target),section:null}:i.apply(e,arguments)};var o=e._locate_event;e._locate_event=function(t){var a=o.apply(e,arguments);if(!a){var r=n(t);if(!r)return null;var i=e.getEvents(r,e.date.add(r,1,"day"));if(!i.length)return null;a=i[0].id}return a},e.attachEvent("onDestroy",function(){e._hideToolTip()})}},Od=new class{constructor(e){this._seed=0,this._schedulerPlugins=[],this._bundledExtensions=e,this._extensionsManager=new Ti(e)}plugin(e){this._schedulerPlugins.push(e),Wr.scheduler&&e(Wr.scheduler)}getSchedulerInstance(e){for(var t=Mi(this._extensionsManager),n=0;n<this._schedulerPlugins.length;n++)this._schedulerPlugins[n](t);return t._internal_id=this._seed++,this.$syncFactory&&this.$syncFactory(t),e&&this._initFromConfig(t,e),t}_initFromConfig(e,t){if(t.plugins&&e.plugins(t.plugins),t.config&&e.mixin(e.config,t.config,!0),t.templates&&e.attachEvent("onTemplatesReady",function(){e.mixin(e.templates,t.templates,!0)},{once:!0}),t.events)for(const n in t.events)e.attachEvent(n,t.events[n]);t.locale&&e.i18n.setLocale(t.locale),Array.isArray(t.calendars)&&t.calendars.forEach(function(t){e.addCalendar(t)}),t.container?e.init(t.container):e.init(),t.data&&("string"==typeof t.data?e.load(t.data):e.parse(t.data))}}(Nd),zd=Od.getSchedulerInstance(),Ld={plugin:zd.bind(Od.plugin,Od)};window.scheduler=zd,window.Scheduler=Ld,window.$dhx||(window.$dhx={}),window.$dhx.scheduler=zd,window.$dhx.Scheduler=Ld;const Hd={class:"scheduler-wrapper"},$d={ref:"SchedulerComponent",class:"scheduler-container"};i(512);const Fd={props:{events:{type:Array,default:()=>[]}},data:()=>({isSchedulerInitialized:!1,schedulerContainer:null,lastProcessedEvents:null,isUpdating:!1,updateTimeout:null,isVueUpdating:!1,schedulerInstance:yt(zd)}),methods:{$_initDataProcessor:function(){this.schedulerInstance.$_dataProcessorInitialized||(this.schedulerInstance.createDataProcessor((e,t,n,a)=>{this.isVueUpdating=!0,this.$emit(`${e}-updated`,a,t,n),this.$nextTick(()=>{this.isVueUpdating=!1})}),this.schedulerInstance.$_dataProcessorInitialized=!0)},updateScheduler(){try{if(this.isUpdating||this.isVueUpdating)return;if(this.$refs.SchedulerComponent&&this.isSchedulerInitialized&&this.events){const e=JSON.stringify(this.events);if(this.lastProcessedEvents===e)return;this.isUpdating=!0,this.isVueUpdating=!0,this.schedulerInstance.clearAll(),this.schedulerInstance.parse(this.events),this.lastProcessedEvents=e,this.$nextTick(()=>{this.isUpdating=!1,this.isVueUpdating=!1})}}catch(e){console.warn("Ошибка при обновлении планировщика:",e),this.isUpdating=!1,this.isVueUpdating=!1}},debouncedUpdateScheduler(){this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateScheduler()},200)},initializeScheduler(){try{if(!this.schedulerInstance)return void console.error("SchedulerComponent: schedulerInstance не определен");if(!this.schedulerInstance.config)return void console.error("SchedulerComponent: schedulerInstance.config не определен");if(this.schedulerInstance.skin="material",this.schedulerInstance.config.header=["day","week","month","date","prev","today","next"],this.$_initDataProcessor(),this.schedulerInstance.config.hour_size_px=108,this.schedulerInstance.config.first_hour=7,this.schedulerInstance.config.last_hour=22,this.schedulerInstance.config.readonly=!0,this.schedulerInstance.config.scroll_hour=8,this.schedulerInstance.config.preserve_scroll=!0,this.schedulerInstance.config.drag_resize=!1,this.schedulerInstance.config.drag_move=!1,this.schedulerInstance.config.auto_scheduling=!1,this.schedulerInstance.config.auto_scheduling_strict=!1,this.schedulerInstance.config.auto_end_date=!1,this.schedulerInstance.config.month_dy=60,this.schedulerInstance.config.month_date="%j",this.schedulerInstance.config.month_scale_height=60,this.schedulerInstance.config.month_events_limit=10,this.schedulerInstance.config.month_show_events_text=!0,this.schedulerInstance.config.month_events_link=!0,this.schedulerInstance.config.event_dy=20,this.schedulerInstance.config.event_min_dy=18,this.schedulerInstance.config.event_max_dy=60,this.schedulerInstance.config.event_text_size=12,this.schedulerInstance.config.event_text_line_height=16,this.schedulerInstance.config.month_dy=80,this.schedulerInstance.config.month_scale_height=70,this.schedulerInstance.config.month_events_limit=15,this.schedulerInstance.config.month_show_events_text=!0,this.schedulerInstance.config.month_events_link=!0,this.schedulerInstance.config.month_date="%F %Y",this.schedulerInstance.config.event_dy=22,this.schedulerInstance.config.event_min_dy=20,this.schedulerInstance.config.event_max_dy=80,this.schedulerInstance.config.event_text_size=13,this.schedulerInstance.config.event_text_line_height=18,this.schedulerInstance.config.event_text_color="#ffffff",this.schedulerInstance.config.event_text_border="1px solid rgba(255,255,255,0.3)",this.schedulerInstance.config.month_events_link=!0,this.schedulerInstance.config.month_show_events_text=!0,this.schedulerInstance.config.month_events_limit=20,!this.$refs.SchedulerComponent)return void console.error("SchedulerComponent: Элемент SchedulerComponent не найден");this.schedulerInstance.init(this.$refs.SchedulerComponent,new Date,"week"),this.isSchedulerInitialized=!0,this.schedulerInstance.i18n?(this.schedulerInstance.i18n.setLocale("ru"),this.schedulerInstance.i18n.labels&&(this.schedulerInstance.i18n.labels.month_tab="Месяц",this.schedulerInstance.i18n.labels.week_tab="Неделя",this.schedulerInstance.i18n.labels.day_tab="День")):console.warn("SchedulerComponent: i18n недоступен, пропускаем настройку локализации"),this.schedulerInstance.config.month_date="%F %Y",this.schedulerInstance.config.day_date="%j %F",this.schedulerInstance.config.week_date="%j %F",this.schedulerInstance.config.date_format="%d.%m.%Y",this.schedulerInstance.config.time_format="%H:%i",this.events&&this.events.length>0?this.updateScheduler():console.log("SchedulerComponent: Нет начальных событий для парсинга")}catch(e){console.error("Ошибка при инициализации планировщика:",e),this.isSchedulerInitialized=!1}}},watch:{events:{handler(e,t){if(e&&this.isSchedulerInitialized&&!this.isUpdating&&!this.isVueUpdating){JSON.stringify(e)!==JSON.stringify(t)&&this.debouncedUpdateScheduler()}},deep:!1,flush:"post"}},mounted:function(){this.$nextTick(()=>{this.initializeScheduler()})},beforeUnmount(){try{this.updateTimeout&&clearTimeout(this.updateTimeout),this.isSchedulerInitialized&&(this.schedulerInstance.clearAll(),this.isSchedulerInitialized=!1)}catch(e){console.warn("Ошибка при очистке планировщика:",e)}}};i(393);var jd=i(262);const Id=(0,jd.A)(Fd,[["render",function(e,t,n,a,r,i){return ar(),sr("div",Hd,[pr("div",$d,null,512)])}],["__scopeId","data-v-d82ba79a"]]);let qd;const Rd="undefined"!=typeof window&&window.trustedTypes;if(Rd)try{qd=Rd.createPolicy("vue",{createHTML:e=>e})}catch(yo){}const Pd=qd?e=>qd.createHTML(e):e=>e,Ud="undefined"!=typeof document?document:null,Yd=Ud&&Ud.createElement("template"),Vd={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const r="svg"===t?Ud.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?Ud.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?Ud.createElement(e,{is:n}):Ud.createElement(e);return"select"===e&&a&&null!=a.multiple&&r.setAttribute("multiple",a.multiple),r},createText:e=>Ud.createTextNode(e),createComment:e=>Ud.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ud.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),r!==i&&(r=r.nextSibling););else{Yd.innerHTML=Pd("svg"===a?`<svg>${e}</svg>`:"mathml"===a?`<math>${e}</math>`:e);const r=Yd.content;if("svg"===a||"mathml"===a){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Bd=Symbol("_vtc");Boolean;const Wd=Symbol("_vod"),Jd=Symbol("_vsh");const Kd=Symbol("");const Gd=/(^|;)\s*display\s*:/;const Xd=/\s*!important$/;function Zd(e,t,n){if(u(n))n.forEach(n=>Zd(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=function(e,t){const n=es[t];if(n)return n;let a=T(t);if("filter"!==a&&a in e)return es[t]=a;a=O(a);for(let n=0;n<Qd.length;n++){const r=Qd[n]+a;if(r in e)return es[t]=r}return t}(e,t);Xd.test(n)?e.setProperty(N(a),n.replace(Xd,""),"important"):e[a]=n}}const Qd=["Webkit","Moz","ms"],es={};const ts="http://www.w3.org/1999/xlink";function ns(e,t,n,a,r,i=J(t)){a&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(ts,t.slice(6,t.length)):e.setAttributeNS(ts,t,n):null==n||i&&!K(n)?e.removeAttribute(t):e.setAttribute(t,i?"":x(n)?String(n):n)}function as(e,t,n,a,r){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?Pd(n):n));const i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){const a="OPTION"===i?e.getAttribute("value")||"":e.value,r=null==n?"checkbox"===e.type?"on":"":String(n);return a===r&&"_value"in e||(e.value=r),null==n&&e.removeAttribute(t),void(e._value=n)}let o=!1;if(""===n||null==n){const a=typeof e[t];"boolean"===a?n=K(n):null==n&&"string"===a?(n="",o=!0):"number"===a&&(n=0,o=!0)}try{e[t]=n}catch(e){0}o&&e.removeAttribute(r||t)}function rs(e,t,n,a){e.addEventListener(t,n,a)}const is=Symbol("_vei");function os(e,t,n,a,r=null){const i=e[is]||(e[is]={}),o=i[t];if(a&&o)o.value=a;else{const[n,d]=function(e){let t;if(ds.test(e)){let n;for(t={};n=e.match(ds);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):N(e.slice(2));return[n,t]}(t);if(a){const o=i[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();qt(function(e,t){if(u(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=cs(),n}(a,r);rs(e,n,o,d)}else o&&(!function(e,t,n,a){e.removeEventListener(t,n,a)}(e,n,o,d),i[t]=void 0)}}const ds=/(?:Once|Passive|Capture)$/;let ss=0;const ls=Promise.resolve(),cs=()=>ss||(ls.then(()=>ss=0),ss=Date.now());const _s=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;"undefined"!=typeof HTMLElement&&HTMLElement;Symbol("_moveCb"),Symbol("_enterCb");const hs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return u(t)?e=>$(t,e):t};function us(e){e.target.composing=!0}function ps(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const fs=Symbol("_assign"),vs={created(e,{modifiers:{lazy:t,trim:n,number:a}},r){e[fs]=hs(r);const i=a||r.props&&"number"===r.props.type;rs(e,t?"change":"input",t=>{if(t.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=j(a)),e[fs](a)}),n&&rs(e,"change",()=>{e.value=e.value.trim()}),t||(rs(e,"compositionstart",us),rs(e,"compositionend",ps),rs(e,"change",ps))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:a,trim:r,number:i}},o){if(e[fs]=hs(o),e.composing)return;const d=null==t?"":t;if((!i&&"number"!==e.type||/^0\d/.test(e.value)?e.value:j(e.value))!==d){if(document.activeElement===e&&"range"!==e.type){if(a&&t===n)return;if(r&&e.value.trim()===d)return}e.value=d}}},gs={deep:!0,created(e,t,n){e[fs]=hs(n),rs(e,"change",()=>{const t=e._modelValue,n=ys(e),a=e.checked,r=e[fs];if(u(t)){const e=X(t,n),i=-1!==e;if(a&&!i)r(t.concat(n));else if(!a&&i){const n=[...t];n.splice(e,1),r(n)}}else if(f(t)){const e=new Set(t);a?e.add(n):e.delete(n),r(e)}else r(ws(e,a))})},mounted:ms,beforeUpdate(e,t,n){e[fs]=hs(n),ms(e,t,n)}};function ms(e,{value:t,oldValue:n},a){let r;if(e._modelValue=t,u(t))r=X(t,a.props.value)>-1;else if(f(t))r=t.has(a.props.value);else{if(t===n)return;r=G(t,ws(e,!0))}e.checked!==r&&(e.checked=r)}const xs={deep:!0,created(e,{value:t,modifiers:{number:n}},a){const r=f(t);rs(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?j(ys(e)):ys(e));e[fs](e.multiple?r?new Set(t):t:t[0]),e._assigning=!0,Kt(()=>{e._assigning=!1})}),e[fs]=hs(a)},mounted(e,{value:t}){bs(e,t)},beforeUpdate(e,t,n){e[fs]=hs(n)},updated(e,{value:t}){e._assigning||bs(e,t)}};function bs(e,t){const n=e.multiple,a=u(t);if(!n||a||f(t)){for(let r=0,i=e.options.length;r<i;r++){const i=e.options[r],o=ys(i);if(n)if(a){const e=typeof o;i.selected="string"===e||"number"===e?t.some(e=>String(e)===String(o)):X(t,o)>-1}else i.selected=t.has(o);else if(G(ys(i),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function ys(e){return"_value"in e?e._value:e.value}function ws(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ks=l({patchProp:(e,t,n,a,r,i)=>{const o="svg"===r;"class"===t?function(e,t,n){const a=e[Bd];a&&(t=(t?[t,...a]:[...a]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,a,o):"style"===t?function(e,t,n){const a=e.style,r=m(n);let i=!1;if(n&&!r){if(t)if(m(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&Zd(a,t,"")}else for(const e in t)null==n[e]&&Zd(a,e,"");for(const e in n)"display"===e&&(i=!0),Zd(a,e,n[e])}else if(r){if(t!==n){const e=a[Kd];e&&(n+=";"+e),a.cssText=n,i=Gd.test(n)}}else t&&e.removeAttribute("style");Wd in e&&(e[Wd]=i?a.display:"",e[Jd]&&(a.display="none"))}(e,n,a):d(t)?s(t)||os(e,t,0,a,i):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,a){if(a)return"innerHTML"===t||"textContent"===t||!!(t in e&&_s(t)&&g(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(_s(t)&&m(n))return!1;return t in e}(e,t,a,o))?(as(e,t,a),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||ns(e,t,a,o,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&m(a)?("true-value"===t?e._trueValue=a:"false-value"===t&&(e._falseValue=a),ns(e,t,a,o)):as(e,T(t),a,0,t)}},Vd);let Es;function Ds(){return Es||(Es=Aa(ks))}const Ss=(...e)=>{const t=Ds().createApp(...e);const{mount:n}=t;return t.mount=e=>{const a=Ms(e);if(!a)return;const r=t._component;g(r)||r.render||r.template||(r.template=a.innerHTML),1===a.nodeType&&(a.textContent="");const i=n(a,!1,As(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),i},t};function As(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function Ms(e){if(m(e)){return document.querySelector(e)}return e}const Ts={class:"schedule-toolbar"},Cs={class:"toolbar-container"},Ns={key:0,class:"role-selector"},Os={class:"role-button"},zs=["disabled"],Ls={class:"role-button"},Hs=["disabled"],$s={key:1,class:"filters-section"},Fs={class:"filter-group"},js=["disabled"],Is=["value"],qs={class:"filter-group"},Rs={class:"searchable-dropdown"},Ps=["placeholder","disabled"],Us={key:0,class:"dropdown-list"},Ys={key:0,class:"dropdown-loading"},Vs={class:"dropdown-empty"},Bs=["onClick"],Ws={class:"filter-group"},Js={class:"date-range-picker"},Ks=["disabled"],Gs=["disabled"],Xs={class:"filter-group"},Zs={class:"quick-filters"},Qs=["disabled"],el=["disabled"],tl=["disabled"],nl={class:"filter-group"},al=["disabled"],rl={key:0,class:"loading-spinner"},il={class:"filter-group"},ol={class:"auto-update-label"},dl={key:2,class:"active-filters"},sl={class:"active-filters-header"},ll={class:"active-filters-list"},cl={key:0,class:"filter-tag"},_l={key:1,class:"filter-tag"},hl={key:2,class:"filter-tag"};var ul=!1;function pl(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}let fl;const vl=e=>fl=e,gl=Symbol();function ml(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var xl;!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(xl||(xl={}));const bl="undefined"!=typeof window,yl=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function wl(e,t,n){const a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Al(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function kl(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function El(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const Dl="object"==typeof navigator?navigator:{userAgent:""},Sl=(()=>/Macintosh/.test(Dl.userAgent)&&/AppleWebKit/.test(Dl.userAgent)&&!/Safari/.test(Dl.userAgent))(),Al=bl?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!Sl?function(e,t="download",n){const a=document.createElement("a");a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?kl(a.href)?wl(e,t,n):(a.target="_blank",El(a)):El(a)):(a.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){El(a)},0))}:"msSaveOrOpenBlob"in Dl?function(e,t="download",n){if("string"==typeof e)if(kl(e))wl(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout(function(){El(t)})}else navigator.msSaveOrOpenBlob(function(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,a){(a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading...");if("string"==typeof e)return wl(e,t,n);const r="application/octet-stream"===e.type,i=/constructor/i.test(String(yl.HTMLElement))||"safari"in yl,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&i||Sl)&&"undefined"!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw a=null,new Error("Wrong reader.result type");e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location.assign(e),a=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);a?a.location.assign(t):location.href=t,a=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}:()=>{};const{assign:Ml}=Object;const Tl=()=>{};function Cl(e,t,n,a=Tl){e.push(t);const r=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),a())};var i;return!n&&oe()&&(i=r,ne&&ne.cleanups.push(i)),r}function Nl(e,...t){e.slice().forEach(e=>{e(...t)})}const Ol=e=>e(),zl=Symbol(),Ll=Symbol();function Hl(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const a=t[n],r=e[n];ml(r)&&ml(a)&&e.hasOwnProperty(n)&&!Et(a)&&!vt(a)?e[n]=Hl(r,a):e[n]=a}return e}const $l=Symbol();function Fl(e){return!ml(e)||!e.hasOwnProperty($l)}const{assign:jl}=Object;function Il(e){return!(!Et(e)||!e.effect)}function ql(e,t,n,a){const{state:r,actions:i,getters:o}=t,d=n.state.value[e];let s;return s=Rl(e,function(){d||(ul?pl(n.state.value,e,r?r():{}):n.state.value[e]=r?r():{});const t=function(e){const t=u(e)?new Array(e.length):{};for(const n in e)t[n]=Ot(e,n);return t}(n.state.value[e]);return jl(t,i,Object.keys(o||{}).reduce((t,a)=>(t[a]=yt(Vr(()=>{vl(n);const t=n._s.get(e);if(!ul||t._r)return o[a].call(t,t)})),t),{}))},t,n,a,!0),s}function Rl(e,t,n={},a,r,i){let o;const d=jl({actions:{}},n);const s={deep:!0};let l,c;let _,h=[],u=[];const p=a.state.value[e];i||p||(ul?pl(a.state.value,e,{}):a.state.value[e]={});Dt({});let f;function v(t){let n;l=c=!1,"function"==typeof t?(t(a.state.value[e]),n={type:xl.patchFunction,storeId:e,events:_}):(Hl(a.state.value[e],t),n={type:xl.patchObject,payload:t,storeId:e,events:_});const r=f=Symbol();Kt().then(()=>{f===r&&(l=!0)}),c=!0,Nl(h,n,a.state.value[e])}const g=i?function(){const{state:e}=n,t=e?e():{};this.$patch(e=>{jl(e,t)})}:Tl;const m=(t,n="")=>{if(zl in t)return t[Ll]=n,t;const r=function(){vl(a);const n=Array.from(arguments),i=[],o=[];let d;Nl(u,{args:n,name:r[Ll],store:b,after:function(e){i.push(e)},onError:function(e){o.push(e)}});try{d=t.apply(this&&this.$id===e?this:b,n)}catch(e){throw Nl(o,e),e}return d instanceof Promise?d.then(e=>(Nl(i,e),e)).catch(e=>(Nl(o,e),Promise.reject(e))):(Nl(i,d),d)};return r[zl]=!0,r[Ll]=n,r},x={_p:a,$id:e,$onAction:Cl.bind(null,u),$patch:v,$reset:g,$subscribe(t,n={}){const r=Cl(h,t,n.detached,()=>i()),i=o.run(()=>$a(()=>a.state.value[e],a=>{("sync"===n.flush?c:l)&&t({storeId:e,type:xl.direct,events:_},a)},jl({},s,n)));return r},$dispose:function(){o.stop(),h=[],u=[],a._s.delete(e)}};ul&&(x._r=!1);const b=ut(x);a._s.set(e,b);const y=(a._a&&a._a.runWithContext||Ol)(()=>a._e.run(()=>(o=ie()).run(()=>t({action:m}))));for(const t in y){const n=y[t];if(Et(n)&&!Il(n)||vt(n))i||(p&&Fl(n)&&(Et(n)?n.value=p[t]:Hl(n,p[t])),ul?pl(a.state.value[e],t,n):a.state.value[e][t]=n);else if("function"==typeof n){const e=m(n,t);ul?pl(y,t,e):y[t]=e,d.actions[t]=n}else 0}return ul?Object.keys(y).forEach(e=>{pl(b,e,y[e])}):(jl(b,y),jl(bt(b),y)),Object.defineProperty(b,"$state",{get:()=>a.state.value[e],set:e=>{v(t=>{jl(t,e)})}}),ul&&(b._r=!0),a._p.forEach(e=>{jl(b,o.run(()=>e({store:b,app:a._a,pinia:a,options:d})))}),p&&i&&n.hydrate&&n.hydrate(b.$state,p),l=!0,c=!0,b}function Pl(e,t,n){let a,r;const i="function"==typeof t;function o(e,n){const o=!(!Mr()&&!la);(e=e||(o?ca(gl,null):null))&&vl(e),(e=fl)._s.has(a)||(i?Rl(a,t,r,e):ql(a,r,e));return e._s.get(a)}return"string"==typeof e?(a=e,r=i?n:t):(r=e,a=e.id),o.$id=a,o}var Ul=i(536);const Yl=Pl("params",{state:()=>({params:null,events:[],isInitialized:!1,currentFilters:{courseId:"",groupId:null,startDate:"",endDate:""},courses:[],groups:[]}),getters:{getParams:e=>e.params,isParamsInitialized:e=>e.isInitialized,getEvents:e=>e.events,getCurrentFilters:e=>e.currentFilters,getCourses:e=>e.courses,getGroups:e=>e.groups},actions:{async getScheduleData(e=""){try{""===e&&(this.params.isStudent?e="student":this.params.isTeacher&&(e="teacher"));const t={methodname:"block_cdo_schedule_get_schedule_data",args:{type:e}},n=await Ul.call([t])[0];this.events=n||[]}catch(e){console.error("Ошибка при получении данных расписания:",e),this.events=[]}},async getScheduleDataWithFilters(e){try{this.currentFilters=e;let t="";this.params.isStudent?t="student":this.params.isTeacher&&(t="teacher");const n={methodname:"block_cdo_schedule_get_full_schedule",args:{type:t,course_id:e.courseId||"",group_id:e.groupId||"",start_date:e.startDate||"",end_date:e.endDate||""}},a=await Ul.call([n])[0];this.events=a||[]}catch(e){console.error("Ошибка при получении данных расписания с фильтрами:",e),this.events=[]}},async loadCourses(){try{const e={methodname:"block_cdo_schedule_get_courses",args:{}},t=await Ul.call([e])[0];this.courses=t||[]}catch(e){console.error("Ошибка при загрузке курсов:",e),this.courses=[]}},async loadGroups(e=""){try{const t={methodname:"block_cdo_schedule_get_groups",args:{courseId:e}},n=await Ul.call([t])[0];this.groups=n||[]}catch(e){console.error("Ошибка при загрузке групп:",e),this.groups=[]}},initializeParams(e){this.params=e,this.isInitialized=!0},getParam(e){return this.params?.[e]},updateParam(e,t){this.params&&(this.params[e]=t)},resetParams(){this.params=null,this.isInitialized=!1,this.events=[],this.currentFilters={courseId:"",groupId:null,startDate:"",endDate:""}},addEvent(e){this.events.push(e)},removeEvent(e){this.events=this.events.filter(t=>t.id!==e)},updateEvent(e,t){this.events=this.events.map(n=>n.id===e?{...n,...t}:n)},clearEvents(){this.events=[]},updateFilters(e){this.currentFilters={...this.currentFilters,...e}},clearFilters(){this.currentFilters={courseId:"",groupId:null,startDate:"",endDate:""}}}}),Vl={name:"ScheduleToolbar",props:{isLoading:{type:Boolean,default:!1},showFilters:{type:Boolean,default:!0},showRoleSelector:{type:Boolean,default:!0}},data:()=>({selectedCourse:"",selectedGroup:null,groupSearch:"",showGroupDropdown:!1,startDate:"",endDate:"",autoUpdate:!0,currentQuickFilter:"week",filteredGroups:[],currentRole:"student",internalShowRoleSelector:!0,internalShowFilters:!0}),computed:{paramsStore:()=>Yl(),courses(){return this.paramsStore.getCourses},groups(){return this.paramsStore.getGroups},shouldShowRoleSelector(){return this.showRoleSelector},shouldShowFilters(){return this.showFilters&&this.internalShowFilters},hasActiveFilters(){return this.selectedCourse||this.selectedGroup||this.startDate||this.endDate},getFilterInfo(){const e=[];if(this.selectedCourse){const t=this.courses.find(e=>e.id==this.selectedCourse);e.push(`Курс: ${t?.name}`)}return this.selectedGroup&&e.push(`Группа: ${this.selectedGroup.name}`),this.startDate&&this.endDate&&e.push(`Период: ${this.formatDate(this.startDate)} - ${this.formatDate(this.endDate)}`),e.join(", ")}},methods:{async onCourseChange(){this.selectedGroup=null,this.groupSearch="",this.selectedCourse&&(console.log("Загружаем группы для курса:",this.selectedCourse),await this.paramsStore.loadGroups(this.selectedCourse),console.log("Загруженные группы:",this.groups)),this.filterGroups(),console.log("Отфильтрованные группы:",this.filteredGroups),this.autoUpdate&&this.updateSchedule()},filterGroups(){if(!this.selectedCourse)return void(this.filteredGroups=[]);let e=this.groups;console.log("Все группы для фильтрации:",e),this.groupSearch&&(e=e.filter(e=>e.name.toLowerCase().includes(this.groupSearch.toLowerCase())),console.log("Группы после фильтрации по поиску:",e)),this.filteredGroups=e,console.log("Итоговые отфильтрованные группы:",this.filteredGroups)},selectGroup(e){this.selectedGroup=e,this.groupSearch=e.name,this.showGroupDropdown=!1,this.autoUpdate&&this.updateSchedule()},onGroupBlur(){setTimeout(()=>{this.showGroupDropdown=!1},300)},onDateChange(){this.autoUpdate&&this.updateSchedule()},setDateRange(e){this.currentQuickFilter=e;const t=new Date;switch(e){case"today":this.startDate=this.formatDateForInput(t),this.endDate=this.formatDateForInput(t);break;case"week":const e=new Date(t);e.setDate(t.getDate()-t.getDay()+1);const n=new Date(e);n.setDate(e.getDate()+6),this.startDate=this.formatDateForInput(e),this.endDate=this.formatDateForInput(n);break;case"month":const a=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0);this.startDate=this.formatDateForInput(a),this.endDate=this.formatDateForInput(r)}this.autoUpdate&&this.updateSchedule()},isQuickFilterActive(e){return this.currentQuickFilter===e},updateSchedule(){const e={courseId:this.selectedCourse,groupId:this.selectedGroup?.id,startDate:this.formatDateForAPI(this.startDate),endDate:this.formatDateForAPI(this.endDate),role:this.currentRole};this.$emit("update-schedule",e)},formatDateForAPI(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}${String(t.getMonth()+1).padStart(2,"0")}${String(t.getDate()).padStart(2,"0")}`},clearFilters(){this.selectedCourse="",this.selectedGroup=null,this.groupSearch="",this.startDate="",this.endDate="",this.currentQuickFilter="week",this.filteredGroups=[],this.updateSchedule()},formatDate:e=>new Date(e).toLocaleDateString("ru-RU"),formatDateForInput:e=>e.toISOString().split("T")[0],selectRole(e){this.currentRole=e,this.internalShowFilters=!0,this.$emit("role-changed",e),this.updateSchedule()},getCourseName(e){const t=this.courses.find(t=>t.id==e);return t?t.name:"Неизвестный курс"},resetToRoleSelection(){this.internalShowFilters=!1,this.clearFilters()}},async mounted(){await this.paramsStore.loadCourses(),this.setDateRange("week"),this.filterGroups()}};i(91);const Bl={name:"Main",components:{SchedulerComponent:Id,ScheduleToolbar:(0,jd.A)(Vl,[["render",function(e,t,n,a,r,i){return ar(),sr("div",Ts,[pr("div",Cs,[xr(" Кнопки выбора роли (всегда отображаются) "),i.shouldShowRoleSelector?(ar(),sr("div",Ns,[pr("div",Os,[pr("button",{class:B(["role-btn",{active:"student"===r.currentRole}]),onClick:t[0]||(t[0]=e=>i.selectRole("student")),disabled:n.isLoading}," Студент ",10,zs)]),pr("div",Ls,[pr("button",{class:B(["role-btn",{active:"teacher"===r.currentRole}]),onClick:t[1]||(t[1]=e=>i.selectRole("teacher")),disabled:n.isLoading}," Преподаватель ",10,Hs)])])):xr("v-if",!0),xr(" Фильтры (отображаются по флагу showFilters) "),i.shouldShowFilters?(ar(),sr("div",$s,[xr(" Выбор курса "),pr("div",Fs,[t[19]||(t[19]=pr("label",{class:"filter-label"},"Курс:",-1)),sn(pr("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedCourse=e),onChange:t[3]||(t[3]=(...e)=>i.onCourseChange&&i.onCourseChange(...e)),class:"filter-select",disabled:n.isLoading},[t[18]||(t[18]=pr("option",{value:""},"Все курсы",-1)),(ar(!0),sr(Xa,null,Pn(i.courses,e=>(ar(),sr("option",{key:e.id,value:e.id},Q(e.name),9,Is))),128))],40,js),[[xs,r.selectedCourse]])]),xr(" Выбор группы "),pr("div",qs,[t[21]||(t[21]=pr("label",{class:"filter-label"},"Группа:",-1)),pr("div",Rs,[sn(pr("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.groupSearch=e),onInput:t[5]||(t[5]=(...e)=>i.filterGroups&&i.filterGroups(...e)),onFocus:t[6]||(t[6]=e=>r.showGroupDropdown=!0),onBlur:t[7]||(t[7]=(...e)=>i.onGroupBlur&&i.onGroupBlur(...e)),placeholder:r.selectedCourse?"Выберите группу...":"Сначала выберите курс",class:"filter-input",disabled:!r.selectedCourse||n.isLoading},null,40,Ps),[[vs,r.groupSearch]]),r.showGroupDropdown?(ar(),sr("div",Us,[xr(" Индикатор загрузки "),n.isLoading?(ar(),sr("div",Ys,t[20]||(t[20]=[pr("span",{class:"loading-spinner"},null,-1),mr(" Загрузка групп... ",-1)]))):0===r.filteredGroups.length?(ar(),sr(Xa,{key:1},[xr(" Сообщение если нет групп "),pr("div",Vs,Q(r.groupSearch?"Группы не найдены":"Нет доступных групп"),1)],2112)):(ar(),sr(Xa,{key:2},[xr(" Список групп "),(ar(!0),sr(Xa,null,Pn(r.filteredGroups,e=>(ar(),sr("div",{key:e.id,onClick:t=>i.selectGroup(e),class:B(["dropdown-item",{selected:r.selectedGroup?.id===e.id}])},Q(e.name),11,Bs))),128))],2112))])):xr("v-if",!0)])]),xr(" Выбор даты/периода "),pr("div",Ws,[t[23]||(t[23]=pr("label",{class:"filter-label"},"Период:",-1)),pr("div",Js,[sn(pr("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.startDate=e),type:"date",onChange:t[9]||(t[9]=(...e)=>i.onDateChange&&i.onDateChange(...e)),class:"date-input",disabled:n.isLoading},null,40,Ks),[[vs,r.startDate]]),t[22]||(t[22]=pr("span",{class:"date-separator"},"—",-1)),sn(pr("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.endDate=e),type:"date",onChange:t[11]||(t[11]=(...e)=>i.onDateChange&&i.onDateChange(...e)),class:"date-input",disabled:n.isLoading},null,40,Gs),[[vs,r.endDate]])])]),xr(" Быстрые фильтры дат "),pr("div",Xs,[pr("div",Zs,[pr("button",{onClick:t[12]||(t[12]=e=>i.setDateRange("today")),class:B(["quick-filter-btn",{active:i.isQuickFilterActive("today")}]),disabled:n.isLoading}," Сегодня ",10,Qs),pr("button",{onClick:t[13]||(t[13]=e=>i.setDateRange("week")),class:B(["quick-filter-btn",{active:i.isQuickFilterActive("week")}]),disabled:n.isLoading}," Неделя ",10,el),pr("button",{onClick:t[14]||(t[14]=e=>i.setDateRange("month")),class:B(["quick-filter-btn",{active:i.isQuickFilterActive("month")}]),disabled:n.isLoading}," Месяц ",10,tl)])]),xr(" Кнопка показа расписания "),pr("div",nl,[pr("button",{onClick:t[15]||(t[15]=(...e)=>i.updateSchedule&&i.updateSchedule(...e)),class:"show-schedule-btn",disabled:n.isLoading},[n.isLoading?(ar(),sr("span",rl)):xr("v-if",!0),t[24]||(t[24]=mr(" Показать расписание ",-1))],8,al)]),xr(" Автообновление "),pr("div",il,[pr("label",ol,[sn(pr("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>r.autoUpdate=e),type:"checkbox",class:"auto-update-checkbox"},null,512),[[gs,r.autoUpdate]]),t[25]||(t[25]=mr(" Автообновление ",-1))])])])):xr("v-if",!0),xr(" Активные фильтры "),i.shouldShowFilters&&i.hasActiveFilters?(ar(),sr("div",dl,[pr("div",sl,[t[26]||(t[26]=pr("span",null,"Активные фильтры:",-1)),pr("button",{onClick:t[17]||(t[17]=(...e)=>i.clearFilters&&i.clearFilters(...e)),class:"clear-filters-btn"},"Очистить")]),pr("div",ll,[r.selectedCourse?(ar(),sr("span",cl," Курс: "+Q(i.getCourseName(r.selectedCourse)),1)):xr("v-if",!0),r.selectedGroup?(ar(),sr("span",_l," Группа: "+Q(r.selectedGroup.name),1)):xr("v-if",!0),r.startDate&&r.endDate?(ar(),sr("span",hl," Период: "+Q(i.formatDate(r.startDate))+" — "+Q(i.formatDate(r.endDate)),1)):xr("v-if",!0)])])):xr("v-if",!0)])])}],["__scopeId","data-v-c1c1bc0e"]])},data:()=>({schedulerKey:0,isLoading:!1,menuHeight:60,windowWidth:window.innerWidth,currentFilters:{courseId:"",groupId:null,startDate:"",endDate:""}}),computed:{paramsStore:()=>Yl(),scheduleEvents(){return this.paramsStore.getEvents},containerStyle(){return{top:`${this.menuHeight}px`,height:`calc(100vh - ${this.menuHeight}px)`}}},methods:{async getScheduleData(e=""){if(!this.isLoading){this.isLoading=!0;try{await this.paramsStore.getScheduleData(e),this.schedulerKey++}catch(e){console.error("Ошибка при получении данных расписания:",e)}finally{this.isLoading=!1}}},async handleScheduleUpdate(e){this.currentFilters=e,this.isLoading=!0;try{await this.paramsStore.getScheduleDataWithFilters(e),this.schedulerKey++}catch(e){console.error("Ошибка при обновлении расписания с фильтрами:",e)}finally{this.isLoading=!1}},async handleRoleChange(e){this.isLoading=!0;try{await this.paramsStore.getScheduleData(e),this.schedulerKey++}catch(e){console.error("Ошибка при смене роли:",e)}finally{this.isLoading=!1}},calculateMenuHeight(){const e=document.querySelector(".navbar"),t=document.querySelector("header"),n=document.querySelector("nav");let a=60;e&&(a=Math.max(a,e.offsetHeight)),t&&(a=Math.max(a,t.offsetHeight)),n&&(a=Math.max(a,n.offsetHeight));document.querySelectorAll(".navbar-nav, .nav, .breadcrumb, .page-header").forEach(e=>{e.offsetTop<100&&(a=Math.max(a,e.offsetTop+e.offsetHeight))}),a+=10,this.menuHeight=a},handleResize(){this.windowWidth=window.innerWidth,this.calculateMenuHeight()}},mounted(){this.$nextTick(()=>{this.calculateMenuHeight()}),window.addEventListener("resize",this.handleResize);const e=new MutationObserver(()=>{this.calculateMenuHeight()});e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),this.observer=e},beforeUnmount(){window.removeEventListener("resize",this.handleResize),this.observer&&this.observer.disconnect()},async created(){await this.getScheduleData()}};i(446);const Wl=(0,jd.A)(Bl,[["render",function(e,t,n,a,r,i){const o=jn("ScheduleToolbar"),d=jn("SchedulerComponent");return ar(),sr("div",{class:"schedule-main-container",style:R(i.containerStyle)},[xr(" Панель инструментов для фильтрации "),fr(o,{isLoading:r.isLoading,onUpdateSchedule:i.handleScheduleUpdate,onRoleChanged:i.handleRoleChange,"show-role-selector":!1},null,8,["isLoading","onUpdateSchedule","onRoleChanged"]),(ar(),lr(d,{class:"scheduler-main",events:i.scheduleEvents,key:r.schedulerKey},null,8,["events"]))],4)}],["__scopeId","data-v-56c0acee"]]);var Jl=i(746);const Kl=Pl("lang",{state:()=>({strings:[]}),getters:{getStrings:e=>e.strings},actions:{async loadComponentStrings(e){const t=document.getElementsByTagName("html")[0].getAttribute("lang").replace(/-/g,"_"),n=e+"/strings/"+t,a=Jl.get(n);if(a)this.strings=JSON.parse(a);else{const a={methodname:"core_get_component_strings",args:{component:e,lang:t}},r=await Ul.call([a])[0];let i={};r.forEach(e=>{i[e.stringid]=e.string}),this.strings=i,Jl.set(n,JSON.stringify(i))}}}});i(711),i(608),i(431);async function Gl({isStudent:e,isTeacher:t}){const n=function(){const e=ie(!0),t=e.run(()=>Dt({}));let n=[],a=[];const r=yt({install(e){vl(r),ul||(r._a=e,e.provide(gl,r),e.config.globalProperties.$pinia=r,a.forEach(e=>n.push(e)),a=[])},use(e){return this._a||ul?n.push(e):a.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}(),a=Ss(Wl);a.use(n);Yl().initializeParams({isStudent:e,isTeacher:t});const r=Kl();await r.loadComponentStrings("block_cdo_schedule"),a.mount("#main_app")}})(),o})());