import Vue from 'vue';import Notification from 'core/notification';import Vuex from 'vuex'import {} from "./Plugins/bootstrap";import utility from "@/utility";import VueDraggable from "vuedraggable";import {actions, mutations} from "./Store/store";import {get_strings} from "core/str";Vue.config.productionTip = false;Vue.config.errorHandler = function (err, vm, info) {    Notification.exception(err);};Vue.use(Vuex);Vue.use(VueDraggable);async function init({years, reports, app_type, discipline, discipline_code, group_tab}) {    const component = 'local_cdo_ok';    const keys = [        {key: 'tabs:question_for_discipline', component: component},        {key: 'tabs:question_for_education_program', component: component},        {key: 'all', component: component},        {key: 'active', component: component},        {key: 'archive', component: component},        {key: 'buttons:add', component: component},        {key: 'buttons:construct', component: component},        {key: 'fields:visible', component: component},        {key: 'fields:question_name', component: component},        {key: 'fields:type', component: component},        {key: 'fields:parameters', component: component},        {key: 'title_survey_full', component: component},        {key: 'survey_is_active', component: component},        {key: 'title_not_active_survey', component: component},        {key: 'send_answers', component: component},        {key: 'survey_is_confirmed', component: component},        {key: 'active_survey', component: component}    ];    let strings = await get_strings(keys);    let summaryStrings = {};    let obj = {};    keys.forEach((key, index) => {        obj[key.key] = strings[index];    });    summaryStrings = obj;    if (app_type === 'survey') {        const {default: App} = await import('./AppSurvey.vue');        const store = new Vuex.Store({            state: {                langStrings: summaryStrings,                discipline: discipline,                discipline_code: discipline_code,                group_tab: group_tab,            }        });        const vm = new Vue({            render: h => h(App, {                attrs: {}            }),            store        }).$mount('#main_app');    }    if (app_type === 'admin') {        const {default: App} = await import('./App');        let questions = await utility.ajaxMoodleCall('local_cdo_ok_get_questions');        questions.sort((a, b) => {            return a.group_tab > b.group_tab && a.sort > b.sort;        });        const store = new Vuex.Store({            getters: {                disciplineQuestions: (state) => (group) => {                    return state.questions.filter(                        question => question.group = group                    );                }            },            mutations: mutations,            actions: actions,            state: {                isCreateLoaderOn: false,                questions: questions,                langStrings: summaryStrings,                years: years,                reports: reports,                types: [                    {                        value: 1,                        text: 'Шкала'                    },                    {                        value: 2,                        text: 'Строка'                    }                ],                selectedTab: 0,            },            strict: false,        });        const vm = new Vue({            render: h => h(App, {                attrs: {}            }),            store,        }).$mount('#main_app');    }}export {    init};